/*! For license information please see vendors-common.1877a710ac3c33adf428.js.LICENSE.txt */
(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[8474],{94626:(e,t,r)=>{"use strict";r.d(t,{C6:()=>o,Cl:()=>i,Tt:()=>s,YH:()=>l,fX:()=>c,sH:()=>a});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function c(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create},65380:e=>{"use strict";function t(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}e.exports=t,t.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var o=this.sampleCurveX(r)-e;if(Math.abs(o)<t)return r;var i=this.sampleCurveDerivativeX(r);if(Math.abs(i)<1e-6)break;r-=o/i}var s=0,a=1;for(r=e,n=0;n<20&&(o=this.sampleCurveX(r),!(Math.abs(o-e)<t));n++)e>o?s=r:a=r,r=.5*(a-s)+s;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}}},69899:(e,t,r)=>{"use strict";function n(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof n(e).Element||e instanceof Element}function i(e){return e instanceof n(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof n(e).ShadowRoot||e instanceof ShadowRoot)}r.d(t,{n4:()=>de});var a=Math.max,l=Math.min,c=Math.round;function u(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect(),n=1,o=1;if(i(e)&&t){var s=e.offsetHeight,a=e.offsetWidth;a>0&&(n=c(r.width)/a||1),s>0&&(o=c(r.height)/s||1)}return{width:r.width/n,height:r.height/o,top:r.top/o,right:r.right/n,bottom:r.bottom/o,left:r.left/n,x:r.left/n,y:r.top/o}}function f(e){var t=n(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function d(e){return e?(e.nodeName||"").toLowerCase():null}function h(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return u(h(e)).left+f(e).scrollLeft}function y(e){return n(e).getComputedStyle(e)}function m(e){var t=y(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function g(e,t,r){void 0===r&&(r=!1);var o,s,a=i(t),l=i(t)&&function(e){var t=e.getBoundingClientRect(),r=c(t.width)/e.offsetWidth||1,n=c(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),y=h(t),g=u(e,l),v={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(a||!a&&!r)&&(("body"!==d(t)||m(y))&&(v=(o=t)!==n(o)&&i(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:f(o)),i(t)?((b=u(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):y&&(b.x=p(y))),{x:g.left+v.scrollLeft-b.x,y:g.top+v.scrollTop-b.y,width:g.width,height:g.height}}function v(e){var t=u(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function b(e){return"html"===d(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||h(e)}function w(e){return["html","body","#document"].indexOf(d(e))>=0?e.ownerDocument.body:i(e)&&m(e)?e:w(b(e))}function _(e,t){var r;void 0===t&&(t=[]);var o=w(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),s=n(o),a=i?[s].concat(s.visualViewport||[],m(o)?o:[]):o,l=t.concat(a);return i?l:l.concat(_(b(a)))}function x(e){return["table","td","th"].indexOf(d(e))>=0}function S(e){return i(e)&&"fixed"!==y(e).position?e.offsetParent:null}function E(e){for(var t=n(e),r=S(e);r&&x(r)&&"static"===y(r).position;)r=S(r);return r&&("html"===d(r)||"body"===d(r)&&"static"===y(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&i(e)&&"fixed"===y(e).position)return null;for(var r=b(e);i(r)&&["html","body"].indexOf(d(r))<0;){var n=y(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var k="top",A="bottom",T="right",P="left",O="auto",C=[k,A,T,P],R="start",I="end",M="viewport",D="popper",N=C.reduce((function(e,t){return e.concat([t+"-"+R,t+"-"+I])}),[]),F=[].concat(C,[O]).reduce((function(e,t){return e.concat([t,t+"-"+R,t+"-"+I])}),[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}var U={placement:"bottom",modifiers:[],strategy:"absolute"};function L(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function z(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,s=void 0===i?U:i;return function(e,t,r){void 0===r&&(r=s);var i,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},U,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,f={state:l,setOptions:function(r){var i="function"==typeof r?r(l.options):r;d(),l.options=Object.assign({},s,l.options,i),l.scrollParents={reference:o(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var a=function(e){var t=$(e);return j.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}(function(e){var t=e.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(n,l.options.modifiers)));return l.orderedModifiers=a.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var i=o({state:l,name:t,instance:f,options:n}),s=function(){};c.push(i||s)}})),f.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,r=e.popper;if(L(t,r)){l.rects={reference:g(t,E(r),"fixed"===l.options.strategy),popper:v(r)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<l.orderedModifiers.length;n++)if(!0!==l.reset){var o=l.orderedModifiers[n],i=o.fn,s=o.options,a=void 0===s?{}:s,c=o.name;"function"==typeof i&&(l=i({state:l,options:a,name:c,instance:f})||l)}else l.reset=!1,n=-1}}},update:(i=function(){return new Promise((function(e){f.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){d(),u=!0}};if(!L(e,t))return f;function d(){c.forEach((function(e){return e()})),c=[]}return f.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),f}}var B={passive:!0};function V(e){return e.split("-")[0]}function G(e){return e.split("-")[1]}function H(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?V(o):null,s=o?G(o):null,a=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(i){case k:t={x:a,y:r.y-n.height};break;case A:t={x:a,y:r.y+r.height};break;case T:t={x:r.x+r.width,y:l};break;case P:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?H(i):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case R:t[c]=t[c]-(r[u]/2-n[u]/2);break;case I:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}var W={top:"auto",right:"auto",bottom:"auto",left:"auto"};function X(e){var t,r=e.popper,o=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,l=e.position,u=e.gpuAcceleration,f=e.adaptive,d=e.roundOffsets,p=e.isFixed,m=a.x,g=void 0===m?0:m,v=a.y,b=void 0===v?0:v,w="function"==typeof d?d({x:g,y:b}):{x:g,y:b};g=w.x,b=w.y;var _=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),S=P,O=k,C=window;if(f){var R=E(r),M="clientHeight",D="clientWidth";if(R===n(r)&&"static"!==y(R=h(r)).position&&"absolute"===l&&(M="scrollHeight",D="scrollWidth"),i===k||(i===P||i===T)&&s===I)O=A,b-=(p&&C.visualViewport?C.visualViewport.height:R[M])-o.height,b*=u?1:-1;if(i===P||(i===k||i===A)&&s===I)S=T,g-=(p&&C.visualViewport?C.visualViewport.width:R[D])-o.width,g*=u?1:-1}var N,F=Object.assign({position:l},f&&W),j=!0===d?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:c(t*n)/n||0,y:c(r*n)/n||0}}({x:g,y:b}):{x:g,y:b};return g=j.x,b=j.y,u?Object.assign({},F,((N={})[O]=x?"0":"",N[S]=_?"0":"",N.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",N)):Object.assign({},F,((t={})[O]=x?b+"px":"",t[S]=_?g+"px":"",t.transform="",t))}const Q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,s=F.reduce((function(e,r){return e[r]=function(e,t,r){var n=V(e),o=[P,k].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[P,T].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(r,t.rects,i),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}};var K={left:"right",right:"left",bottom:"top",top:"bottom"};function J(e){return e.replace(/left|right|bottom|top/g,(function(e){return K[e]}))}var Y={start:"end",end:"start"};function Z(e){return e.replace(/start|end/g,(function(e){return Y[e]}))}function ee(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&s(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function te(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function re(e,t){return t===M?te(function(e){var t=n(e),r=h(e),o=t.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;return o&&(i=o.width,s=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,l=o.offsetTop)),{width:i,height:s,x:a+p(e),y:l}}(e)):o(t)?function(e){var t=u(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):te(function(e){var t,r=h(e),n=f(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=a(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=a(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-n.scrollLeft+p(e),c=-n.scrollTop;return"rtl"===y(o||r).direction&&(l+=a(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:l,y:c}}(h(e)))}function ne(e,t,r){var n="clippingParents"===t?function(e){var t=_(b(e)),r=["absolute","fixed"].indexOf(y(e).position)>=0&&i(e)?E(e):e;return o(r)?t.filter((function(e){return o(e)&&ee(e,r)&&"body"!==d(e)})):[]}(e):[].concat(t),s=[].concat(n,[r]),c=s[0],u=s.reduce((function(t,r){var n=re(e,r);return t.top=a(n.top,t.top),t.right=l(n.right,t.right),t.bottom=l(n.bottom,t.bottom),t.left=a(n.left,t.left),t}),re(e,c));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function oe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ie(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function se(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,s=r.boundary,a=void 0===s?"clippingParents":s,l=r.rootBoundary,c=void 0===l?M:l,f=r.elementContext,d=void 0===f?D:f,p=r.altBoundary,y=void 0!==p&&p,m=r.padding,g=void 0===m?0:m,v=oe("number"!=typeof g?g:ie(g,C)),b=d===D?"reference":D,w=e.rects.popper,_=e.elements[y?b:d],x=ne(o(_)?_:_.contextElement||h(e.elements.popper),a,c),S=u(e.elements.reference),E=q({reference:S,element:w,strategy:"absolute",placement:i}),P=te(Object.assign({},w,E)),O=d===D?P:S,R={top:x.top-O.top+v.top,bottom:O.bottom-x.bottom+v.bottom,left:x.left-O.left+v.left,right:O.right-x.right+v.right},I=e.modifiersData.offset;if(d===D&&I){var N=I[i];Object.keys(R).forEach((function(e){var t=[T,A].indexOf(e)>=0?1:-1,r=[k,A].indexOf(e)>=0?"y":"x";R[e]+=N[r]*t}))}return R}function ae(e,t,r){return a(e,l(t,r))}const le={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,s=r.altAxis,c=void 0!==s&&s,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.padding,p=r.tether,y=void 0===p||p,m=r.tetherOffset,g=void 0===m?0:m,b=se(t,{boundary:u,rootBoundary:f,padding:h,altBoundary:d}),w=V(t.placement),_=G(t.placement),x=!_,S=H(w),O="x"===S?"y":"x",C=t.modifiersData.popperOffsets,I=t.rects.reference,M=t.rects.popper,D="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,N="number"==typeof D?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(C){if(i){var $,U="y"===S?k:P,L="y"===S?A:T,z="y"===S?"height":"width",B=C[S],q=B+b[U],W=B-b[L],X=y?-M[z]/2:0,Q=_===R?I[z]:M[z],K=_===R?-M[z]:-I[z],J=t.elements.arrow,Y=y&&J?v(J):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=Z[U],te=Z[L],re=ae(0,I[z],Y[z]),ne=x?I[z]/2-X-re-ee-N.mainAxis:Q-re-ee-N.mainAxis,oe=x?-I[z]/2+X+re+te+N.mainAxis:K+re+te+N.mainAxis,ie=t.elements.arrow&&E(t.elements.arrow),le=ie?"y"===S?ie.clientTop||0:ie.clientLeft||0:0,ce=null!=($=null==F?void 0:F[S])?$:0,ue=B+oe-ce,fe=ae(y?l(q,B+ne-ce-le):q,B,y?a(W,ue):W);C[S]=fe,j[S]=fe-B}if(c){var de,he="x"===S?k:P,pe="x"===S?A:T,ye=C[O],me="y"===O?"height":"width",ge=ye+b[he],ve=ye-b[pe],be=-1!==[k,P].indexOf(w),we=null!=(de=null==F?void 0:F[O])?de:0,_e=be?ge:ye-I[me]-M[me]-we+N.altAxis,xe=be?ye+I[me]+M[me]-we-N.altAxis:ve,Se=y&&be?function(e,t,r){var n=ae(e,t,r);return n>r?r:n}(_e,ye,xe):ae(y?_e:ge,ye,y?xe:ve);C[O]=Se,j[O]=Se-ye}t.modifiersData[n]=j}},requiresIfExists:["offset"]};const ce={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=V(r.placement),l=H(a),c=[P,T].indexOf(a)>=0?"height":"width";if(i&&s){var u=function(e,t){return oe("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ie(e,C))}(o.padding,r),f=v(i),d="y"===l?k:P,h="y"===l?A:T,p=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],y=s[l]-r.rects.reference[l],m=E(i),g=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=p/2-y/2,w=u[d],_=g-f[c]-u[h],x=g/2-f[c]/2+b,S=ae(w,x,_),O=l;r.modifiersData[n]=((t={})[O]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&ee(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ue(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function fe(e){return[k,T,A,P].some((function(t){return e[t]>=0}))}var de=z({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,o=e.options,i=o.scroll,s=void 0===i||i,a=o.resize,l=void 0===a||a,c=n(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach((function(e){e.addEventListener("scroll",r.update,B)})),l&&c.addEventListener("resize",r.update,B),function(){s&&u.forEach((function(e){e.removeEventListener("scroll",r.update,B)})),l&&c.removeEventListener("resize",r.update,B)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,s=void 0===i||i,a=r.roundOffsets,l=void 0===a||a,c={placement:V(t.placement),variation:G(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,X(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,X(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];i(o)&&d(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});i(n)&&d(n)&&(Object.assign(n.style,s),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},Q,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,s=r.altAxis,a=void 0===s||s,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,p=void 0===h||h,y=r.allowedAutoPlacements,m=t.options.placement,g=V(m),v=l||(g===m||!p?[J(m)]:function(e){if(V(e)===O)return[];var t=J(e);return[Z(e),t,Z(t)]}(m)),b=[m].concat(v).reduce((function(e,r){return e.concat(V(r)===O?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?F:l,u=G(n),f=u?a?N:N.filter((function(e){return G(e)===u})):C,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,r){return t[r]=se(e,{placement:r,boundary:o,rootBoundary:i,padding:s})[V(r)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:r,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:y}):r)}),[]),w=t.rects.reference,_=t.rects.popper,x=new Map,S=!0,E=b[0],I=0;I<b.length;I++){var M=b[I],D=V(M),j=G(M)===R,$=[k,A].indexOf(D)>=0,U=$?"width":"height",L=se(t,{placement:M,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),z=$?j?T:P:j?A:k;w[U]>_[U]&&(z=J(z));var B=J(z),H=[];if(i&&H.push(L[D]<=0),a&&H.push(L[z]<=0,L[B]<=0),H.every((function(e){return e}))){E=M,S=!1;break}x.set(M,H)}if(S)for(var q=function(e){var t=b.find((function(t){var r=x.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},W=p?3:1;W>0;W--){if("break"===q(W))break}t.placement!==E&&(t.modifiersData[n]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},le,ce,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=se(t,{elementContext:"reference"}),a=se(t,{altBoundary:!0}),l=ue(s,n),c=ue(a,o,i),u=fe(l),f=fe(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]})},14018:(e,t)=>{"use strict";function r(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(i,s),time:r(l,c),"date-time":r((function(e){const t=e.split(u);return 2===t.length&&i(t[0])&&l(t[1],!0)}),f),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return d.test(e)&&h.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(v.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return p.lastIndex=0,p.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=m&&e>=y}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:g},double:{type:"number",validate:g},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(e){const t=n.exec(e);if(!t)return!1;const r=+t[1],i=+t[2],s=+t[3];return i>=1&&i<=12&&s>=1&&s<=(2===i&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:o[i])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(e,t){const r=a.exec(e);if(!r)return!1;const n=+r[1],o=+r[2],i=+r[3],s=r[5];return(n<=23&&o<=59&&i<=59||23===n&&59===o&&60===i)&&(!t||""!==s)}function c(e,t){if(!e||!t)return;const r=a.exec(e),n=a.exec(t);return r&&n?(e=r[1]+r[2]+r[3]+(r[4]||""))>(t=n[1]+n[2]+n[3]+(n[4]||""))?1:e<t?-1:0:void 0}const u=/t|\s/i;function f(e,t){if(!e||!t)return;const[r,n]=e.split(u),[o,i]=t.split(u),a=s(r,o);return void 0!==a?a||c(n,i):void 0}const d=/\/|:/,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;const y=-(2**31),m=2**31-1;function g(){return!0}const v=/[^\\]\\Z/},68182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14018),o=r(26461),i=r(99029),s=new i.Name("fullFormats"),a=new i.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return c(e,t,n.fullFormats,s),e;const[r,i]="fast"===t.mode?[n.fastFormats,a]:[n.fullFormats,s];return c(e,t.formats||n.formatNames,r,i),t.keywords&&o.default(e),e};function c(e,t,r,n){var o,s;null!==(o=(s=e.opts.code).formats)&&void 0!==o||(s.formats=i._`require("ajv-formats/dist/formats").${n}`);for(const n of t)e.addFormat(n,r[n])}l.get=(e,t="full")=>{const r=("fast"===t?n.fastFormats:n.fullFormats)[e];if(!r)throw new Error(`Unknown format "${e}"`);return r},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},26461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const n=r(63282),o=r(99029),i=o.operators,s={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},a={message:({keyword:e,schemaCode:t})=>o.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>o._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:r,schemaCode:i,keyword:a,it:l}=e,{opts:c,self:u}=l;if(!c.validateFormats)return;const f=new n.KeywordCxt(l,u.RULES.all.format.definition,"format");function d(e){return o._`${e}.compare(${r}, ${i}) ${s[a].fail} 0`}f.$data?function(){const r=t.scopeValue("formats",{ref:u.formats,code:c.code.formats}),n=t.const("fmt",o._`${r}[${f.schemaCode}]`);e.fail$data(o.or(o._`typeof ${n} != "object"`,o._`${n} instanceof RegExp`,o._`typeof ${n}.compare != "function"`,d(n)))}():function(){const r=f.schema,n=u.formats[r];if(!n||!0===n)return;if("object"!=typeof n||n instanceof RegExp||"function"!=typeof n.compare)throw new Error(`"${a}": format "${r}" does not define "compare" function`);const i=t.scopeValue("formats",{key:r,ref:n,code:c.code.formats?o._`${c.code.formats}${o.getProperty(r)}`:void 0});e.fail$data(d(i))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},63282:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=r(4042),o=r(86144),i=r(36653),s=r(72079),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=r(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=r(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var d=r(13558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=r(34551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},41520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class o extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)l(r,t[n]),r.push(e[++n]);return new o(r)}t._Code=o,t.nil=new o(""),t._=i;const s=new o("+");function a(e,...t){const r=[u(e[0])];let n=0;for(;n<t.length;)r.push(s),l(r,t[n]),r.push(s,u(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const r=c(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new o(r)}function l(e,t){var r;t instanceof o?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:u(Array.isArray(r)?r.join(","):r))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new o(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new o(e.toString())}},99029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(41520),o=r(57845);var i=r(41520);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var s=r(57845);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?o.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=R(this.rhs,e,t),this}get names(){return C(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class h extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=R(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class y extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const o=r[n];o.optimizeNames(e,t)||(I(e,o.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>O(e,t.names)),{})}}class m extends y{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class g extends y{}class v extends m{}v.kind="else";class b extends m{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(M(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=R(this.condition,e,t),this}get names(){const e=super.names;return C(e,this.condition),this.else&&O(e,this.else.names),e}}b.kind="if";class w extends m{}w.kind="for";class _ extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=R(this.iteration,e,t),this}get names(){return O(super.names,this.iteration.names)}}class x extends w{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:r,from:n,to:i}=this;return`for(${t} ${r}=${n}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){const e=C(super.names,this.from);return C(e,this.to)}}class S extends w{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=R(this.iterable,e,t),this}get names(){return O(super.names,this.iterable.names)}}class E extends m{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class k extends y{render(e){return"return "+super.render(e)}}k.kind="return";class A extends m{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&O(e,this.catch.names),this.finally&&O(e,this.finally.names),e}}class T extends m{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}T.kind="catch";class P extends m{render(e){return"finally"+super.render(e)}}P.kind="finally";function O(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function C(e,t){return t instanceof n._CodeOrName?O(e,t.names):e}function R(e,t,r){return e instanceof n.Name?i(e):(o=e)instanceof n._Code&&o._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function I(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function M(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${j(e)}`}t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const o=this._scope.toName(t);return void 0!==r&&n&&(this._constants[o.str]=r),this._leafNode(new l(e,o,r)),o}const(e,t,r){return this._def(o.varKinds.const,e,t,r)}let(e,t,r){return this._def(o.varKinds.let,e,t,r)}var(e,t,r){return this._def(o.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,r){return this._leafNode(new u(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,o]of e)t.length>1&&t.push(","),t.push(r),(r!==o||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,o));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new b(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new x(i,s,t,r),(()=>n(s)))}forOf(e,t,r,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(s,n._`${e}[${t}]`),r(s)}))}return this._for(new S("of",i,s,t),(()=>r(s)))}forIn(e,t,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const s=this._scope.toName(e);return this._for(new S("in",i,s,t),(()=>r(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new k;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new A;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new T(e),t(e)}return r&&(this._currNode=n.finally=new P,this.code(r)),this._endBlockNode(T,P)}throw(e){return this._leafNode(new h(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,o){return this._blockNode(new E(e,t,r)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=M;const D=F(t.operators.AND);t.and=function(...e){return e.reduce(D)};const N=F(t.operators.OR);function F(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${j(t)} ${e} ${j(r)}`}function j(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(N)}},57845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(41520);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=a;const l=n._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:n.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:o}=n,i=null!==(r=t.key)&&void 0!==r?r:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,n);const a=this._scope[o]||(this._scope[o]=[]),l=a.length;return a[l]=t.ref,n.setValue(t,{property:o,itemIndex:l}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,s={},a){let l=n.nil;for(const c in e){const u=e[c];if(!u)continue;const f=s[c]=s[c]||new Map;u.forEach((e=>{if(f.has(e))return;f.set(e,i.Started);let s=r(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=n._`${l}${r} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new o(e);l=n._`${l}${s}${this.opts._n}`}f.set(e,i.Completed)}))}return l}}},48708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(99029),o=r(94227),i=r(42023);function s(e,t){const r=e.const("err",t);e.if(n._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,n._`[${r}]`)),n._`${i.default.vErrors}.push(${r})`),e.code(n._`${i.default.errors}++`)}function a(e,t){const{gen:r,validateName:o,schemaEnv:i}=e;i.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${o}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,o,i){const{it:l}=e,{gen:u,compositeRule:f,allErrors:d}=l,h=c(e,r,o);(null!=i?i:f||d)?s(u,h):a(l,n._`[${h}]`)},t.reportExtraError=function(e,r=t.keywordError,n){const{it:o}=e,{gen:l,compositeRule:u,allErrors:f}=o;s(l,c(e,r,n)),u||f||a(o,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(n._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(l,n._`${i.default.vErrors}[${s}]`),e.if(n._`${l}.instancePath === undefined`,(()=>e.assign(n._`${l}.instancePath`,(0,n.strConcat)(i.default.instancePath,a.errorPath)))),e.assign(n._`${l}.schemaPath`,n.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(n._`${l}.schema`,r),e.assign(n._`${l}.data`,o))}))};const l={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function c(e,t,r){const{createErrors:o}=e.it;return!1===o?n._`{}`:function(e,t,r={}){const{gen:o,it:s}=e,a=[u(s,r),f(e,r)];return function(e,{params:t,message:r},o){const{keyword:s,data:a,schemaValue:c,it:u}=e,{opts:f,propertyName:d,topSchemaRef:h,schemaPath:p}=u;o.push([l.keyword,s],[l.params,"function"==typeof t?t(e):t||n._`{}`]),f.messages&&o.push([l.message,"function"==typeof r?r(e):r]);f.verbose&&o.push([l.schema,c],[l.parentSchema,n._`${h}${p}`],[i.default.data,a]);d&&o.push([l.propertyName,d])}(e,t,a),o.object(...a)}(e,t,r)}function u({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${(0,o.getErrorPath)(t,o.Type.Str)}`:e;return[i.default.instancePath,(0,n.strConcat)(i.default.instancePath,r)]}function f({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let s=i?t:n.str`${t}/${e}`;return r&&(s=n.str`${s}${(0,o.getErrorPath)(r,o.Type.Str)}`),[l.schemaPath,s]}},73835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(99029),o=r(13558),i=r(42023),s=r(66939),a=r(94227),l=r(62586);class c{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function u(e){const t=d.call(this,e);if(t)return t;const r=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,f=new n.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let h;e.$async&&(h=f.scopeValue("Error",{ref:o.default,code:n._`require("ajv/dist/runtime/validation_error").default`}));const p=f.scopeName("validate");e.validateName=p;const y={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,l.validateFunctionCode)(y),f.optimize(this.opts.code.optimize);const t=f.toString();m=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const r=new Function(`${i.default.self}`,`${i.default.scope}`,m)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=y;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=(0,n.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),t}finally{this._compilations.delete(e)}}function f(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function d(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function h(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||p.call(this,e,t)}function p(e,t){const r=this.opts.uriResolver.parse(t),n=(0,s._getFullPath)(this.opts.uriResolver,r);let o=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===o)return m.call(this,r,e);const i=(0,s.normalizeId)(n),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=p.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return m.call(this,r,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||u.call(this,a),i===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:r}=this.opts,n=t[r];return n&&(o=(0,s.resolveUrl)(this.opts.uriResolver,o,n)),new c({schema:t,schemaId:r,root:e,baseId:o})}return m.call(this,r,a)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,r){var n;r=(0,s.resolveUrl)(this.opts.uriResolver,t,r);const o=e.refs[r];if(o)return o;let i=h.call(this,e,r);if(void 0===i){const o=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:s}=this.opts;o&&(i=new c({schema:o,schemaId:s,root:e,baseId:t}))}return void 0!==i?e.refs[r]=f.call(this,i):void 0},t.getCompilingSchema=d,t.resolveSchema=p;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(e,{baseId:t,schema:r,root:n}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const e=r[(0,a.unescapeFragment)(n)];if(void 0===e)return;const o="object"==typeof(r=e)&&r[this.opts.schemaId];!y.has(n)&&o&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,o))}let i;if("boolean"!=typeof r&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=p.call(this,n,e)}const{schemaId:l}=this.opts;return i=i||new c({schema:r,schemaId:l,root:n,baseId:t}),i.schema!==i.root.schema?i:void 0}},42023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=o},34551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(66939);class o extends Error{constructor(e,t,r,o){super(o||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}t.default=o},66939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(94227),o=r(32017),i=r(7106),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(l))return!0;if("object"==typeof r&&l(r))return!0}return!1}function c(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!s.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e,t="",r){!1!==r&&(t=h(t));const n=e.parse(t);return f(e,n)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=f;const d=/#\/?$/;function h(e){return e?e.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(e,t,r){return r=h(r),e.resolve(t,r)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:n}=this.opts,s=h(e[r]||t),a={"":s},l=u(n,s,!1),c={},f=new Set;return i(e,{allKeys:!0},((e,t,n,o)=>{if(void 0===o)return;const i=l+t;let s=a[o];function u(t){const r=this.opts.uriResolver.resolve;if(t=h(s?r(s,t):t),f.has(t))throw y(t);f.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?d(e,n.schema,t):t!==h(i)&&("#"===t[0]?(d(e,c[t],t),c[t]=e):this.refs[t]=i),t}function m(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[r]&&(s=u.call(this,e[r])),m.call(this,e.$anchor),m.call(this,e.$dynamicAnchor),a[t]=s})),c;function d(e,t,r){if(void 0!==t&&!o(e,t))throw y(r)}function y(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},10396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},94227:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(99029),o=r(41520);function i(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const o=n.RULES.keywords;for(const r in t)o[r]||p(e,`unknown keyword: "${r}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:o}){return(i,s,a,l)=>{const c=void 0===a?s:a instanceof n.Name?(s instanceof n.Name?e(i,s,a):t(i,s,a),a):s instanceof n.Name?(t(i,a,s),s):r(s,a);return l!==n.Name||c instanceof n.Name?c:o(i,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&f(e,r,t),r}function f(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${(0,n.getProperty)(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,o,i){if(!i){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${(0,n.getProperty)(o)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),f(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=f;const d={};var h;function p(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new o._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(h=t.Type||(t.Type={})),t.getErrorPath=function(e,t,r){if(e instanceof n.Name){const o=t===h.Num;return r?o?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:o?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,n.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},7887:(e,t)=>{"use strict";function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const o=t.RULES.types[n];return o&&!0!==o&&r(e,o)},t.shouldUseGroup=r,t.shouldUseRule=n},28727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(48708),o=r(99029),i=r(42023),s={message:"boolean schema is false"};function a(e,t){const{gen:r,data:o}=e,i={gen:r,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(i,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?a(e,!1):"object"==typeof r&&!0===r.$async?t.return(i.default.data):(t.assign(o._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),a(e)):r.var(t,!0)}},10208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(10396),o=r(7887),i=r(48708),s=r(99029),a=r(94227);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:i}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(c){const o=d(t,n,i.strictNumbers,l.Wrong);r.if(o,(()=>{a.length?function(e,t,r){const{gen:n,data:o,opts:i}=e,a=n.let("dataType",s._`typeof ${o}`),l=n.let("coerced",s._`undefined`);"array"===i.coerceTypes&&n.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>n.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(d(t,o,i.strictNumbers),(()=>n.assign(l,o)))));n.if(s._`${l} !== undefined`);for(const e of r)(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&c(e);function c(e){switch(e){case"string":return void n.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(l,s._`""`);case"number":return void n.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(l,s._`+${o}`);case"integer":return void n.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(l,s._`+${o}`);case"boolean":return void n.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(l,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(l,!0);case"null":return n.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void n.assign(l,null);case"array":n.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(l,s._`[${o}]`)}}n.else(),p(e),n.endIf(),n.if(s._`${l} !== undefined`,(()=>{n.assign(o,l),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${r}]`,n)))}(e,l)}))}(e,t,a):p(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function f(e,t,r,n=l.Correct){const o=n===l.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return n===l.Correct?i:(0,s.not)(i);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,r?s._`isFinite(${t})`:s.nil)}}function d(e,t,r,n){if(1===e.length)return f(e[0],t,r,n);let o;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const e in i)o=(0,s.and)(o,f(e,t,r,n));return o}t.checkDataType=f,t.checkDataTypes=d;const h={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:r,schema:n}=e,o=(0,a.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}(e);(0,i.reportError)(t,h)}t.reportTypeError=p},7870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(99029),o=r(94227);function i(e,t,r){const{gen:i,compositeRule:s,data:a,opts:l}=e;if(void 0===r)return;const c=n._`${a}${(0,n.getProperty)(t)}`;if(s)return void(0,o.checkStrictMode)(e,`default is ignored for: ${c}`);let u=n._`${c} === undefined`;"empty"===l.useDefaults&&(u=n._`${u} || ${c} === null || ${c} === ""`),i.if(u,n._`${c} = ${(0,n.stringify)(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)i(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>i(e,r,t.default)))}},62586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(28727),o=r(10208),i=r(7887),s=r(10208),a=r(7870),l=r(33673),c=r(24495),u=r(99029),f=r(42023),d=r(66939),h=r(94227),p=r(48708);function y({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},i){o.code.es5?e.func(t,u._`${f.default.data}, ${f.default.valCxt}`,n.$async,(()=>{e.code(u._`"use strict"; ${m(r,o)}`),function(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,u._`${f.default.valCxt}.${f.default.instancePath}`),e.var(f.default.parentData,u._`${f.default.valCxt}.${f.default.parentData}`),e.var(f.default.parentDataProperty,u._`${f.default.valCxt}.${f.default.parentDataProperty}`),e.var(f.default.rootData,u._`${f.default.valCxt}.${f.default.rootData}`),t.dynamicRef&&e.var(f.default.dynamicAnchors,u._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,u._`""`),e.var(f.default.parentData,u._`undefined`),e.var(f.default.parentDataProperty,u._`undefined`),e.var(f.default.rootData,f.default.data),t.dynamicRef&&e.var(f.default.dynamicAnchors,u._`{}`)}))}(e,o),e.code(i)})):e.func(t,u._`${f.default.data}, ${function(e){return u._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?u._`, ${f.default.dynamicAnchors}={}`:u.nil}}={}`}(o)}`,n.$async,(()=>e.code(m(r,o)).code(i)))}function m(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?u._`/*# sourceURL=${r} */`:u.nil}function g(e,t){b(e)&&(w(e),v(e))?function(e,t){const{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&x(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=n.const("_errs",f.default.errors);_(e,i),n.var(t,u._`${i} === ${f.default.errors}`)}(e,t):(0,n.boolOrEmptySchema)(e,t)}function v({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,h.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function _(e,t){if(e.opts.jtd)return S(e,[],!1,t);const r=(0,o.getSchemaTypes)(e.schema);S(e,r,!(0,o.coerceAndCheckDataType)(e,r),t)}function x({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){const i=r.$comment;if(!0===o.$comment)e.code(u._`${f.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const r=u.str`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(u._`${f.default.self}.opts.$comment(${i}, ${r}, ${o}.schema)`)}}function S(e,t,r,n){const{gen:o,schema:a,data:l,allErrors:c,opts:d,self:p}=e,{RULES:y}=p;function m(h){(0,i.shouldUseGroup)(a,h)&&(h.type?(o.if((0,s.checkDataType)(h.type,l,d.strictNumbers)),E(e,h),1===t.length&&t[0]===h.type&&r&&(o.else(),(0,s.reportTypeError)(e)),o.endIf()):E(e,h),c||o.if(u._`${f.default.errors} === ${n||0}`))}!a.$ref||!d.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(a,y)?(d.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{A(e.dataTypes,t)||T(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const r=[];for(const n of e.dataTypes)A(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&T(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const r=e.self.RULES.all;for(const n in r){const o=r[n];if("object"==typeof o&&(0,i.shouldUseRule)(e.schema,o)){const{type:r}=o.definition;r.length&&!r.some((e=>k(t,e)))&&T(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}(e,e.dataTypes)}(e,t),o.block((()=>{for(const e of y.rules)m(e);m(y.post)}))):o.block((()=>O(e,"$ref",y.all.$ref.definition)))}function E(e,t){const{gen:r,schema:n,opts:{useDefaults:o}}=e;o&&(0,a.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,i.shouldUseRule)(n,r)&&O(e,r.keyword,r.definition,t.type)}))}function k(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function A(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function T(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,h.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(w(e),v(e))?function(e){const{schema:t,opts:r,gen:n}=e;y(e,(()=>{r.$comment&&t.$comment&&x(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,h.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(f.default.vErrors,null),n.let(f.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",u._`${r}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),_(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:i}=e;r.$async?t.if(u._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(u._`new ${o}(${f.default.vErrors})`))):(t.assign(u._`${n}.errors`,f.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof u.Name&&e.assign(u._`${t}.props`,r);n instanceof u.Name&&e.assign(u._`${t}.items`,n)}(e),t.return(u._`${f.default.errors} === 0`))}(e)}))}(e):y(e,(()=>(0,n.topBoolOrEmptySchema)(e)))};class P{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",I(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",f.default.errors))}result(e,t,r){this.failResult((0,u.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=u.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:o,def:i}=this;r.if((0,u.or)(u._`${n} === undefined`,t)),e!==u.nil&&r.assign(e,!0),(o.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:o}=this;return(0,u.or)(function(){if(r.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return u._`${(0,s.checkDataTypes)(e,t,o.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return u._`!${r}(${t})`}return u.nil}())}subschema(e,t){const r=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(r,this.it,e),(0,c.extendSubschemaMode)(r,e);const n={...this.it,...r,items:void 0,props:void 0};return g(n,t),n}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=h.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=h.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function O(e,t,r,n){const o=new P(e,r,t);"code"in r?r.code(o,n):o.$data&&r.validate?(0,l.funcKeywordCode)(o,r):"macro"in r?(0,l.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(o,r)}t.KeywordCxt=P;const C=/^\/(?:[^~]|~0|~1)*$/,R=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function I(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,i;if(""===e)return f.default.rootData;if("/"===e[0]){if(!C.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=f.default.rootData}else{const s=R.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(o=s[2],"#"===o){if(a>=t)throw new Error(l("property/index",a));return n[t-a]}if(a>t)throw new Error(l("data",a));if(i=r[t-a],!o)return i}let s=i;const a=o.split("/");for(const e of a)e&&(i=u._`${i}${(0,u.getProperty)((0,h.unescapeJsonPointer)(e))}`,s=u._`${s} && ${i}`);return s;function l(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=I},33673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(99029),o=r(42023),i=r(15765),s=r(48708);function a(e){const{gen:t,data:r,it:o}=e;t.if(o.parentData,(()=>t.assign(r,n._`${o.parentData}[${o.parentDataProperty}]`)))}function l(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}t.macroKeywordCode=function(e,t){const{gen:r,keyword:o,schema:i,parentSchema:s,it:a}=e,c=t.macro.call(a.self,i,s,a),u=l(r,o,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const f=r.name("valid");e.subschema({schema:c,schemaPath:n.nil,errSchemaPath:`${a.errSchemaPath}/${o}`,topSchemaRef:u,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:c,keyword:u,schema:f,parentSchema:d,$data:h,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const y=!h&&t.compile?t.compile.call(p.self,f,d,p):t.validate,m=l(c,u,y),g=c.let("valid");function v(r=(t.async?n._`await `:n.nil)){const s=p.opts.passContext?o.default.this:o.default.self,a=!("compile"in t&&!h||!1===t.schema);c.assign(g,n._`${r}${(0,i.callValidateCode)(e,m,s,a)}`,t.modifying)}function b(e){var r;c.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:g),e)}e.block$data(g,(function(){if(!1===t.errors)v(),t.modifying&&a(e),b((()=>e.error()));else{const r=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>v(n._`await `)),(t=>c.assign(g,!1).if(n._`${t} instanceof ${p.ValidationError}`,(()=>c.assign(e,n._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=n._`${m}.errors`;return c.assign(e,null),v(n.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(o.default.vErrors,n._`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`).assign(o.default.errors,n._`${o.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:g)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:n},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const s=o.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${s.join(",")}`);if(o.validateSchema){if(!o.validateSchema(e[i])){const e=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(o.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}}},24495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(99029),o=r(94227);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:i,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const i=e.schema[t];return void 0===r?{schema:i,schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,o.escapeFragment)(r)}`}}if(void 0!==i){if(void 0===s||void 0===a||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:i,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==r){const{errorPath:s,dataPathArr:a,opts:l}=t;u(c.let("data",n._`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=n.str`${s}${(0,o.getErrorPath)(r,i,l.jsPropertySyntax)}`,e.parentDataProperty=n._`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==s){u(s instanceof n.Name?s:c.let("data",s,!0)),void 0!==l&&(e.propertyName=l)}function u(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:i}){void 0!==n&&(e.compositeRule=n),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}},4042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(62586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var o=r(99029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=r(13558),s=r(34551),a=r(10396),l=r(73835),c=r(99029),u=r(66939),f=r(10208),d=r(94227),h=r(63837),p=r(55944),y=(e,t)=>new RegExp(e,t);y.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,r,n,o,i,s,a,l,c,u,f,d,h,m,g,v,b,w,_,x,S,E,k,A,T;const P=e.strict,O=null===(t=e.code)||void 0===t?void 0:t.optimize,C=!0===O||void 0===O?1:O||0,R=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:y,I=null!==(o=e.uriResolver)&&void 0!==o?o:p.default;return{strictSchema:null===(s=null!==(i=e.strictSchema)&&void 0!==i?i:P)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:P)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:P)&&void 0!==u?u:"log",strictTuples:null!==(d=null!==(f=e.strictTuples)&&void 0!==f?f:P)&&void 0!==d?d:"log",strictRequired:null!==(m=null!==(h=e.strictRequired)&&void 0!==h?h:P)&&void 0!==m&&m,code:e.code?{...e.code,optimize:C,regExp:R}:{optimize:C,regExp:R},loopRequired:null!==(g=e.loopRequired)&&void 0!==g?g:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(_=e.inlineRefs)||void 0===_||_,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(k=e.validateFormats)||void 0===k||k,unicodeRegExp:null===(A=e.unicodeRegExp)||void 0===A||A,int32range:null===(T=e.int32range)||void 0===T||T,uriResolver:I}}class _{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:g,es5:t,lines:r}),this.logger=function(e){if(!1===e)return P;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),x.call(this,v,e,"NOT SUPPORTED"),x.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=T.call(this),e.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&A.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),E.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let n=h;"id"===r&&(n={...h},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await o.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function o(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const r=await c.call(this,e);this.refs[e]||await o.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let o;if("object"==typeof e){const{schemaId:t}=this.opts;if(o=e[t],void 0!==o&&"string"!=typeof o)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:r});if(t=l.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,u.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(C.call(this,r,t),!t)return(0,d.eachItem)(r,(e=>R.call(this,e))),this;M.call(this,t);const n={...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(r,0===n.type.length?e=>R.call(this,e,n):e=>n.type.forEach((t=>R.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,i=o[e];n&&i&&(o[e]=N(i))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,o=this.opts.addUsedSchema){let i;const{schemaId:s}=this.opts;if("object"==typeof e)i=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;r=(0,u.normalizeId)(i||r);const c=u.getSchemaRefs.call(this,e,r);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:r,localRefs:c}),this._cache.set(a.schema,a),o&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),n&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function x(e,t,r,n="error"){for(const o in e){const i=o;i in t&&this.logger[n](`${r}: option ${o}. ${e[i]}`)}}function S(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function E(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function k(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function A(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function T(){const e={...this.opts};for(const t of m)delete e[t];return e}t.default=_,_.ValidationError=i.default,_.MissingRefError=s.default;const P={log(){},warn(){},error(){}};const O=/^[a-z_$][a-z0-9_$:-]*$/i;function C(e,t){const{RULES:r}=this;if((0,d.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!O.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function R(e,t,r){var n;const o=null==t?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===r));if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,f.getJSONTypes)(t.type),schemaType:(0,f.getJSONTypes)(t.schemaType)}};t.before?I.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function I(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function M(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=N(t)),e.validateSchema=this.compile(t,!0))}const D={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function N(e){return{anyOf:[e,D]}}},76250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(32017);n.code='require("ajv/dist/runtime/equal").default',t.default=n},53853:(e,t)=>{"use strict";function r(e){const t=e.length;let r,n=0,o=0;for(;o<t;)n++,r=e.charCodeAt(o++),r>=55296&&r<=56319&&o<t&&(r=e.charCodeAt(o),56320==(64512&r)&&o++);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},55944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(46579);n.code='require("ajv/dist/runtime/uri").default',t.default=n},13558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},15457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n=r(99029),o=r(94227),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?s(e,n):(0,o.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:r,schema:i,data:s,keyword:a,it:l}=e;l.items=!0;const c=r.const("len",n._`${s}.length`);if(!1===i)e.setParams({len:t.length}),e.pass(n._`${c} <= ${t.length}`);else if("object"==typeof i&&!(0,o.alwaysValidSchema)(l,i)){const i=r.var("valid",n._`${c} <= ${t.length}`);r.if((0,n.not)(i),(()=>function(i){r.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:o.Type.Num},i),l.allErrors||r.if((0,n.not)(i),(()=>r.break()))}))}(i))),e.ok(i)}}t.validateAdditionalItems=s,t.default=i},38660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15765),o=r(99029),i=r(42023),s=r(94227),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:f,opts:d}=u;if(u.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(u,r))return;const h=(0,n.allSchemaProperties)(a.properties),p=(0,n.allSchemaProperties)(a.patternProperties);function y(e){t.code(o._`delete ${l}[${e}]`)}function m(n){if("all"===d.removeAdditional||d.removeAdditional&&!1===r)y(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(f||t.break());if("object"==typeof r&&!(0,s.alwaysValidSchema)(u,r)){const r=t.name("valid");"failing"===d.removeAdditional?(g(n,r,!1),t.if((0,o.not)(r),(()=>{e.reset(),y(n)}))):(g(n,r),f||t.if((0,o.not)(r),(()=>t.break())))}}}function g(t,r,n){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===n&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,r)}t.forIn("key",l,(r=>{h.length||p.length?t.if(function(r){let i;if(h.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");i=(0,n.isOwnProperty)(t,e,r)}else i=h.length?(0,o.or)(...h.map((e=>o._`${r} === ${e}`))):o.nil;return p.length&&(i=(0,o.or)(i,...p.map((t=>o._`${(0,n.usePattern)(e,t)}.test(${r})`)))),(0,o.not)(i)}(r),(()=>m(r))):m(r)})),e.ok(o._`${c} === ${i.default.errors}`)}};t.default=a},15844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(94227),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i),e.mergeEvaluated(s)}))}};t.default=o},16505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(15765).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},12661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:i,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:f}=i;a.opts.next?(l=void 0===u?1:u,c=f):l=1;const d=t.const("len",n._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,o.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,o.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,o.alwaysValidSchema)(a,r)){let t=n._`${d} >= ${l}`;return void 0!==c&&(t=n._`${t} && ${d} <= ${c}`),void e.pass(t)}a.items=!0;const h=t.name("valid");function p(){const e=t.name("_valid"),r=t.let("count",0);y(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===c?t.if(n._`${e} >= ${l}`,(()=>t.assign(h,!0).break())):(t.if(n._`${e} > ${c}`,(()=>t.assign(h,!1).break())),1===l?t.assign(h,!0):t.if(n._`${e} >= ${l}`,(()=>t.assign(h,!0))))}(r)))))}function y(r,n){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},r),n()}))}void 0===c&&1===l?y(h,(()=>t.if(h,(()=>t.break())))):0===l?(t.let(h,!0),void 0!==c&&t.if(n._`${s}.length > 0`,p)):(t.let(h,!1),p()),e.result(h,(()=>e.reset()))}};t.default=i},83025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(99029),o=r(94227),i=r(15765);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const o=1===t?"property":"properties";return n.str`must have ${o} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:o}})=>n._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${r}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e){if("__proto__"===n)continue;(Array.isArray(e[n])?t:r)[n]=e[n]}return[t,r]}(e);a(e,t),l(e,r)}};function a(e,t=e.schema){const{gen:r,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=r.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,i.propertyInData)(r,o,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(u,(()=>{for(const t of c)(0,i.checkReportMissingProp)(e,t)})):(r.if(n._`${u} && (${(0,i.checkMissingProp)(e,c,a)})`),(0,i.reportMissingProp)(e,a),r.else())}}function l(e,t=e.schema){const{gen:r,data:n,keyword:s,it:a}=e,l=r.name("valid");for(const c in t)(0,o.alwaysValidSchema)(a,t[c])||(r.if((0,i.propertyInData)(r,n,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>r.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=s},1239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:i}=e;void 0===r.then&&void 0===r.else&&(0,o.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const a=s(i,"then"),l=s(i,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(u,f("then",r),f("else",r))}else a?t.if(u,f("then")):t.if((0,n.not)(u),f("else"));function f(r,o){return()=>{const i=e.subschema({keyword:r},u);t.assign(c,u),e.mergeValidEvaluated(i,c),o?t.assign(o,n._`${r}`):e.setParams({ifClause:r})}}e.pass(c,(()=>e.error(!0)))}};function s(e,t){const r=e.schema[t];return void 0!==r&&!(0,o.alwaysValidSchema)(e,r)}t.default=i},56378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15457),o=r(65354),i=r(20494),s=r(93966),a=r(12661),l=r(83025),c=r(19713),u=r(38660),f=r(40117),d=r(45333),h=r(57923),p=r(16505),y=r(96163),m=r(15844),g=r(1239),v=r(14426);t.default=function(e=!1){const t=[h.default,p.default,y.default,m.default,g.default,v.default,c.default,u.default,l.default,f.default,d.default];return e?t.push(o.default,s.default):t.push(n.default,i.default),t.push(a.default),t}},20494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n=r(99029),o=r(94227),i=r(15765),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return a(e,"additionalItems",t);r.items=!0,(0,o.alwaysValidSchema)(r,t)||e.ok((0,i.validateArray)(e))}};function a(e,t,r=e.schema){const{gen:i,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:n,errSchemaPath:i}=c,s=r.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(n.strictTuples&&!a){const e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,o.checkStrictMode)(c,e,n.strictTuples)}}(s),c.opts.unevaluated&&r.length&&!0!==c.items&&(c.items=o.mergeEvaluated.items(i,r.length,c.items));const u=i.name("valid"),f=i.const("len",n._`${a}.length`);r.forEach(((t,r)=>{(0,o.alwaysValidSchema)(c,t)||(i.if(n._`${f} > ${r}`,(()=>e.subschema({keyword:l,schemaProp:r,dataProp:r},u))),e.ok(u))}))}t.validateTuple=a,t.default=s},93966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i=r(15765),s=r(15457),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,(0,o.alwaysValidSchema)(n,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,i.validateArray)(e)))}};t.default=a},57923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(94227),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:o}=e;if((0,n.alwaysValidSchema)(o,r))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=o},96163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:i,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&i.discriminator)return;const a=r,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((r,i)=>{let a;(0,o.alwaysValidSchema)(s,r)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:!0},u),i>0&&t.if(n._`${u} && ${l}`).assign(l,!1).assign(c,n._`[${c}, ${i}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,i),a&&e.mergeEvaluated(a,n.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},45333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15765),o=r(99029),i=r(94227),s=r(94227),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:l,it:c}=e,{opts:u}=c,f=(0,n.allSchemaProperties)(r),d=f.filter((e=>(0,i.alwaysValidSchema)(c,r[e])));if(0===f.length||d.length===f.length&&(!c.opts.unevaluated||!0===c.props))return;const h=u.strictSchema&&!u.allowMatchingProperties&&l.properties,p=t.name("valid");!0===c.props||c.props instanceof o.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:y}=c;function m(e){for(const t in h)new RegExp(e).test(t)&&(0,i.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function g(r){t.forIn("key",a,(i=>{t.if(o._`${(0,n.usePattern)(e,r)}.test(${i})`,(()=>{const n=d.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:s.Type.Str},p),c.opts.unevaluated&&!0!==y?t.assign(o._`${y}[${i}]`,!0):n||c.allErrors||t.if((0,o.not)(p),(()=>t.break()))}))}))}!function(){for(const e of f)h&&m(e),c.allErrors?g(e):(t.var(p,!0),g(e),t.if(p))}()}};t.default=a},65354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20494),o={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t.default=o},40117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62586),o=r(15765),i=r(94227),s=r(38660),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new n.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,o.allSchemaProperties)(r);for(const e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),c.props));const f=u.filter((e=>!(0,i.alwaysValidSchema)(c,r[e])));if(0===f.length)return;const d=t.name("valid");for(const r of f)h(r)?p(r):(t.if((0,o.propertyInData)(t,l,r,c.opts.ownProperties)),p(r),c.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(d);function h(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t.default=a},19713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:i,it:s}=e;if((0,o.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",i,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},a),t.if((0,n.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=i},14426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(94227),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=o},15765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(99029),o=r(94227),i=r(42023),s=r(94227);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function l(e,t,r){return n._`${a(e)}.call(${t}, ${r})`}function c(e,t,r,o){const i=n._`${t}${(0,n.getProperty)(r)} === undefined`;return o?(0,n.or)(i,(0,n.not)(l(e,t,r))):i}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:o,it:i}=e;r.if(c(r,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},o,i){return(0,n.or)(...o.map((o=>(0,n.and)(c(e,t,o,r.ownProperties),n._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,r,o){const i=n._`${t}${(0,n.getProperty)(r)} !== undefined`;return o?n._`${i} && ${l(e,t,r)}`:i},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((r=>!(0,o.alwaysValidSchema)(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:o,schemaPath:s,errorPath:a},it:l},c,u,f){const d=f?n._`${e}, ${t}, ${o}${s}`:t,h=[[i.default.instancePath,(0,n.strConcat)(i.default.instancePath,a)],[i.default.parentData,l.parentData],[i.default.parentDataProperty,l.parentDataProperty],[i.default.rootData,i.default.rootData]];l.opts.dynamicRef&&h.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const p=n._`${d}, ${r.object(...h)}`;return u!==n.nil?n._`${c}.call(${u}, ${p})`:n._`${c}(${p})`};const f=n._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){const o=t.unicodeRegExp?"u":"",{regExp:i}=t.code,a=i(r,o);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:n._`${"new RegExp"===i.code?f:(0,s.useFunc)(e,i)}(${r}, ${o})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",n._`${r}.length`);t.forRange("i",0,l,(r=>{e.subschema({keyword:i,dataProp:r,dataPropType:o.Type.Num},a),t.if((0,n.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:i,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>(0,o.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>r.forEach(((r,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},l);t.assign(a,n._`${a} || ${l}`);e.mergeValidEvaluated(s,l)||t.if((0,n.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},83463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},72128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(83463),o=r(13693),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,o.default];t.default=i},13693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(34551),o=r(15765),i=r(99029),s=r(42023),a=r(73835),l=r(94227),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:o}=e,{baseId:s,schemaEnv:l,validateName:c,opts:d,self:h}=o,{root:p}=l;if(("#"===r||"#/"===r)&&s===p.baseId)return function(){if(l===p)return f(e,c,l,l.$async);const r=t.scopeValue("root",{ref:p});return f(e,i._`${r}.validate`,p,p.$async)}();const y=a.resolveRef.call(h,p,s,r);if(void 0===y)throw new n.default(o.opts.uriResolver,s,r);return y instanceof a.SchemaEnv?function(t){const r=u(e,t);f(e,r,t,t.$async)}(y):function(n){const o=t.scopeValue("schema",!0===d.code.source?{ref:n,code:(0,i.stringify)(n)}:{ref:n}),s=t.name("valid"),a=e.subschema({schema:n,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:r},s);e.mergeEvaluated(a),e.ok(s)}(y)}};function u(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):i._`${r.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,r,n){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:f,opts:d}=c,h=d.passContext?s.default.this:i.nil;function p(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function y(e){var t;if(!c.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(n&&!n.dynamicProps)void 0!==n.props&&(c.props=l.mergeEvaluated.props(a,n.props,c.props));else{const t=a.var("props",i._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,i.Name)}if(!0!==c.items)if(n&&!n.dynamicItems)void 0!==n.items&&(c.items=l.mergeEvaluated.items(a,n.items,c.items));else{const t=a.var("items",i._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,i.Name)}}n?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code(i._`await ${(0,o.callValidateCode)(e,t,h)}`),y(t),u||a.assign(r,!0)}),(e=>{a.if(i._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),p(e),u||a.assign(r,!1)})),e.ok(r)}():e.result((0,o.callValidateCode)(e,t,h),(()=>y(t)),(()=>p(t)))}t.getValidate=u,t.callRef=f,t.default=c},36653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(97652),i=r(73835),s=r(94227),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===o.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:a,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),h=t.const("tag",n._`${r}${(0,n.getProperty)(f)}`);function p(r){const o=t.name("valid"),i=e.subschema({keyword:"oneOf",schemaProp:r},o);return e.mergeEvaluated(i,n.Name),o}t.if(n._`typeof ${h} == "string"`,(()=>function(){const r=function(){var e;const t={},r=o(l);let n=!0;for(let t=0;t<u.length;t++){let l=u[t];(null==l?void 0:l.$ref)&&!(0,s.schemaHasRulesButRef)(l,c.self.RULES)&&(l=i.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null==l?void 0:l.$ref),l instanceof i.SchemaEnv&&(l=l.schema));const d=null===(e=null==l?void 0:l.properties)||void 0===e?void 0:e[f];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);n=n&&(r||o(l)),a(d,t)}if(!n)throw new Error(`discriminator: "${f}" must be required`);return t;function o({required:e}){return Array.isArray(e)&&e.includes(f)}function a(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const r of e.enum)d(r,t)}}function d(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(n._`${h} === ${e}`),t.assign(d,p(r[e]));t.else(),e.error(!1,{discrError:o.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:o.DiscrError.Tag,tag:h,tagName:f}))),e.ok(d)}};t.default=a},97652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},86144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(72128),o=r(67060),i=r(56378),s=r(97532),a=r(69857),l=[n.default,o.default,(0,i.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},94737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:o,$data:i,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:f,self:d}=l;c.validateFormats&&(i?function(){const i=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),s=r.const("fDef",n._`${i}[${a}]`),l=r.let("fType"),u=r.let("format");r.if(n._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>r.assign(l,n._`${s}.type || "string"`).assign(u,n._`${s}.validate`)),(()=>r.assign(l,n._`"string"`).assign(u,s))),e.fail$data((0,n.or)(!1===c.strictSchema?n.nil:n._`${a} && !${u}`,function(){const e=f.$async?n._`(${s}.async ? await ${u}(${o}) : ${u}(${o}))`:n._`${u}(${o})`,r=n._`(typeof ${u} == "function" ? ${e} : ${u}.test(${o}))`;return n._`${u} && ${u} !== true && ${l} === ${t} && !${r}`}()))}():function(){const i=d.formats[s];if(!i)return void function(){if(!1===c.strictSchema)return void d.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}}();if(!0===i)return;const[a,l,h]=function(e){const t=e instanceof RegExp?(0,n.regexpCode)(e):c.code.formats?n._`${c.code.formats}${(0,n.getProperty)(s)}`:void 0,o=r.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,n._`${o}.validate`];return["string",e,o]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!f.$async)throw new Error("async format in sync schema");return n._`await ${h}(${o})`}return"function"==typeof l?n._`${h}(${o})`:n._`${h}.test(${o})`}())}())}};t.default=o},97532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[r(94737).default];t.default=n},69857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},27935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i=r(76250),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(n._`!${(0,o.useFunc)(t,i.default)}(${r}, ${a})`):e.fail(n._`${l} !== ${r}`)}};t.default=s},28643:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i=r(76250),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=c.opts.loopEnum;let f;const d=()=>null!=f?f:f=(0,o.useFunc)(t,i.default);let h;if(u||s)h=t.let("valid"),e.block$data(h,(function(){t.assign(h,!1),t.forOf("v",l,(e=>t.if(n._`${d()}(${r}, ${e})`,(()=>t.assign(h,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);h=(0,n.or)(...a.map(((t,o)=>function(e,t){const o=a[t];return"object"==typeof o&&null!==o?n._`${d()}(${r}, ${e}[${t}])`:n._`${r} === ${o}`}(e,o))))}e.pass(h)}};t.default=s},67060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75882),o=r(63439),i=r(77307),s=r(90422),a=r(34486),l=r(34003),c=r(61163),u=r(60617),f=r(27935),d=r(28643),h=[n.default,o.default,i.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=h},61163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o}=e,i="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${i} ${o}`)}};t.default=o},77307:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=r(94227),i=r(53853),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s,it:a}=e,l="maxLength"===t?n.operators.GT:n.operators.LT,c=!1===a.opts.unicode?n._`${r}.length`:n._`${(0,o.useFunc)(e.gen,i.default)}(${r})`;e.fail$data(n._`${c} ${l} ${s}`)}};t.default=s},75882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o=n.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>n.str`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:r,schemaCode:o}=e;e.fail$data(n._`${r} ${i[t].fail} ${o} || isNaN(${r})`)}};t.default=a},34486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o}=e,i="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${i} ${o}`)}};t.default=o},63439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99029),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),l=s?n._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:n._`${a} !== parseInt(${a})`;e.fail$data(n._`(${o} === 0 || (${a} = ${r}/${o}, ${l}))`)}};t.default=o},90422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15765),o=r(99029),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`must match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:i,schemaCode:s,it:a}=e,l=a.opts.unicodeRegExp?"u":"",c=r?o._`(new RegExp(${s}, ${l}))`:(0,n.usePattern)(e,i);e.fail$data(o._`!${c}.test(${t})`)}};t.default=i},34003:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(15765),o=r(99029),i=r(94227),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===r.length)return;const f=r.length>=u.loopRequired;if(c.allErrors?function(){if(f||l)e.block$data(o.nil,d);else for(const t of r)(0,n.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(f||l){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,i){e.setParams({missingProperty:r}),t.forOf(r,s,(()=>{t.assign(i,(0,n.propertyInData)(t,a,r,u.ownProperties)),t.if((0,o.not)(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,r))),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,i)),(0,n.reportMissingProp)(e,i),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,i.checkStrictMode)(c,t,c.opts.strictRequired)}}function d(){t.forOf("prop",s,(r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,a,r,u.ownProperties),(()=>e.error()))}))}}};t.default=s},60617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10208),o=r(99029),i=r(94227),s=r(76250),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:a,schema:l,parentSchema:c,schemaCode:u,it:f}=e;if(!a&&!l)return;const d=t.let("valid"),h=c.items?(0,n.getSchemaTypes)(c.items):[];function p(i,s){const a=t.name("item"),l=(0,n.checkDataTypes)(h,a,f.opts.strictNumbers,n.DataType.Wrong),c=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${r}[${i}]`),t.if(l,o._`continue`),h.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,o._`${c}[${a}]`),e.error(),t.assign(d,!1).break()})).code(o._`${c}[${a}] = ${i}`)}))}function y(n,a){const l=(0,i.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(o._`;${n}--;`,(()=>t.for(o._`${a} = ${n}; ${a}--;`,(()=>t.if(o._`${l}(${r}[${n}], ${r}[${a}])`,(()=>{e.error(),t.assign(d,!1).break(c)}))))))}e.block$data(d,(function(){const n=t.let("i",o._`${r}.length`),i=t.let("j");e.setParams({i:n,j:i}),t.assign(d,!0),t.if(o._`${n} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?p:y)(n,i)))}),o._`${u} === false`),e.ok(d)}};t.default=a},32485:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var s=o.apply(null,r);s&&e.push(s)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var a in r)n.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},31863:(e,t,r)=>{"use strict";const n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0,o=e=>async(t,r)=>{"string"==typeof t&&(t=(new n.TextEncoder).encode(t)),r={outputFormat:"hex",...r};const o=await n.crypto.subtle.digest(e,t);return"hex"===r.outputFormat?(e=>{const t=new DataView(e);let r="";for(let e=0;e<t.byteLength;e+=4)r+=t.getUint32(e).toString(16).padStart(8,"0");return r})(o):o};t.e8=o("SHA-1"),t.sc=o("SHA-256"),o("SHA-384"),o("SHA-512")},77154:(e,t,r)=>{"use strict";function n(e,t,r,n,o){if(isNaN(t)||isNaN(r)||isNaN(n))return e;var i,s,a,l,c,u,f,d,h,p,y,m,g=e._root,v={data:o},b=e._x0,w=e._y0,_=e._z0,x=e._x1,S=e._y1,E=e._z1;if(!g)return e._root=v,e;for(;g.length;)if((d=t>=(s=(b+x)/2))?b=s:x=s,(h=r>=(a=(w+S)/2))?w=a:S=a,(p=n>=(l=(_+E)/2))?_=l:E=l,i=g,!(g=g[y=p<<2|h<<1|d]))return i[y]=v,e;if(c=+e._x.call(null,g.data),u=+e._y.call(null,g.data),f=+e._z.call(null,g.data),t===c&&r===u&&n===f)return v.next=g,i?i[y]=v:e._root=v,e;do{i=i?i[y]=new Array(8):e._root=new Array(8),(d=t>=(s=(b+x)/2))?b=s:x=s,(h=r>=(a=(w+S)/2))?w=a:S=a,(p=n>=(l=(_+E)/2))?_=l:E=l}while((y=p<<2|h<<1|d)==(m=(f>=l)<<2|(u>=a)<<1|c>=s));return i[m]=g,i[y]=v,e}function o(e,t,r,n,o,i,s){this.node=e,this.x0=t,this.y0=r,this.z0=n,this.x1=o,this.y1=i,this.z1=s}function i(e){return e[0]}function s(e){return e[1]}function a(e){return e[2]}function l(e,t,r,n){var o=new c(null==t?i:t,null==r?s:r,null==n?a:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?o:o.addAll(e)}function c(e,t,r,n,o,i,s,a,l){this._x=e,this._y=t,this._z=r,this._x0=n,this._y0=o,this._z0=i,this._x1=s,this._y1=a,this._z1=l,this._root=void 0}function u(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}r.d(t,{A:()=>l});var f=l.prototype=c.prototype;f.copy=function(){var e,t,r=new c(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return r;if(!n.length)return r._root=u(n),r;for(e=[{source:n,target:r._root=new Array(8)}];n=e.pop();)for(var o=0;o<8;++o)(t=n.source[o])&&(t.length?e.push({source:t,target:n.target[o]=new Array(8)}):n.target[o]=u(t));return r},f.add=function(e){var t=+this._x.call(null,e),r=+this._y.call(null,e),o=+this._z.call(null,e);return n(this.cover(t,r,o),t,r,o,e)},f.addAll=function(e){var t,r,o,i,s,a=e.length,l=new Array(a),c=new Array(a),u=new Array(a),f=1/0,d=1/0,h=1/0,p=-1/0,y=-1/0,m=-1/0;for(r=0;r<a;++r)isNaN(o=+this._x.call(null,t=e[r]))||isNaN(i=+this._y.call(null,t))||isNaN(s=+this._z.call(null,t))||(l[r]=o,c[r]=i,u[r]=s,o<f&&(f=o),o>p&&(p=o),i<d&&(d=i),i>y&&(y=i),s<h&&(h=s),s>m&&(m=s));if(f>p||d>y||h>m)return this;for(this.cover(f,d,h).cover(p,y,m),r=0;r<a;++r)n(this,l[r],c[r],u[r],e[r]);return this},f.cover=function(e,t,r){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,o=this._y0,i=this._z0,s=this._x1,a=this._y1,l=this._z1;if(isNaN(n))s=(n=Math.floor(e))+1,a=(o=Math.floor(t))+1,l=(i=Math.floor(r))+1;else{for(var c,u,f=s-n||1,d=this._root;n>e||e>=s||o>t||t>=a||i>r||r>=l;)switch(u=(r<i)<<2|(t<o)<<1|e<n,(c=new Array(8))[u]=d,d=c,f*=2,u){case 0:s=n+f,a=o+f,l=i+f;break;case 1:n=s-f,a=o+f,l=i+f;break;case 2:s=n+f,o=a-f,l=i+f;break;case 3:n=s-f,o=a-f,l=i+f;break;case 4:s=n+f,a=o+f,i=l-f;break;case 5:n=s-f,a=o+f,i=l-f;break;case 6:s=n+f,o=a-f,i=l-f;break;case 7:n=s-f,o=a-f,i=l-f}this._root&&this._root.length&&(this._root=d)}return this._x0=n,this._y0=o,this._z0=i,this._x1=s,this._y1=a,this._z1=l,this},f.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},f.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},f.find=function(e,t,r,n){var i,s,a,l,c,u,f,d,h,p=this._x0,y=this._y0,m=this._z0,g=this._x1,v=this._y1,b=this._z1,w=[],_=this._root;for(_&&w.push(new o(_,p,y,m,g,v,b)),null==n?n=1/0:(p=e-n,y=t-n,m=r-n,g=e+n,v=t+n,b=r+n,n*=n);d=w.pop();)if(!(!(_=d.node)||(s=d.x0)>g||(a=d.y0)>v||(l=d.z0)>b||(c=d.x1)<p||(u=d.y1)<y||(f=d.z1)<m))if(_.length){var x=(s+c)/2,S=(a+u)/2,E=(l+f)/2;w.push(new o(_[7],x,S,E,c,u,f),new o(_[6],s,S,E,x,u,f),new o(_[5],x,a,E,c,S,f),new o(_[4],s,a,E,x,S,f),new o(_[3],x,S,l,c,u,E),new o(_[2],s,S,l,x,u,E),new o(_[1],x,a,l,c,S,E),new o(_[0],s,a,l,x,S,E)),(h=(r>=E)<<2|(t>=S)<<1|e>=x)&&(d=w[w.length-1],w[w.length-1]=w[w.length-1-h],w[w.length-1-h]=d)}else{var k=e-+this._x.call(null,_.data),A=t-+this._y.call(null,_.data),T=r-+this._z.call(null,_.data),P=k*k+A*A+T*T;if(P<n){var O=Math.sqrt(n=P);p=e-O,y=t-O,m=r-O,g=e+O,v=t+O,b=r+O,i=_.data}}return i},f.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e))||isNaN(a=+this._z.call(null,e)))return this;var t,r,n,o,i,s,a,l,c,u,f,d,h,p,y,m=this._root,g=this._x0,v=this._y0,b=this._z0,w=this._x1,_=this._y1,x=this._z1;if(!m)return this;if(m.length)for(;;){if((f=i>=(l=(g+w)/2))?g=l:w=l,(d=s>=(c=(v+_)/2))?v=c:_=c,(h=a>=(u=(b+x)/2))?b=u:x=u,t=m,!(m=m[p=h<<2|d<<1|f]))return this;if(!m.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(r=t,y=p)}for(;m.data!==e;)if(n=m,!(m=m.next))return this;return(o=m.next)&&delete m.next,n?(o?n.next=o:delete n.next,this):t?(o?t[p]=o:delete t[p],(m=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&m===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!m.length&&(r?r[y]=m:this._root=m),this):(this._root=o,this)},f.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},f.root=function(){return this._root},f.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},f.visit=function(e){var t,r,n,i,s,a,l,c,u=[],f=this._root;for(f&&u.push(new o(f,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=u.pop();)if(!e(f=t.node,n=t.x0,i=t.y0,s=t.z0,a=t.x1,l=t.y1,c=t.z1)&&f.length){var d=(n+a)/2,h=(i+l)/2,p=(s+c)/2;(r=f[7])&&u.push(new o(r,d,h,p,a,l,c)),(r=f[6])&&u.push(new o(r,n,h,p,d,l,c)),(r=f[5])&&u.push(new o(r,d,i,p,a,h,c)),(r=f[4])&&u.push(new o(r,n,i,p,d,h,c)),(r=f[3])&&u.push(new o(r,d,h,s,a,l,p)),(r=f[2])&&u.push(new o(r,n,h,s,d,l,p)),(r=f[1])&&u.push(new o(r,d,i,s,a,h,p)),(r=f[0])&&u.push(new o(r,n,i,s,d,h,p))}return this},f.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new o(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=r.pop();){var i=t.node;if(i.length){var s,a=t.x0,l=t.y0,c=t.z0,u=t.x1,f=t.y1,d=t.z1,h=(a+u)/2,p=(l+f)/2,y=(c+d)/2;(s=i[0])&&r.push(new o(s,a,l,c,h,p,y)),(s=i[1])&&r.push(new o(s,h,l,c,u,p,y)),(s=i[2])&&r.push(new o(s,a,p,c,h,f,y)),(s=i[3])&&r.push(new o(s,h,p,c,u,f,y)),(s=i[4])&&r.push(new o(s,a,l,y,h,p,d)),(s=i[5])&&r.push(new o(s,h,l,y,u,p,d)),(s=i[6])&&r.push(new o(s,a,p,y,h,f,d)),(s=i[7])&&r.push(new o(s,h,p,y,u,f,d))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},f.x=function(e){return arguments.length?(this._x=e,this):this._x},f.y=function(e){return arguments.length?(this._y=e,this):this._y},f.z=function(e){return arguments.length?(this._z=e,this):this._z}},30041:(e,t,r)=>{"use strict";var n=r(30592)(),o=r(7585),i=n&&o("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(e){i=!1}var s=o("%SyntaxError%"),a=o("%TypeError%"),l=r(75795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],f=!!l&&l(e,t);if(i)i(e,t,{configurable:null===c&&f?f.configurable:!c,enumerable:null===n&&f?f.enumerable:!n,value:r,writable:null===o&&f?f.writable:!o});else{if(!u&&(n||o||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},68165:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),a=r(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},90675:(e,t,r)=>{"use strict";var n=r(68165);e.exports=Function.prototype.bind||n},7585:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,f=r(25963)(),d=r(80024)(),h=Object.getPrototypeOf||(d?function(e){return e.__proto__}:null),p={},y="undefined"!=typeof Uint8Array&&h?h(Uint8Array):n,m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f&&h?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&h?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&h?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&h?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&h?h(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(h)try{null.error}catch(e){var g=h(h(e));m["%Error.prototype%"]=g}var v=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&h&&(r=h(o.prototype))}return m[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=r(90675),_=r(9957),x=w.call(Function.call,Array.prototype.concat),S=w.call(Function.apply,Array.prototype.splice),E=w.call(Function.call,String.prototype.replace),k=w.call(Function.call,String.prototype.slice),A=w.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,O=function(e,t){var r,n=e;if(_(b,n)&&(n="%"+(r=b[n])[0]+"%"),_(m,n)){var i=m[n];if(i===p&&(i=v(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=k(e,0,1),r=k(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return E(e,T,(function(e,t,r,o){n[n.length]=r?E(o,P,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=O("%"+n+"%",t),a=i.name,c=i.value,u=!1,f=i.alias;f&&(n=f[0],S(r,x([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],y=k(p,0,1),g=k(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==p&&h||(u=!0),_(m,a="%"+(n+="."+p)+"%"))c=m[a];else if(null!=c){if(!(p in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var v=l(c,p);c=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[p]}else h=_(c,p),c=c[p];h&&!u&&(m[a]=c)}}return c}},25963:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(73145);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},73145:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},30655:(e,t,r)=>{"use strict";var n=r(47239)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},88059:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),a=r(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},26389:(e,t,r)=>{"use strict";var n=r(88059);e.exports=Function.prototype.bind||n},47239:(e,t,r)=>{"use strict";var n,o=r(69383),i=r(41237),s=r(79290),a=r(79538),l=r(58068),c=r(69675),u=r(35345),f=Function,d=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var p=function(){throw new c},y=h?function(){try{return p}catch(e){try{return h(arguments,"callee").get}catch(e){return p}}}():p,m=r(50957)(),g=r(80024)(),v=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),b={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&v?v(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":w,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(e){var x=v(v(e));_["%Error.prototype%"]=x}var S=function e(t){var r;if("%AsyncFunction%"===t)r=d("async function () {}");else if("%GeneratorFunction%"===t)r=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=d("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(r=v(o.prototype))}return _[t]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=r(26389),A=r(9957),T=k.call(Function.call,Array.prototype.concat),P=k.call(Function.apply,Array.prototype.splice),O=k.call(Function.call,String.prototype.replace),C=k.call(Function.call,String.prototype.slice),R=k.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,D=function(e,t){var r,n=e;if(A(E,n)&&(n="%"+(r=E[n])[0]+"%"),A(_,n)){var o=_[n];if(o===b&&(o=S(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,I,(function(e,t,r,o){n[n.length]=r?O(o,M,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=D("%"+n+"%",t),i=o.name,s=o.value,a=!1,u=o.alias;u&&(n=u[0],P(r,T([0,1],u)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],y=C(p,0,1),m=C(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==p&&d||(a=!0),A(_,i="%"+(n+="."+p)+"%"))s=_[i];else if(null!=s){if(!(p in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&f+1>=r.length){var g=h(s,p);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[p]}else d=A(s,p),s=s[p];d&&!a&&(_[i]=s)}}return s}},50957:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(95279);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},95279:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},41237:e=>{"use strict";e.exports=EvalError},69383:e=>{"use strict";e.exports=Error},79290:e=>{"use strict";e.exports=RangeError},79538:e=>{"use strict";e.exports=ReferenceError},58068:e=>{"use strict";e.exports=SyntaxError},69675:e=>{"use strict";e.exports=TypeError},35345:e=>{"use strict";e.exports=URIError},5388:(e,t,r)=>{"use strict";var n=r(69675);e.exports=function(e){if(null==e)throw new n(arguments.length>0&&arguments[1]||"Cannot call method on "+e);return e}},32017:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},89353:e=>{"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==r.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,i=t.call(arguments,1),s=Math.max(0,n.length-i.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var r=n.apply(this,i.concat(t.call(arguments)));return Object(r)===r?r:this}return n.apply(e,i.concat(t.call(arguments)))})),n.prototype){var c=function(){};c.prototype=n.prototype,o.prototype=new c,c.prototype=null}return o}},66743:(e,t,r)=>{"use strict";var n=r(89353);e.exports=Function.prototype.bind||n},54664:(e,t,r)=>{"use strict";function n(e,t=!1){let r=0;for(let t=0,n=e.length;t<n;t++){const o=e[t],i=e[t===n-1?0:t+1];r+=o[0]*i[1],r-=i[0]*o[1]}return t?r/2:Math.abs(r/2)}r.d(t,{A:()=>n})},28172:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(38523),o=r(8004);function i(e,t){const[[r,n],[i,s]]=e,[[a,l],[c,u]]=t;if(r===a&&n===l)return!0;if(i===c&&s===u)return!0;if((0,o.kW)(e[0],t)||(0,o.kW)(e[1],t))return!0;if((0,o.kW)(t[0],e)||(0,o.kW)(t[1],e))return!0;const f=(u-l)*(i-r)-(c-a)*(s-n);if(0===f)return!1;const d=n-l,h=r-a,p=((c-a)*d-(u-l)*h)/f,y=((i-r)*d-(s-n)*h)/f;return p>0&&p<1&&y>0&&y<1}function s(e,t){let r=!1;const s=(0,n.V)(t);for(let t=0,n=s.length-1;t<n;t++){const n=s[t],a=s[t+1];if(i(e,[n,a])||(0,o.kW)(n,e)&&(0,o.kW)(a,e)){r=!0;break}}return r}},15854:(e,t,r)=>{"use strict";function n(e,t){let r=e[0],n=e[1],o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const s=t[e][0],a=t[e][1],l=t[i][0],c=t[i][1];a>n!=c>n&&r<(l-s)*(n-a)/(c-a)+s&&(o=!o)}return o}r.d(t,{s:()=>n})},8004:(e,t,r)=>{"use strict";function n(e){return Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2))}function o(e,t,r=0){const o=n(t);return function(e,t,r=0){return Math.abs((n=e,o=t[0],i=t[1],(n[0]-i[0])*(o[1]-i[1])-(n[1]-i[1])*(o[0]-i[0])))<=r;var n,o,i}(e,t,r)&&n([t[0],e])<=o&&n([t[1],e])<=o}r.d(t,{kW:()=>o})},66942:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(38523),o=r(28172),i=r(15854);function s(e,t){let r=!0;const s=(0,n.V)(e);for(let e=0,n=s.length-1;e<n;e++){const n=s[e];if(!(0,i.s)(n,t)){r=!1;break}if((0,o.v)([n,s[e+1]],t)){r=!1;break}}return r}},38523:(e,t,r)=>{"use strict";function n(e){return function(e){const t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]}(e)?e:[...e,e[0]]}r.d(t,{V:()=>n})},70453:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,f=r(64039)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=d(o.prototype))}return y[t]=r,r},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(66743),b=r(19030),w=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),x=v.call(Function.call,String.prototype.replace),S=v.call(Function.call,String.prototype.slice),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,A=function(e,t){var r,n=e;if(b(g,n)&&(n="%"+(r=g[n])[0]+"%"),b(y,n)){var i=y[n];if(i===h&&(i=m(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var r=function(e){var t=S(e,0,1),r=S(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return x(e,E,(function(e,t,r,o){n[n.length]=r?x(o,k,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=A("%"+n+"%",t),a=i.name,c=i.value,u=!1,f=i.alias;f&&(n=f[0],_(r,w([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],m=S(p,0,1),g=S(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==p&&h||(u=!0),b(y,a="%"+(n+="."+p)+"%"))c=y[a];else if(null!=c){if(!(p in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var v=l(c,p);c=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[p]}else h=b(c,p),c=c[p];h&&!u&&(y[a]=c)}}return c}},75795:(e,t,r)=>{"use strict";var n=r(1219)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},1219:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,f=r(23009)(),d=Object.getPrototypeOf||function(e){return e.__proto__},h={},p="undefined"==typeof Uint8Array?n:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?d(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(e){var m=d(d(e));y["%Error.prototype%"]=m}var g=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=d(o.prototype))}return y[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(66743),w=r(19030),_=b.call(Function.call,Array.prototype.concat),x=b.call(Function.apply,Array.prototype.splice),S=b.call(Function.call,String.prototype.replace),E=b.call(Function.call,String.prototype.slice),k=b.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,P=function(e,t){var r,n=e;if(w(v,n)&&(n="%"+(r=v[n])[0]+"%"),w(y,n)){var i=y[n];if(i===h&&(i=g(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===k(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,A,(function(e,t,r,o){n[n.length]=r?S(o,T,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=P("%"+n+"%",t),a=i.name,c=i.value,u=!1,f=i.alias;f&&(n=f[0],x(r,_([0,1],f)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],m=E(p,0,1),g=E(p,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==p&&h||(u=!0),w(y,a="%"+(n+="."+p)+"%"))c=y[a];else if(null!=c){if(!(p in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var v=l(c,p);c=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[p]}else h=w(c,p),c=c[p];h&&!u&&(y[a]=c)}}return c}},23009:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(38547);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},38547:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},65746:(e,t,r)=>{"use strict";r.d(t,{dn:()=>k});class n{static getElements(e,t=document){if("string"==typeof e){const r="getElementById"in t?t:void 0;if(r&&!isNaN(+e[0])){const t=r.getElementById(e);return t?[t]:[]}let n=t.querySelectorAll(e);return n.length||"."===e[0]||"#"===e[0]||(n=t.querySelectorAll("."+e),n.length||(n=t.querySelectorAll("#"+e))),Array.from(n)}return[e]}static getElement(e,t=document){if("string"==typeof e){const r="getElementById"in t?t:void 0;if(!e.length)return null;if(r&&"#"===e[0])return r.getElementById(e.substring(1));if("#"===e[0]||"."===e[0]||"["===e[0])return t.querySelector(e);if(r&&!isNaN(+e[0]))return r.getElementById(e);let n=t.querySelector(e);return r&&!n&&(n=r.getElementById(e)),n||(n=t.querySelector("."+e)),n}return e}static shouldSizeToContent(e,t=!1){return e?.grid&&(t?!0===e.sizeToContent||!0===e.grid.opts.sizeToContent&&void 0===e.sizeToContent:!!e.sizeToContent||e.grid.opts.sizeToContent&&!1!==e.sizeToContent)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return n.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){let r=e.x>t.x?e.x:t.x,n=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(n<=r)return 0;let o=e.y>t.y?e.y:t.y,i=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return i<=o?0:(n-r)*(i-o)}static area(e){return e.w*e.h}static sort(e,t=1){const r=1e4;return e.sort(((e,n)=>{let o=t*((e.y??r)-(n.y??r));return 0===o?t*((e.x??r)-(n.x??r)):o}))}static find(e,t){return t?e.find((e=>e.id===t)):void 0}static createStylesheet(e,t,r){let n=document.createElement("style");const o=r?.nonce;return o&&(n.nonce=o),n.setAttribute("type","text/css"),n.setAttribute("gs-style-id",e),n.styleSheet?n.styleSheet.cssText="":n.appendChild(document.createTextNode("")),t?t.insertBefore(n,t.firstChild):(t=document.getElementsByTagName("head")[0]).appendChild(n),n.sheet}static removeStylesheet(e,t){let r=(t||document).querySelector("STYLE[gs-style-id="+e+"]");r&&r.parentNode&&r.remove()}static addCSSRule(e,t,r){"function"==typeof e.addRule?e.addRule(t,r):"function"==typeof e.insertRule&&e.insertRule(`${t}{${r}}`)}static toBool(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}static toNumber(e){return null===e||0===e.length?void 0:Number(e)}static parseHeight(e){let t,r="px";if("string"==typeof e)if("auto"===e||""===e)t=0;else{let n=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!n)throw new Error(`Invalid height val = ${e}`);r=n[2]||"px",t=parseFloat(n[1])}else t=e;return{h:t,unit:r}}static defaults(e,...t){return t.forEach((t=>{for(const r in t){if(!t.hasOwnProperty(r))return;null===e[r]||void 0===e[r]?e[r]=t[r]:"object"==typeof t[r]&&"object"==typeof e[r]&&this.defaults(e[r],t[r])}})),e}static same(e,t){if("object"!=typeof e)return e==t;if(typeof e!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static copyPos(e,t,r=!1){return void 0!==t.x&&(e.x=t.x),void 0!==t.y&&(e.y=t.y),void 0!==t.w&&(e.w=t.w),void 0!==t.h&&(e.h=t.h),r&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if("object"==typeof e&&"object"==typeof t)for(let r in e){const o=e[r],i=t[r];"_"===r[0]||o===i?delete e[r]:o&&"object"==typeof o&&void 0!==i&&(n.removeInternalAndSame(o,i),Object.keys(o).length||delete e[r])}}static removeInternalForSave(e,t=!0){for(let t in e)"_"!==t[0]&&null!==e[t]&&void 0!==e[t]||delete e[t];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,1!==e.w&&e.w!==e.minW||delete e.w,1!==e.h&&e.h!==e.minH||delete e.h}static throttle(e,t){let r=!1;return(...n)=>{r||(r=!0,setTimeout((()=>{e(...n),r=!1}),t))}}static removePositioningStyles(e){let t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;const t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,r){let n=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight;if(n.top<0||n.bottom>o){let i=n.bottom-o,s=n.top,a=this.getScrollElement(e);if(null!==a){let l=a.scrollTop;n.top<0&&r<0?e.offsetHeight>o?a.scrollTop+=r:a.scrollTop+=Math.abs(s)>Math.abs(r)?r:s:r>0&&(e.offsetHeight>o?a.scrollTop+=r:a.scrollTop+=i>r?r:i),t.top+=a.scrollTop-l}}}static updateScrollResize(e,t,r){const n=this.getScrollElement(t),o=n.clientHeight,i=n===this.getScrollElement()?0:n.getBoundingClientRect().top,s=e.clientY-i,a=s>o-r;s<r?n.scrollBy({behavior:"smooth",top:s-r}):a&&n.scrollBy({behavior:"smooth",top:r-(o-s)})}static clone(e){return null==e||"object"!=typeof e?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],r=n.clone(e);for(const o in r)r.hasOwnProperty(o)&&"object"==typeof r[o]&&"__"!==o.substring(0,2)&&!t.find((e=>e===o))&&(r[o]=n.cloneDeep(e[o]));return r}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let r;r="string"==typeof t?n.getElement(t):t,r&&r.appendChild(e)}static addElStyles(e,t){if(t instanceof Object)for(const r in t)t.hasOwnProperty(r)&&(Array.isArray(t[r])?t[r].forEach((t=>{e.style[r]=t})):e.style[r]=t[r])}static initEvent(e,t){const r={type:t.type},n={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach((t=>r[t]=e[t])),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((t=>r[t]=e[t])),{...r,...n}}static simulateMouseEvent(e,t,r){const n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.target),(r||e.target).dispatchEvent(n)}static getValuesFromTransformedElement(e){const t=document.createElement("div");n.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);const r=t.getBoundingClientRect();return e.removeChild(t),t.remove(),{xScale:1/r.width,yScale:1/r.height,xOffset:r.left,yOffset:r.top}}static swap(e,t,r){if(!e)return;const n=e[t];e[t]=e[r],e[r]=n}static canBeRotated(e){return!(!e||e.w===e.h||e.locked||e.noResize||e.grid?.opts.disableResize||e.minW&&e.minW===e.maxW||e.minH&&e.minH===e.maxH)}}class o{constructor(e={}){this.addedNodes=[],this.removedNodes=[],this.column=e.column||12,this.maxRow=e.maxRow,this._float=e.float,this.nodes=e.nodes||[],this.onChange=e.onChange}batchUpdate(e=!0,t=!0){return!!this.batchMode===e||(this.batchMode=e,e?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,t&&this._packNodes(),this._notify())),this}_useEntireRowArea(e,t){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!e._moving||e._skipDown||t.y<=e.y)}_fixCollisions(e,t=e,r,o={}){if(this.sortNodes(-1),!(r=r||this.collide(e,t)))return!1;if(e._moving&&!o.nested&&!this.float&&this.swap(e,r))return!0;let i=t;!this._loading&&this._useEntireRowArea(e,t)&&(i={x:0,w:this.column,y:t.y,h:t.h},r=this.collide(e,i,o.skip));let s=!1,a={nested:!0,pack:!1};for(;r=r||this.collide(e,i,o.skip);){let i;if(r.locked||this._loading||e._moving&&!e._skipDown&&t.y>e.y&&!this.float&&(!this.collide(r,{...r,y:e.y},e)||!this.collide(r,{...r,y:t.y-r.h},e))?(e._skipDown=e._skipDown||t.y>e.y,i=this.moveNode(e,{...t,y:r.y+r.h,...a}),(r.locked||this._loading)&&i?n.copyPos(t,e):!r.locked&&i&&o.pack&&(this._packNodes(),t.y=r.y+r.h,n.copyPos(e,t)),s=s||i):i=this.moveNode(r,{...r,y:t.y+t.h,skip:e,...a}),!i)return s;r=void 0}return s}collide(e,t=e,r){const o=e._id,i=r?._id;return this.nodes.find((e=>e._id!==o&&e._id!==i&&n.isIntercepted(e,t)))}collideAll(e,t=e,r){const o=e._id,i=r?._id;return this.nodes.filter((e=>e._id!==o&&e._id!==i&&n.isIntercepted(e,t)))}directionCollideCoverage(e,t,r){if(!t.rect||!e._rect)return;let n,o=e._rect,i={...t.rect};i.y>o.y?(i.h+=i.y-o.y,i.y=o.y):i.h+=o.y-i.y,i.x>o.x?(i.w+=i.x-o.x,i.x=o.x):i.w+=o.x-i.x;let s=.5;for(let e of r){if(e.locked||!e._rect)break;let t=e._rect,r=Number.MAX_VALUE,a=Number.MAX_VALUE;o.y<t.y?r=(i.y+i.h-t.y)/t.h:o.y+o.h>t.y+t.h&&(r=(t.y+t.h-i.y)/t.h),o.x<t.x?a=(i.x+i.w-t.x)/t.w:o.x+o.w>t.x+t.w&&(a=(t.x+t.w-i.x)/t.w);let l=Math.min(a,r);l>s&&(s=l,n=e)}return t.collide=n,n}cacheRects(e,t,r,n,o,i){return this.nodes.forEach((s=>s._rect={y:s.y*t+r,x:s.x*e+i,w:s.w*e-i-n,h:s.h*t-r-o})),this}swap(e,t){if(!t||t.locked||!e||e.locked)return!1;function r(){let r=t.x,n=t.y;return t.x=e.x,t.y=e.y,e.h!=t.h?(e.x=r,e.y=t.y+t.h):e.w!=t.w?(e.x=t.x+t.w,e.y=n):(e.x=r,e.y=n),e._dirty=t._dirty=!0,!0}let o;if(e.w===t.w&&e.h===t.h&&(e.x===t.x||e.y===t.y)&&(o=n.isTouching(e,t)))return r();if(!1!==o){if(e.w===t.w&&e.x===t.x&&(o||(o=n.isTouching(e,t)))){if(t.y<e.y){let r=e;e=t,t=r}return r()}if(!1!==o){if(e.h===t.h&&e.y===t.y&&(o||(o=n.isTouching(e,t)))){if(t.x<e.x){let r=e;e=t,t=r}return r()}return!1}}}isAreaEmpty(e,t,r,n){let o={x:e||0,y:t||0,w:r||1,h:n||1};return!this.collide(o)}compact(e="compact",t=!0){if(0===this.nodes.length)return this;t&&this.sortNodes();const r=this.batchMode;r||this.batchUpdate();const n=this._inColumnResize;n||(this._inColumnResize=!0);let o=this.nodes;return this.nodes=[],o.forEach(((t,r,n)=>{let o;t.locked||(t.autoPosition=!0,"list"===e&&r&&(o=n[r-1])),this.addNode(t,!1,o)})),n||delete this._inColumnResize,r||this.batchUpdate(!1),this}set float(e){this._float!==e&&(this._float=e||!1,e||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(e=1){return this.nodes=n.sort(this.nodes,e),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((e=>{if(e._updating||void 0===e._orig||e.y===e._orig.y)return;let t=e.y;for(;t>e._orig.y;){--t,this.collide(e,{x:e.x,y:t,w:e.w,h:e.h})||(e._dirty=!0,e.y=t)}})):this.nodes.forEach(((e,t)=>{if(!e.locked)for(;e.y>0;){let r=0===t?0:e.y-1;if(!(0===t||!this.collide(e,{x:e.x,y:r,w:e.w,h:e.h})))break;e._dirty=e.y!==r,e.y=r}}))),this}prepareNode(e,t){e._id=e._id??o._idSeq++,void 0!==e.x&&void 0!==e.y&&null!==e.x&&null!==e.y||(e.autoPosition=!0);let r={x:0,y:0,w:1,h:1};return n.defaults(e,r),e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,n.sanitizeMinMax(e),"string"==typeof e.x&&(e.x=Number(e.x)),"string"==typeof e.y&&(e.y=Number(e.y)),"string"==typeof e.w&&(e.w=Number(e.w)),"string"==typeof e.h&&(e.h=Number(e.h)),isNaN(e.x)&&(e.x=r.x,e.autoPosition=!0),isNaN(e.y)&&(e.y=r.y,e.autoPosition=!0),isNaN(e.w)&&(e.w=r.w),isNaN(e.h)&&(e.h=r.h),this.nodeBoundFix(e,t),e}nodeBoundFix(e,t){let r=e._orig||n.copyPos({},e);e.maxW&&(e.w=Math.min(e.w,e.maxW)),e.maxH&&(e.h=Math.min(e.h,e.maxH)),e.minW&&e.minW<=this.column&&(e.w=Math.max(e.w,e.minW)),e.minH&&(e.h=Math.max(e.h,e.minH));if((e.x||0)+(e.w||1)>this.column&&this.column<12&&!this._inColumnResize&&e._id&&-1===this.findCacheLayout(e,12)){let t={...e};t.autoPosition||void 0===t.x?(delete t.x,delete t.y):t.x=Math.min(11,t.x),t.w=Math.min(12,t.w||1),this.cacheOneLayout(t,12)}return e.w>this.column?e.w=this.column:e.w<1&&(e.w=1),this.maxRow&&e.h>this.maxRow?e.h=this.maxRow:e.h<1&&(e.h=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.w>this.column&&(t?e.w=this.column-e.x:e.x=this.column-e.w),this.maxRow&&e.y+e.h>this.maxRow&&(t?e.h=this.maxRow-e.y:e.y=this.maxRow-e.h),n.samePos(e,r)||(e._dirty=!0),this}getDirtyNodes(e){return e?this.nodes.filter((e=>e._dirty&&!n.samePos(e,e._orig))):this.nodes.filter((e=>e._dirty))}_notify(e){if(this.batchMode||!this.onChange)return this;let t=(e||[]).concat(this.getDirtyNodes());return this.onChange(t),this}cleanNodes(){return this.batchMode||this.nodes.forEach((e=>{delete e._dirty,delete e._lastTried})),this}saveInitial(){return this.nodes.forEach((e=>{e._orig=n.copyPos({},e),delete e._dirty})),this._hasLocked=this.nodes.some((e=>e.locked)),this}restoreInitial(){return this.nodes.forEach((e=>{n.samePos(e,e._orig)||(n.copyPos(e,e._orig),e._dirty=!0)})),this._notify(),this}findEmptyPosition(e,t=this.nodes,r=this.column,o){let i=!1;for(let s=o?o.y*r+(o.x+o.w):0;!i;++s){let o=s%r,a=Math.floor(s/r);if(o+e.w>r)continue;let l={x:o,y:a,w:e.w,h:e.h};t.find((e=>n.isIntercepted(l,e)))||(e.x===o&&e.y===a||(e._dirty=!0),e.x=o,e.y=a,delete e.autoPosition,i=!0)}return i}addNode(e,t=!1,r){let n,o=this.nodes.find((t=>t._id===e._id));return o||(this._inColumnResize?this.nodeBoundFix(e):this.prepareNode(e),delete e._temporaryRemoved,delete e._removeDOM,e.autoPosition&&this.findEmptyPosition(e,this.nodes,this.column,r)&&(delete e.autoPosition,n=!0),this.nodes.push(e),t&&this.addedNodes.push(e),n||this._fixCollisions(e),this.batchMode||this._packNodes()._notify(),e)}removeNode(e,t=!0,r=!1){return this.nodes.find((t=>t._id===e._id))?(r&&this.removedNodes.push(e),t&&(e._removeDOM=!0),this.nodes=this.nodes.filter((t=>t._id!==e._id)),e._isAboutToRemove||this._packNodes(),this._notify([e]),this):this}removeAll(e=!0,t=!0){if(delete this._layouts,!this.nodes.length)return this;e&&this.nodes.forEach((e=>e._removeDOM=!0));const r=this.nodes;return this.removedNodes=t?r:[],this.nodes=[],this._notify(r)}moveNodeCheck(e,t){if(!this.changedPosConstrain(e,t))return!1;if(t.pack=!0,!this.maxRow)return this.moveNode(e,t);let r,i=new o({column:this.column,float:this.float,nodes:this.nodes.map((t=>t._id===e._id?(r={...t},r):{...t}))});if(!r)return!1;let s=i.moveNode(r,t)&&i.getRow()<=Math.max(this.getRow(),this.maxRow);if(!s&&!t.resizing&&t.collide){let r=t.collide.el.gridstackNode;if(this.swap(e,r))return this._notify(),!0}return!!s&&(i.nodes.filter((e=>e._dirty)).forEach((e=>{let t=this.nodes.find((t=>t._id===e._id));t&&(n.copyPos(t,e),t._dirty=!0)})),this._notify(),!0)}willItFit(e){if(delete e._willFitPos,!this.maxRow)return!0;let t=new o({column:this.column,float:this.float,nodes:this.nodes.map((e=>({...e})))}),r={...e};return this.cleanupNode(r),delete r.el,delete r._id,delete r.content,delete r.grid,t.addNode(r),t.getRow()<=this.maxRow&&(e._willFitPos=n.copyPos({},r),!0)}changedPosConstrain(e,t){return t.w=t.w||e.w,t.h=t.h||e.h,e.x!==t.x||e.y!==t.y||(e.maxW&&(t.w=Math.min(t.w,e.maxW)),e.maxH&&(t.h=Math.min(t.h,e.maxH)),e.minW&&(t.w=Math.max(t.w,e.minW)),e.minH&&(t.h=Math.max(t.h,e.minH)),e.w!==t.w||e.h!==t.h)}moveNode(e,t){if(!e||!t)return!1;let r;void 0!==t.pack||this.batchMode||(r=t.pack=!0),"number"!=typeof t.x&&(t.x=e.x),"number"!=typeof t.y&&(t.y=e.y),"number"!=typeof t.w&&(t.w=e.w),"number"!=typeof t.h&&(t.h=e.h);let o=e.w!==t.w||e.h!==t.h,i=n.copyPos({},e,!0);if(n.copyPos(i,t),this.nodeBoundFix(i,o),n.copyPos(t,i),!t.forceCollide&&n.samePos(e,t))return!1;let s=n.copyPos({},e),a=this.collideAll(e,i,t.skip),l=!0;if(a.length){let o=e._moving&&!t.nested,s=o?this.directionCollideCoverage(e,t,a):a[0];if(o&&s&&e.grid?.opts?.subGridDynamic&&!e.grid._isTemp){let r=n.areaIntercept(t.rect,s._rect),o=n.area(t.rect),i=n.area(s._rect);r/(o<i?o:i)>.8&&(s.grid.makeSubGrid(s.el,void 0,e),s=void 0)}s?l=!this._fixCollisions(e,i,s,t):(l=!1,r&&delete t.pack)}return l&&(e._dirty=!0,n.copyPos(e,i)),t.pack&&this._packNodes()._notify(),!n.samePos(e,s)}getRow(){return this.nodes.reduce(((e,t)=>Math.max(e,t.y+t.h)),0)}beginUpdate(e){return e._updating||(e._updating=!0,delete e._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let e=this.nodes.find((e=>e._updating));return e&&(delete e._updating,delete e._skipDown),this}save(e=!0,t){let r=this._layouts?.length,o=r&&this.column!==r-1?this._layouts[r-1]:null,i=[];return this.sortNodes(),this.nodes.forEach((r=>{let s=o?.find((e=>e._id===r._id)),a={...r,...s||{}};n.removeInternalForSave(a,!e),t&&t(r,a),i.push(a)})),i}layoutsNodesChange(e){return!this._layouts||this._inColumnResize||this._layouts.forEach(((t,r)=>{if(!t||r===this.column)return this;if(r<this.column)this._layouts[r]=void 0;else{let n=r/this.column;e.forEach((e=>{if(!e._orig)return;let r=t.find((t=>t._id===e._id));r&&(r.y>=0&&e.y!==e._orig.y&&(r.y+=e.y-e._orig.y),e.x!==e._orig.x&&(r.x=Math.round(e.x*n)),e.w!==e._orig.w&&(r.w=Math.round(e.w*n)))}))}})),this}columnChanged(e,t,r="moveScale"){if(!this.nodes.length||!t||e===t)return this;if("none"===r)return this;const o="compact"===r||"list"===r;o&&this.sortNodes(1),t<e&&this.cacheLayout(this.nodes,e),this.batchUpdate();let i=[],s=o?this.nodes:n.sort(this.nodes,-1);if(t>e&&this._layouts){const r=this._layouts[t]||[];let n=this._layouts.length-1;!r.length&&e!==n&&this._layouts[n]?.length&&(e=n,this._layouts[n].forEach((e=>{let t=s.find((t=>t._id===e._id));t&&(o||e.autoPosition||(t.x=e.x??t.x,t.y=e.y??t.y),t.w=e.w??t.w,null!=e.x&&void 0!==e.y||(t.autoPosition=!0))}))),r.forEach((e=>{let t=s.findIndex((t=>t._id===e._id));if(-1!==t){const r=s[t];if(o)return void(r.w=e.w);(e.autoPosition||isNaN(e.x)||isNaN(e.y))&&this.findEmptyPosition(e,i),e.autoPosition||(r.x=e.x??r.x,r.y=e.y??r.y,r.w=e.w??r.w,i.push(r)),s.splice(t,1)}}))}if(o)this.compact(r,!1);else{if(s.length)if("function"==typeof r)r(t,e,i,s);else{let n=o?1:t/e,a="move"===r||"moveScale"===r,l="scale"===r||"moveScale"===r;s.forEach((r=>{r.x=1===t?0:a?Math.round(r.x*n):Math.min(r.x,t-1),r.w=1===t||1===e?1:l?Math.round(r.w*n)||1:Math.min(r.w,t),i.push(r)})),s=[]}i=n.sort(i,-1),this._inColumnResize=!0,this.nodes=[],i.forEach((e=>{this.addNode(e,!1),delete e._orig}))}return this.nodes.forEach((e=>delete e._orig)),this.batchUpdate(!1,!o),delete this._inColumnResize,this}cacheLayout(e,t,r=!1){let n=[];return e.forEach(((e,t)=>{if(void 0===e._id){const t=e.id?this.nodes.find((t=>t.id===e.id)):void 0;e._id=t?._id??o._idSeq++}n[t]={x:e.x,y:e.y,w:e.w,_id:e._id}})),this._layouts=r?[]:this._layouts||[],this._layouts[t]=n,this}cacheOneLayout(e,t){e._id=e._id??o._idSeq++;let r={x:e.x,y:e.y,w:e.w,_id:e._id};(e.autoPosition||void 0===e.x)&&(delete r.x,delete r.y,e.autoPosition&&(r.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[t]=this._layouts[t]||[];let n=this.findCacheLayout(e,t);return-1===n?this._layouts[t].push(r):this._layouts[t][n]=r,this}findCacheLayout(e,t){return this._layouts?.[t]?.findIndex((t=>t._id===e._id))??-1}removeNodeFromLayoutCache(e){if(this._layouts)for(let t=0;t<this._layouts.length;t++){let r=this.findCacheLayout(e,t);-1!==r&&this._layouts[t].splice(r,1)}}cleanupNode(e){for(let t in e)"_"===t[0]&&"_id"!==t&&delete e[t];return this}}o._idSeq=0;const i={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"},s={handle:".grid-stack-item-content",appendTo:"body"};class a{}const l="undefined"!=typeof window&&"undefined"!=typeof document&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class c{}function u(e,t){if(e.touches.length>1)return;e.cancelable&&e.preventDefault();const r=e.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}function f(e,t){e.cancelable&&e.preventDefault();const r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}function d(e){c.touchHandled||(c.touchHandled=!0,u(e,"mousedown"))}function h(e){c.touchHandled&&u(e,"mousemove")}function p(e){if(!c.touchHandled)return;c.pointerLeaveTimeout&&(window.clearTimeout(c.pointerLeaveTimeout),delete c.pointerLeaveTimeout);const t=!!a.dragElement;u(e,"mouseup"),t||u(e,"click"),c.touchHandled=!1}function y(e){"mouse"!==e.pointerType&&e.target.releasePointerCapture(e.pointerId)}function m(e){a.dragElement&&"mouse"!==e.pointerType&&f(e,"mouseenter")}function g(e){a.dragElement&&"mouse"!==e.pointerType&&(c.pointerLeaveTimeout=window.setTimeout((()=>{delete c.pointerLeaveTimeout,f(e,"mouseleave")}),10))}class v{constructor(e,t,r){this.host=e,this.dir=t,this.option=r,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const e=this.el=document.createElement("div");return e.classList.add("ui-resizable-handle"),e.classList.add(`${v.prefix}${this.dir}`),e.style.zIndex="100",e.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),l&&(this.el.addEventListener("touchstart",d),this.el.addEventListener("pointerdown",y)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),l&&(this.el.removeEventListener("touchstart",d),this.el.removeEventListener("pointerdown",y)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(e){this.mouseDownEvent=e,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),l&&(this.el.addEventListener("touchmove",h),this.el.addEventListener("touchend",p)),e.stopPropagation(),e.preventDefault()}_mouseMove(e){let t=this.mouseDownEvent;this.moving?this._triggerEvent("move",e):Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",e),document.addEventListener("keydown",this._keyEvent)),e.stopPropagation()}_mouseUp(e){this.moving&&(this._triggerEvent("stop",e),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),l&&(this.el.removeEventListener("touchmove",h),this.el.removeEventListener("touchend",p)),delete this.moving,delete this.mouseDownEvent,e.stopPropagation(),e.preventDefault()}_keyEvent(e){"Escape"===e.key&&(this.host.gridstackNode?.grid?.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(e,t){return this.option[e]&&this.option[e](t),this}}v.prefix="ui-resizable-";class b{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(e,t){this._eventRegister[e]=t}off(e){delete this._eventRegister[e]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}}class w extends b{constructor(e,t={}){super(),this.el=e,this.option=t,this.rectScale={x:1,y:1},this._ui=()=>{const e=this.el.parentElement.getBoundingClientRect(),t={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=this.temporalRect||t;return{position:{left:(r.left-e.left)*this.rectScale.x,top:(r.top-e.top)*this.rectScale.y},size:{width:r.width*this.rectScale.x,height:r.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(e){let t=e.handles&&e.handles!==this.option.handles,r=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach((t=>this.option[t]=e[t])),t&&(this._removeHandlers(),this._setupHandlers()),r&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(e){return e?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),a.overResizeElement===this&&delete a.overResizeElement),this}_mouseOver(e){a.overResizeElement||a.dragElement||(a.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(e){a.overResizeElement===this&&(delete a.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map((e=>e.trim())).map((e=>new v(this.el,e,{start:e=>{this._resizeStart(e)},stop:e=>{this._resizeStop(e)},move:t=>{this._resizing(t,e)}}))),this}_resizeStart(e){this.sizeToContent=n.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=n.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();const t=n.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(t,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",t),this}_resizing(e,t){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,t),this._applyChange();const r=n.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(r,this._ui()),this.triggerEvent("resize",r),this}_resizeStop(e){const t=n.initEvent(e,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(t),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",t),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=w._originStyleProp.map((e=>this.el.style[e])),this.parentOriginStylePosition=this.el.parentElement.style.position;const e=this.el.parentElement,t=n.getValuesFromTransformedElement(e);return this.rectScale={x:t.xScale,y:t.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return w._originStyleProp.forEach(((e,t)=>{this.el.style[e]=this.elOriginStyleVal[t]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(e,t){const r=this.startEvent,n={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},o=e.clientX-r.clientX,i=this.sizeToContent?0:e.clientY-r.clientY;let s,a;t.indexOf("e")>-1?n.width+=o:t.indexOf("w")>-1&&(n.width-=o,n.left+=o,s=!0),t.indexOf("s")>-1?n.height+=i:t.indexOf("n")>-1&&(n.height-=i,n.top+=i,a=!0);const l=this._constrainSize(n.width,n.height,s,a);return Math.round(n.width)!==Math.round(l.width)&&(t.indexOf("w")>-1&&(n.left+=n.width-l.width),n.width=l.width),Math.round(n.height)!==Math.round(l.height)&&(t.indexOf("n")>-1&&(n.top+=n.height-l.height),n.height=l.height),n}_constrainSize(e,t,r,n){const o=this.option,i=(r?o.maxWidthMoveLeft:o.maxWidth)||Number.MAX_SAFE_INTEGER,s=o.minWidth/this.rectScale.x||e,a=(n?o.maxHeightMoveUp:o.maxHeight)||Number.MAX_SAFE_INTEGER,l=o.minHeight/this.rectScale.y||t;return{width:Math.min(i,Math.max(s,e)),height:Math.min(a,Math.max(l,t))}}_applyChange(){let e={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){const t=this.el.parentElement,{left:r,top:n}=t.getBoundingClientRect();e={left:r,top:n,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((t=>{const r=this.temporalRect[t],n="width"===t||"left"===t?this.rectScale.x:"height"===t||"top"===t?this.rectScale.y:1;this.el.style[t]=(r-e[t])*n+"px"})),this):this}_removeHandlers(){return this.handlers.forEach((e=>e.destroy())),delete this.handlers,this}}w._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class _ extends b{constructor(e,t={}){super(),this.el=e,this.option=t,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const r=t.handle.substring(1),n=e.gridstackNode;this.dragEls=e.classList.contains(r)?[e]:n?.subGrid?[e.querySelector(t.handle)||e]:Array.from(e.querySelectorAll(t.handle)),0===this.dragEls.length&&(this.dragEls=[e]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.dragEls.forEach((e=>{e.addEventListener("mousedown",this._mouseDown),l&&(e.addEventListener("touchstart",d),e.addEventListener("pointerdown",y))})),this.el.classList.remove("ui-draggable-disabled"))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.dragEls.forEach((e=>{e.removeEventListener("mousedown",this._mouseDown),l&&(e.removeEventListener("touchstart",d),e.removeEventListener("pointerdown",y))})),e||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this}_mouseDown(e){if(!a.mouseHandled)return 0!==e.button||!this.dragEls.find((t=>t===e.target))&&e.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&e.target.closest(this.option.cancel)||(this.mouseDownEvent=e,delete this.dragging,delete a.dragElement,delete a.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),l&&(e.target.addEventListener("touchmove",h),e.target.addEventListener("touchend",p)),e.preventDefault(),document.activeElement&&document.activeElement.blur(),a.mouseHandled=!0),!0}_callDrag(e){if(!this.dragging)return;const t=n.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(t,this.ui()),this.triggerEvent("drag",t)}_mouseMove(e){let t=this.mouseDownEvent;if(this.lastDrag=e,this.dragging)if(this._dragFollow(e),a.pauseDrag){const t=Number.isInteger(a.pauseDrag)?a.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout((()=>this._callDrag(e)),t)}else this._callDrag(e);else if(Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>3){this.dragging=!0,a.dragElement=this;let t=this.el.gridstackNode?.grid;t?a.dropElement=t.el.ddElement.ddDroppable:delete a.dropElement,this.helper=this._createHelper(e),this._setupHelperContainmentStyle(),this.dragTransform=n.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment),this._setupHelperStyle(e);const r=n.initEvent(e,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(r,this.ui()),this.triggerEvent("dragstart",r),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(e){if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),l&&(e.target.removeEventListener("touchmove",h,!0),e.target.removeEventListener("touchend",p,!0)),this.dragging){delete this.dragging,delete this.el.gridstackNode?._origRotate,document.removeEventListener("keydown",this._keyEvent),a.dropElement?.el===this.el.parentElement&&delete a.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const t=n.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(t),this.triggerEvent("dragstop",t),a.dropElement&&a.dropElement.drop(e)}delete this.helper,delete this.mouseDownEvent,delete a.dragElement,delete a.dropElement,delete a.mouseHandled,e.preventDefault()}_keyEvent(e){const t=this.el.gridstackNode;if(!t?.grid)return;const r=t.grid;if("Escape"===e.key)t._origRotate&&(t._orig=t._origRotate,delete t._origRotate),r.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent);else if("r"===e.key||"R"===e.key){if(!n.canBeRotated(t))return;t._origRotate=t._origRotate||{...t._orig},delete t._moving,r.setAnimation(!1).rotate(t.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),t._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,t.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",n.swap(t._orig,"w","h"),delete t._rect,this._mouseMove(this.lastDrag)}}_createHelper(e){let t=this.el;return"function"==typeof this.option.helper?t=this.option.helper(e):"clone"===this.option.helper&&(t=n.cloneNode(this.el)),document.body.contains(t)||n.appendTo(t,"parent"===this.option.appendTo?this.el.parentElement:this.option.appendTo),t===this.el&&(this.dragElementOriginStyle=_.originStyleProp.map((e=>this.el.style[e]))),t}_setupHelperStyle(e){this.helper.classList.add("ui-draggable-dragging");const t=this.helper.style;return t.pointerEvents="none",t.width=this.dragOffset.width+"px",t.height=this.dragOffset.height+"px",t.willChange="left, top",t.position="fixed",this._dragFollow(e),t.transition="none",setTimeout((()=>{this.helper&&(t.transition=null)}),0),this}_removeHelperStyle(){this.helper.classList.remove("ui-draggable-dragging");let e=this.helper?.gridstackNode;if(!e?._isAboutToRemove&&this.dragElementOriginStyle){let e=this.helper,t=this.dragElementOriginStyle.transition||null;e.style.transition=this.dragElementOriginStyle.transition="none",_.originStyleProp.forEach((t=>e.style[t]=this.dragElementOriginStyle[t]||null)),setTimeout((()=>e.style.transition=t),50)}return delete this.dragElementOriginStyle,this}_dragFollow(e){let t=0,r=0;const n=this.helper.style,o=this.dragOffset;n.left=(e.clientX+o.offsetLeft-t)*this.dragTransform.xScale+"px",n.top=(e.clientY+o.offsetTop-r)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(e,t,r){let n=0,o=0;r&&(n=this.dragTransform.xOffset,o=this.dragTransform.yOffset);const i=t.getBoundingClientRect();return{left:i.left,top:i.top,offsetLeft:-e.clientX+i.left-n,offsetTop:-e.clientY+i.top-o,width:i.width*this.dragTransform.xScale,height:i.height*this.dragTransform.yScale}}ui(){const e=this.el.parentElement.getBoundingClientRect(),t=this.helper.getBoundingClientRect();return{position:{top:(t.top-e.top)*this.dragTransform.yScale,left:(t.left-e.left)*this.dragTransform.xScale}}}}_.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"];class x extends b{constructor(e,t={}){super(),this.el=e,this.option=t,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),l&&(this.el.addEventListener("pointerenter",m),this.el.addEventListener("pointerleave",g)))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),l&&(this.el.removeEventListener("pointerenter",m),this.el.removeEventListener("pointerleave",g)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this._setupAccept(),this}_mouseEnter(e){if(!a.dragElement)return;if(!this._canDrop(a.dragElement.el))return;e.preventDefault(),e.stopPropagation(),a.dropElement&&a.dropElement!==this&&a.dropElement._mouseLeave(e,!0),a.dropElement=this;const t=n.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(a.dragElement)),this.triggerEvent("dropover",t),this.el.classList.add("ui-droppable-over")}_mouseLeave(e,t=!1){if(!a.dragElement||a.dropElement!==this)return;e.preventDefault(),e.stopPropagation();const r=n.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(r,this._ui(a.dragElement)),this.triggerEvent("dropout",r),a.dropElement===this&&(delete a.dropElement,!t)){let t,r=this.el.parentElement;for(;!t&&r;)t=r.ddElement?.ddDroppable,r=r.parentElement;t&&t._mouseEnter(e)}}drop(e){e.preventDefault();const t=n.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(a.dragElement)),this.triggerEvent("drop",t)}_canDrop(e){return e&&(!this.accept||this.accept(e))}_setupAccept(){return this.option.accept?("string"==typeof this.option.accept?this.accept=e=>e.classList.contains(this.option.accept)||e.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(e){return{draggable:e.el,...e.ui()}}}class S{static init(e){return e.ddElement||(e.ddElement=new S(e)),e.ddElement}constructor(e){this.el=e}on(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}off(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}setupDraggable(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new _(this.el,e),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new w(this.el,e),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new x(this.el,e),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const E=new class{resizable(e,t,r,n){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddResizable&&e.ddResizable[t]();else if("destroy"===t)e.ddResizable&&e.cleanResizable();else if("option"===t)e.setupResizable({[r]:n});else{const r=e.el.gridstackNode.grid;let n=e.el.getAttribute("gs-resize-handles")||r.opts.resizable.handles||"e,s,se";"all"===n&&(n="n,e,s,w,se,sw,ne,nw");const o=!r.opts.alwaysShowResizeHandle;e.setupResizable({...r.opts.resizable,handles:n,autoHide:o,start:t.start,stop:t.stop,resize:t.resize})}})),this}draggable(e,t,r,n){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddDraggable&&e.ddDraggable[t]();else if("destroy"===t)e.ddDraggable&&e.cleanDraggable();else if("option"===t)e.setupDraggable({[r]:n});else{const r=e.el.gridstackNode.grid;e.setupDraggable({...r.opts.draggable,start:t.start,stop:t.stop,drag:t.drag})}})),this}dragIn(e,t){return this._getDDElements(e).forEach((e=>e.setupDraggable(t))),this}droppable(e,t,r,n){return"function"!=typeof t.accept||t._accept||(t._accept=t.accept,t.accept=e=>t._accept(e)),this._getDDElements(e).forEach((e=>{"disable"===t||"enable"===t?e.ddDroppable&&e.ddDroppable[t]():"destroy"===t?e.ddDroppable&&e.cleanDroppable():"option"===t?e.setupDroppable({[r]:n}):e.setupDroppable(t)})),this}isDroppable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDroppable)||e.ddElement.ddDroppable.disabled)}isDraggable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDraggable)||e.ddElement.ddDraggable.disabled)}isResizable(e){return!(!(e&&e.ddElement&&e.ddElement.ddResizable)||e.ddElement.ddResizable.disabled)}on(e,t,r){return this._getDDElements(e).forEach((e=>e.on(t,(e=>{r(e,a.dragElement?a.dragElement.el:e.target,a.dragElement?a.dragElement.helper:null)})))),this}off(e,t){return this._getDDElements(e).forEach((e=>e.off(t))),this}_getDDElements(e,t=!0){let r=n.getElements(e);if(!r.length)return[];let o=r.map((e=>e.ddElement||(t?S.init(e):null)));return t||o.filter((e=>e)),o}};class k{static init(e={},t=".grid-stack"){if("undefined"==typeof document)return null;let r=k.getGridElement(t);return r?(r.gridstack||(r.gridstack=new k(r,n.cloneDeep(e))),r.gridstack):("string"==typeof t?console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}static initAll(e={},t=".grid-stack"){let r=[];return"undefined"==typeof document||(k.getGridElements(t).forEach((t=>{t.gridstack||(t.gridstack=new k(t,n.cloneDeep(e))),r.push(t.gridstack)})),0===r.length&&console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.')),r}static addGrid(e,t={}){if(!e)return null;let r=e;if(r.gridstack){const e=r.gridstack;return t&&(e.opts={...e.opts,...t}),void 0!==t.children&&e.load(t.children),e}if(!e.classList.contains("grid-stack")||k.addRemoveCB)if(k.addRemoveCB)r=k.addRemoveCB(e,t,!0,!0);else{let n=document.implementation.createHTMLDocument("");n.body.innerHTML=`<div class="grid-stack ${t.class||""}"></div>`,r=n.body.children[0],e.appendChild(r)}return k.init(t,r)}static registerEngine(e){k.engineClass=e}get placeholder(){if(!this._placeholder){let e=document.createElement("div");e.className="placeholder-content",this.opts.placeholderText&&(e.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,i.itemClass,this.opts.itemClass),this.placeholder.appendChild(e)}return this._placeholder}constructor(e,t={}){this.el=e,this.opts=t,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},e.gridstack=this,t=t||{},e.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),t.row&&(t.minRow=t.maxRow=t.row,delete t.row);let r=n.toNumber(e.getAttribute("gs-row"));"auto"===t.column&&delete t.column,void 0!==t.alwaysShowResizeHandle&&(t._alwaysShowResizeHandle=t.alwaysShowResizeHandle);let s=t.columnOpts?.breakpoints;const c=t;if(c.oneColumnModeDomSort&&(delete c.oneColumnModeDomSort,console.log("warning: Gridstack oneColumnModeDomSort no longer supported. Use GridStackOptions.columnOpts instead.")),c.oneColumnSize||!1===c.disableOneColumnMode){const e=c.oneColumnSize||768;delete c.oneColumnSize,delete c.disableOneColumnMode,t.columnOpts=t.columnOpts||{},s=t.columnOpts.breakpoints=t.columnOpts.breakpoints||[];let r=s.find((e=>1===e.c));r?r.w=e:(r={c:1,w:e},s.push(r,{c:12,w:e+1}))}const u=t.columnOpts;u&&(u.columnWidth||u.breakpoints?.length?u.columnMax=u.columnMax||12:(delete t.columnOpts,s=void 0)),s?.length>1&&s.sort(((e,t)=>(t.w||0)-(e.w||0)));let f={...n.cloneDeep(i),column:n.toNumber(e.getAttribute("gs-column"))||i.column,minRow:r||(n.toNumber(e.getAttribute("gs-min-row"))||i.minRow),maxRow:r||(n.toNumber(e.getAttribute("gs-max-row"))||i.maxRow),staticGrid:n.toBool(e.getAttribute("gs-static"))||i.staticGrid,draggable:{handle:(t.handleClass?"."+t.handleClass:t.handle?t.handle:"")||i.draggable.handle},removableOptions:{accept:t.itemClass||i.removableOptions.accept,decline:i.removableOptions.decline}};e.getAttribute("gs-animate")&&(f.animate=n.toBool(e.getAttribute("gs-animate"))),t=n.defaults(t,f),this._initMargin(),this.checkDynamicColumn(),this.el.classList.add("gs-"+t.column),"auto"===t.rtl&&(t.rtl="rtl"===e.style.direction),t.rtl&&this.el.classList.add("grid-stack-rtl");const d=this.el.parentElement?.parentElement;let h=d?.classList.contains(i.itemClass)?d.gridstackNode:void 0;h&&(h.subGrid=this,this.parentGridItem=h,this.el.classList.add("grid-stack-nested"),h.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight="auto"===t.cellHeight,this._isAutoCellHeight||"initial"===t.cellHeight?this.cellHeight(void 0,!1):("number"==typeof t.cellHeight&&t.cellHeightUnit&&t.cellHeightUnit!==i.cellHeightUnit&&(t.cellHeight=t.cellHeight+t.cellHeightUnit,delete t.cellHeightUnit),this.cellHeight(t.cellHeight,!1)),"mobile"===t.alwaysShowResizeHandle&&(t.alwaysShowResizeHandle=l),this._styleSheetClass="gs-id-"+o._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();let p=t.engineClass||k.engineClass||o;if(this.engine=new p({column:this.getColumn(),float:t.float,maxRow:t.maxRow,onChange:e=>{let t=0;this.engine.nodes.forEach((e=>{t=Math.max(t,e.y+e.h)})),e.forEach((e=>{let t=e.el;t&&(e._removeDOM?(t&&t.remove(),delete e._removeDOM):this._writePosAttr(t,e))})),this._updateStyles(!1,t)}}),this._updateStyles(!1,0),t.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach((e=>this._prepareElement(e))),delete this.engine._loading,this.batchUpdate(!1)),t.children){const e=t.children;delete t.children,e.length&&this.load(e)}this.setAnimation(),t.subGridDynamic&&!a.pauseDrag&&(a.pauseDrag=!0),void 0!==t.draggable?.pause&&(a.pauseDrag=t.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}addWidget(e,t){let r,o;if("string"==typeof e){let t=document.implementation.createHTMLDocument("");t.body.innerHTML=e,r=t.body.children[0]}else if(0===arguments.length||1===arguments.length&&(void 0!==(i=e).el||void 0!==i.x||void 0!==i.y||void 0!==i.w||void 0!==i.h||void 0!==i.content))if(o=t=e,o?.el)r=o.el;else if(k.addRemoveCB)r=k.addRemoveCB(this.el,t,!0,!1);else{let e=t?.content||"",n=document.implementation.createHTMLDocument("");n.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${e}</div></div>`,r=n.body.children[0]}else r=e;var i;if(!r)return;if(o=r.gridstackNode,o&&r.parentElement===this.el&&this.engine.nodes.find((e=>e._id===o._id)))return r;let s=this._readAttr(r);return t=n.cloneDeep(t)||{},n.defaults(t,s),o=this.engine.prepareNode(t),this._writeAttr(r,t),this.el.appendChild(r),this.makeWidget(r,t),r}makeSubGrid(e,t,r,o=!0){let i,s=e.gridstackNode;if(s||(s=this.makeWidget(e).gridstackNode),s.subGrid?.el)return s.subGrid;let a,l=this;for(;l&&!i;)i=l.opts?.subGridOpts,l=l.parentGridItem?.grid;t=n.cloneDeep({...i||{},children:void 0,...t||s.subGridOpts||{}}),s.subGridOpts=t,"auto"===t.column&&(a=!0,t.column=Math.max(s.w||1,r?.w||1),delete t.columnOpts);let c,u,f=s.el.querySelector(".grid-stack-item-content");if(o){if(this._removeDD(s.el),u={...s,x:0,y:0},n.removeInternalForSave(u),delete u.subGridOpts,s.content&&(u.content=s.content,delete s.content),k.addRemoveCB)c=k.addRemoveCB(this.el,u,!0,!1);else{let e=document.implementation.createHTMLDocument("");e.body.innerHTML='<div class="grid-stack-item"></div>',c=e.body.children[0],c.appendChild(f),e.body.innerHTML='<div class="grid-stack-item-content"></div>',f=e.body.children[0],s.el.appendChild(f)}this._prepareDragDropByNode(s)}if(r){let e=a?t.column:s.w,n=s.h+r.h,o=s.el.style;o.transition="none",this.update(s.el,{w:e,h:n}),setTimeout((()=>o.transition=null))}let d=s.subGrid=k.addGrid(f,t);return r?._moving&&(d._isTemp=!0),a&&(d._autoColumn=!0),o&&d.addWidget(c,u),r&&(r._moving?window.setTimeout((()=>n.simulateMouseEvent(r._event,"mouseenter",d.el)),0):d.addWidget(s.el,s)),d}removeAsSubGrid(e){let t=this.parentGridItem?.grid;t&&(t.batchUpdate(),t.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach((e=>{e.x+=this.parentGridItem.x,e.y+=this.parentGridItem.y,t.addWidget(e.el,e)})),t.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,e&&window.setTimeout((()=>n.simulateMouseEvent(e._event,"mouseenter",t.el)),0))}save(e=!0,t=!1,r=k.saveCB){let o=this.engine.save(e,r);if(o.forEach((n=>{if(e&&n.el&&!n.subGrid&&!r){let e=n.el.querySelector(".grid-stack-item-content");n.content=e?e.innerHTML:void 0,n.content||delete n.content}else if(e||r||delete n.content,n.subGrid?.el){const o=n.subGrid.save(e,t,r);n.subGridOpts=t?o:{children:o},delete n.subGrid}delete n.el})),t){let e=n.cloneDeep(this.opts);e.marginBottom===e.marginTop&&e.marginRight===e.marginLeft&&e.marginTop===e.marginRight&&(e.margin=e.marginTop,delete e.marginTop,delete e.marginRight,delete e.marginBottom,delete e.marginLeft),e.rtl===("rtl"===this.el.style.direction)&&(e.rtl="auto"),this._isAutoCellHeight&&(e.cellHeight="auto"),this._autoColumn&&(e.column="auto");const t=e._alwaysShowResizeHandle;return delete e._alwaysShowResizeHandle,void 0!==t?e.alwaysShowResizeHandle=t:delete e.alwaysShowResizeHandle,n.removeInternalAndSame(e,i),e.children=o,e}return o}load(e,t=k.addRemoveCB||!0){e=n.cloneDeep(e);const r=this.getColumn();e.forEach((e=>{e.w=e.w||1,e.h=e.h||1})),e=n.sort(e);let o=0;e.forEach((e=>{o=Math.max(o,(e.x||0)+e.w)})),o>r&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(e,o,!0));const i=k.addRemoveCB;"function"==typeof t&&(k.addRemoveCB=t);let s=[];this.batchUpdate();const a=!this.engine.nodes.length;if(a&&this.setAnimation(!1),!a&&t){[...this.engine.nodes].forEach((t=>{if(!t.id)return;n.find(e,t.id)||(k.addRemoveCB&&k.addRemoveCB(this.el,t,!1,!1),s.push(t),this.removeWidget(t.el,!0,!1))}))}this.engine._loading=!0;let l=[];return this.engine.nodes=this.engine.nodes.filter((t=>!n.find(e,t.id)||(l.push(t),!1))),e.forEach((e=>{let r=n.find(l,e.id);if(r){if(n.shouldSizeToContent(r)&&(e.h=r.h),this.engine.nodeBoundFix(e),(e.autoPosition||void 0===e.x||void 0===e.y)&&(e.w=e.w||r.w,e.h=e.h||r.h,this.engine.findEmptyPosition(e)),this.engine.nodes.push(r),n.samePos(r,e)&&this.moveNode(r,{...e,forceCollide:!0}),this.update(r.el,e),e.subGridOpts?.children){let t=r.el.querySelector(".grid-stack");t&&t.gridstack&&t.gridstack.load(e.subGridOpts.children)}}else t&&this.addWidget(e)})),delete this.engine._loading,this.engine.removedNodes=s,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,i?k.addRemoveCB=i:delete k.addRemoveCB,a&&this.opts?.animate&&this.setAnimation(this.opts.animate,!0),this}batchUpdate(e=!0){return this.engine.batchUpdate(e),e||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(e=!1){if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!e||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;if("rem"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if("em"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if("cm"===this.opts.cellHeightUnit)return this.opts.cellHeight*(96/2.54);if("mm"===this.opts.cellHeightUnit)return this.opts.cellHeight*(96/2.54)/10;let t=this.el.querySelector("."+this.opts.itemClass);if(t){let e=n.toNumber(t.getAttribute("gs-h"))||1;return Math.round(t.offsetHeight/e)}let r=parseInt(this.el.getAttribute("gs-current-row"));return r?Math.round(this.el.getBoundingClientRect().height/r):this.opts.cellHeight}cellHeight(e,t=!0){if(t&&void 0!==e&&this._isAutoCellHeight!==("auto"===e)&&(this._isAutoCellHeight="auto"===e,this._updateResizeEvent()),"initial"!==e&&"auto"!==e||(e=void 0),void 0===e){let t=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;e=this.cellWidth()+t}let r=n.parseHeight(e);return this.opts.cellHeightUnit===r.unit&&this.opts.cellHeight===r.h||(this.opts.cellHeightUnit=r.unit,this.opts.cellHeight=r.h,this.resizeToContentCheck(),t&&this._updateStyles(!0)),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(e=!1){return e&&this.opts.columnOpts?.breakpointForWindow?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){const e=this.opts.columnOpts;if(!e||!e.columnWidth&&!e.breakpoints?.length)return!1;const t=this.getColumn();let r=t;const n=this._widthOrContainer(!0);if(e.columnWidth)r=Math.min(Math.round(n/e.columnWidth)||1,e.columnMax);else{r=e.columnMax;let o=0;for(;o<e.breakpoints.length&&n<=e.breakpoints[o].w;)r=e.breakpoints[o++].c||t}if(r!==t){const t=e.breakpoints?.find((e=>e.c===r));return this.column(r,t?.layout||e.layout),!0}return!1}compact(e="compact",t=!0){return this.engine.compact(e,t),this._triggerChangeEvent(),this}column(e,t="moveScale"){if(!e||e<1||this.opts.column===e)return this;let r=this.getColumn();return this.opts.column=e,this.engine?(this.engine.column=e,this.el.classList.remove("gs-"+r),this.el.classList.add("gs-"+e),this.engine.columnChanged(r,e,t),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter((e=>e.matches("."+this.opts.itemClass)&&!e.matches("."+this.opts.placeholderClass)))}destroy(e=!0){if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),e?this.el.parentNode.removeChild(this.el):(this.removeAll(e),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(e){return this.opts.float!==e&&(this.opts.float=this.engine.float=e,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(e,t=!1){let r,n=this.el.getBoundingClientRect();r=t?{top:n.top+document.documentElement.scrollTop,left:n.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};let o=e.left-r.left,i=e.top-r.top,s=n.width/this.getColumn(),a=n.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(o/s),y:Math.floor(i/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(e,t,r,n){return this.engine.isAreaEmpty(e,t,r,n)}makeWidget(e,t){let r=k.getElement(e);this._prepareElement(r,!0,t);const n=r.gridstackNode;return this._updateContainerHeight(),n.subGridOpts&&this.makeSubGrid(r,n.subGridOpts,void 0,!1),1===this.opts.column&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,r}on(e,t){if(-1!==e.indexOf(" ")){return e.split(" ").forEach((e=>this.on(e,t))),this}if("change"===e||"added"===e||"removed"===e||"enable"===e||"disable"===e){let r="enable"===e||"disable"===e;this._gsEventHandler[e]=r?e=>t(e):e=>t(e,e.detail),this.el.addEventListener(e,this._gsEventHandler[e])}else"drag"===e||"dragstart"===e||"dragstop"===e||"resizestart"===e||"resize"===e||"resizestop"===e||"dropped"===e||"resizecontent"===e?this._gsEventHandler[e]=t:console.error("GridStack.on("+e+") event not supported");return this}off(e){if(-1!==e.indexOf(" ")){return e.split(" ").forEach((e=>this.off(e))),this}return"change"!==e&&"added"!==e&&"removed"!==e&&"enable"!==e&&"disable"!==e||this._gsEventHandler[e]&&this.el.removeEventListener(e,this._gsEventHandler[e]),delete this._gsEventHandler[e],this}offAll(){return Object.keys(this._gsEventHandler).forEach((e=>this.off(e))),this}removeWidget(e,t=!0,r=!0){return k.getElements(e).forEach((e=>{if(e.parentElement&&e.parentElement!==this.el)return;let n=e.gridstackNode;n||(n=this.engine.nodes.find((t=>e===t.el))),n&&(t&&k.addRemoveCB&&k.addRemoveCB(this.el,n,!1,!1),delete e.gridstackNode,this._removeDD(e),this.engine.removeNode(n,t,r),t&&e.parentElement&&e.remove())})),r&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(e=!0,t=!0){return this.engine.nodes.forEach((t=>{e&&k.addRemoveCB&&k.addRemoveCB(this.el,t,!1,!1),delete t.el.gridstackNode,this.opts.staticGrid||this._removeDD(t.el)})),this.engine.removeAll(e,t),t&&this._triggerRemoveEvent(),this}setAnimation(e=this.opts.animate,t){return t?setTimeout((()=>{this.opts&&this.setAnimation(e)})):e?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(e,t=!0,r=!0){return!!this.opts.staticGrid===e||(e?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach((n=>{this._prepareDragDropByNode(n),n.subGrid&&r&&n.subGrid.setStatic(e,t,r)})),t&&this._setStaticClass()),this}update(e,t){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let r=arguments,n=1;return t={x:r[n++],y:r[n++],w:r[n++],h:r[n++]},this.update(e,t)}return k.getElements(e).forEach((e=>{let r=e?.gridstackNode;if(!r)return;let o=n.cloneDeep(t);this.engine.nodeBoundFix(o),delete o.autoPosition,delete o.id;let i,s=["x","y","w","h"];if(s.some((e=>void 0!==o[e]&&o[e]!==r[e]))&&(i={},s.forEach((e=>{i[e]=void 0!==o[e]?o[e]:r[e],delete o[e]}))),!i&&(o.minW||o.minH||o.maxW||o.maxH)&&(i={}),void 0!==o.content){const t=e.querySelector(".grid-stack-item-content");t&&t.innerHTML!==o.content&&(t.innerHTML=o.content,r.subGrid?.el&&(t.appendChild(r.subGrid.el),r.subGrid.opts.styleInHead||r.subGrid._updateStyles(!0))),delete o.content}let a=!1,l=!1;for(const e in o)"_"!==e[0]&&r[e]!==o[e]&&(r[e]=o[e],a=!0,l=l||!this.opts.staticGrid&&("noResize"===e||"noMove"===e||"locked"===e));if(n.sanitizeMinMax(r),i){const e=void 0!==i.w&&i.w!==r.w;this.moveNode(r,i),this.resizeToContentCheck(e,r),delete r._orig}(i||a)&&this._writeAttr(e,r),l&&this._prepareDragDropByNode(r)})),this}moveNode(e,t){const r=e._updating;r||this.engine.cleanNodes().beginUpdate(e),this.engine.moveNode(e,t),this._updateContainerHeight(),r||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(e){if(!e)return;if(e.classList.remove("size-to-content-max"),!e.clientHeight)return;const t=e.gridstackNode;if(!t)return;const r=t.grid;if(!r||e.parentElement!==r.el)return;const n=r.getCellHeight(!0);if(!n)return;let o,i=t.h?t.h*n:e.clientHeight;if(t.resizeToContentParent&&(o=e.querySelector(t.resizeToContentParent)),o||(o=e.querySelector(k.resizeToContentParent)),!o)return;const s=e.clientHeight-o.clientHeight,a=t.h?t.h*n-s:o.clientHeight;let l;if(t.subGrid)l=t.subGrid.getRow()*t.subGrid.getCellHeight(!0);else{if(t.subGridOpts?.children?.length)return;{const e=o.firstElementChild;if(!e)return void console.error(`Error: GridStack.resizeToContent() widget id:${t.id} '${k.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);l=e.getBoundingClientRect().height||a}}if(a===l)return;i+=l-a;let c=Math.ceil(i/n);const u=Number.isInteger(t.sizeToContent)?t.sizeToContent:0;u&&c>u&&(c=u,e.classList.add("size-to-content-max")),t.minH&&c<t.minH?c=t.minH:t.maxH&&c>t.maxH&&(c=t.maxH),c!==t.h&&(r._ignoreLayoutsNodeChange=!0,r.moveNode(t,{h:c}),delete r._ignoreLayoutsNodeChange)}resizeToContentCBCheck(e){k.resizeToContentCB?k.resizeToContentCB(e):this.resizeToContent(e)}rotate(e,t){return k.getElements(e).forEach((e=>{let r=e.gridstackNode;if(!n.canBeRotated(r))return;const o={w:r.h,h:r.w,minH:r.minW,minW:r.minH,maxH:r.maxW,maxW:r.maxH};if(t){let e=t.left>0?Math.floor(t.left/this.cellWidth()):0,n=t.top>0?Math.floor(t.top/this.opts.cellHeight):0;o.x=r.x+e-(r.h-(n+1)),o.y=r.y+n-e}Object.keys(o).forEach((e=>{void 0===o[e]&&delete o[e]}));const i=r._orig;this.update(e,o),r._orig=i})),this}margin(e){if(!("string"==typeof e&&e.split(" ").length>1)){let t=n.parseHeight(e);if(this.opts.marginUnit===t.unit&&this.opts.margin===t.h)return}return this.opts.margin=e,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(e){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let e=arguments,t=0,r={x:e[t++],y:e[t++],w:e[t++],h:e[t++],autoPosition:e[t++]};return this.willItFit(r)}return this.engine.willItFit(e)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let e=this.engine.getDirtyNodes(!0);return e&&e.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this}_triggerAddEvent(){if(this.engine.batchMode)return this;if(this.engine.addedNodes?.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((e=>{delete e._dirty}));const e=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",e)}return this}_triggerRemoveEvent(){if(this.engine.batchMode)return this;if(this.engine.removedNodes?.length){const e=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",e)}return this}_triggerEvent(e,t){let r=t?new CustomEvent(e,{bubbles:!1,detail:t}):new Event(e);return this.el.dispatchEvent(r),this}_removeStylesheet(){if(this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;n.removeStylesheet(this._styleSheetClass,e),delete this._styles}return this}_updateStyles(e=!1,t){if(e&&this._removeStylesheet(),void 0===t&&(t=this.getRow()),this._updateContainerHeight(),0===this.opts.cellHeight)return this;let r=this.opts.cellHeight,o=this.opts.cellHeightUnit,i=`.${this._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=n.createStylesheet(this._styleSheetClass,e,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,n.addCSSRule(this._styles,i,`height: ${r}${o}`);let t=this.opts.marginTop+this.opts.marginUnit,s=this.opts.marginBottom+this.opts.marginUnit,a=this.opts.marginRight+this.opts.marginUnit,l=this.opts.marginLeft+this.opts.marginUnit,c=`${i} > .grid-stack-item-content`,u=`.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;n.addCSSRule(this._styles,c,`top: ${t}; right: ${a}; bottom: ${s}; left: ${l};`),n.addCSSRule(this._styles,u,`top: ${t}; right: ${a}; bottom: ${s}; left: ${l};`),n.addCSSRule(this._styles,`${i} > .ui-resizable-n`,`top: ${t};`),n.addCSSRule(this._styles,`${i} > .ui-resizable-s`,`bottom: ${s}`),n.addCSSRule(this._styles,`${i} > .ui-resizable-ne`,`right: ${a}`),n.addCSSRule(this._styles,`${i} > .ui-resizable-e`,`right: ${a}`),n.addCSSRule(this._styles,`${i} > .ui-resizable-se`,`right: ${a}; bottom: ${s}`),n.addCSSRule(this._styles,`${i} > .ui-resizable-nw`,`left: ${l}`),n.addCSSRule(this._styles,`${i} > .ui-resizable-w`,`left: ${l}`),n.addCSSRule(this._styles,`${i} > .ui-resizable-sw`,`left: ${l}; bottom: ${s}`)}if((t=t||this._styles._max)>this._styles._max){let e=e=>r*e+o;for(let r=this._styles._max+1;r<=t;r++)n.addCSSRule(this._styles,`${i}[gs-y="${r}"]`,`top: ${e(r)}`),n.addCSSRule(this._styles,`${i}[gs-h="${r+1}"]`,`height: ${e(r+1)}`);this._styles._max=t}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const e=this.parentGridItem;let t=this.getRow()+this._extraDragRow;const r=this.opts.cellHeight,o=this.opts.cellHeightUnit;if(!r)return this;if(!e){const e=n.parseHeight(getComputedStyle(this.el).minHeight);if(e.h>0&&e.unit===o){const n=Math.floor(e.h/r);t<n&&(t=n)}}return this.el.setAttribute("gs-current-row",String(t)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),t&&(this.el.style[e?"minHeight":"height"]=t*r+o),e&&!e.grid.engine.batchMode&&n.shouldSizeToContent(e)&&e.grid.resizeToContentCBCheck(e.el),this}_prepareElement(e,t=!1,r){r=r||this._readAttr(e),e.gridstackNode=r,r.el=e,r.grid=this,r=this.engine.addNode(r,t),this._writeAttr(e,r),e.classList.add(i.itemClass,this.opts.itemClass);const o=n.shouldSizeToContent(r);return o?e.classList.add("size-to-content"):e.classList.remove("size-to-content"),o&&this.resizeToContentCheck(!1,r),this._prepareDragDropByNode(r),this}_writePosAttr(e,t){return void 0!==t.x&&null!==t.x&&e.setAttribute("gs-x",String(t.x)),void 0!==t.y&&null!==t.y&&e.setAttribute("gs-y",String(t.y)),t.w>1?e.setAttribute("gs-w",String(t.w)):e.removeAttribute("gs-w"),t.h>1?e.setAttribute("gs-h",String(t.h)):e.removeAttribute("gs-h"),this}_writeAttr(e,t){if(!t)return this;this._writePosAttr(e,t);let r={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(const n in r)t[n]?e.setAttribute(r[n],String(t[n])):e.removeAttribute(r[n]);return this}_readAttr(e,t=!0){let r={};r.x=n.toNumber(e.getAttribute("gs-x")),r.y=n.toNumber(e.getAttribute("gs-y")),r.w=n.toNumber(e.getAttribute("gs-w")),r.h=n.toNumber(e.getAttribute("gs-h")),r.autoPosition=n.toBool(e.getAttribute("gs-auto-position")),r.noResize=n.toBool(e.getAttribute("gs-no-resize")),r.noMove=n.toBool(e.getAttribute("gs-no-move")),r.locked=n.toBool(e.getAttribute("gs-locked")),r.id=e.getAttribute("gs-id"),r.maxW=n.toNumber(e.getAttribute("gs-max-w")),r.minW=n.toNumber(e.getAttribute("gs-min-w")),r.maxH=n.toNumber(e.getAttribute("gs-max-h")),r.minH=n.toNumber(e.getAttribute("gs-min-h")),t&&(1===r.w&&e.removeAttribute("gs-w"),1===r.h&&e.removeAttribute("gs-h"),r.maxW&&e.removeAttribute("gs-max-w"),r.minW&&e.removeAttribute("gs-min-w"),r.maxH&&e.removeAttribute("gs-max-h"),r.minH&&e.removeAttribute("gs-min-h"));for(const e in r){if(!r.hasOwnProperty(e))return;r[e]||0===r[e]||delete r[e]}return r}_setStaticClass(){let e=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...e),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...e),this.el.removeAttribute("gs-static")),this}onResize(){if(!this.el?.clientWidth)return;if(this.prevWidth===this.el.clientWidth)return;this.prevWidth=this.el.clientWidth,this.batchUpdate();let e=!1;return this._autoColumn&&this.parentGridItem?this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),e=!0):e=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach((e=>{e.subGrid&&e.subGrid.onResize()})),this._skipInitialResize||this.resizeToContentCheck(e),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(e=!1,t=void 0){if(this.engine){if(e&&this.hasAnimationCSS())return setTimeout((()=>this.resizeToContentCheck(!1,t)),310);if(t)n.shouldSizeToContent(t)&&this.resizeToContentCBCheck(t.el);else if(this.engine.nodes.some((e=>n.shouldSizeToContent(e)))){const e=[...this.engine.nodes];this.batchUpdate(),e.forEach((e=>{n.shouldSizeToContent(e)&&this.resizeToContentCBCheck(e.el)})),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,t?[t]:this.engine.nodes)}}_updateResizeEvent(e=!1){const t=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find((e=>e.sizeToContent)));return e||!t||this.resizeObserver?!e&&t||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=n.throttle((()=>this.onResize()),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver((()=>this._sizeThrottle())),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(e=".grid-stack-item"){return n.getElement(e)}static getElements(e=".grid-stack-item"){return n.getElements(e)}static getGridElement(e){return k.getElement(e)}static getGridElements(e){return n.getElements(e)}_initMargin(){let e,t=0,r=[];return"string"==typeof this.opts.margin&&(r=this.opts.margin.split(" ")),2===r.length?(this.opts.marginTop=this.opts.marginBottom=r[0],this.opts.marginLeft=this.opts.marginRight=r[1]):4===r.length?(this.opts.marginTop=r[0],this.opts.marginRight=r[1],this.opts.marginBottom=r[2],this.opts.marginLeft=r[3]):(e=n.parseHeight(this.opts.margin),this.opts.marginUnit=e.unit,t=this.opts.margin=e.h),void 0===this.opts.marginTop?this.opts.marginTop=t:(e=n.parseHeight(this.opts.marginTop),this.opts.marginTop=e.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=t:(e=n.parseHeight(this.opts.marginBottom),this.opts.marginBottom=e.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=t:(e=n.parseHeight(this.opts.marginRight),this.opts.marginRight=e.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=t:(e=n.parseHeight(this.opts.marginLeft),this.opts.marginLeft=e.h,delete this.opts.margin),this.opts.marginUnit=e.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static getDD(){return E}static setupDragIn(e,t,r=document){void 0!==t?.pause&&(a.pauseDrag=t.pause),t={...s,...t||{}};let o="string"==typeof e?n.getElements(e,r):e;o.length&&o?.forEach((e=>{E.isDraggable(e)||E.dragIn(e,t)}))}movable(e,t){return this.opts.staticGrid||k.getElements(e).forEach((e=>{const r=e.gridstackNode;r&&(t?delete r.noMove:r.noMove=!0,this._prepareDragDropByNode(r))})),this}resizable(e,t){return this.opts.staticGrid||k.getElements(e).forEach((e=>{let r=e.gridstackNode;r&&(t?delete r.noResize:r.noResize=!0,this._prepareDragDropByNode(r))})),this}disable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!1,e),this.enableResize(!1,e),this._triggerEvent("disable"),this}enable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!0,e),this.enableResize(!0,e),this._triggerEvent("enable"),this}enableMove(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach((r=>{this._prepareDragDropByNode(r),r.subGrid&&t&&r.subGrid.enableMove(e,t)}))),this}enableResize(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach((r=>{this._prepareDragDropByNode(r),r.subGrid&&t&&r.subGrid.enableResize(e,t)}))),this}_removeDD(e){return E.draggable(e,"destroy").resizable(e,"destroy"),e.gridstackNode&&delete e.gridstackNode._initDD,delete e.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return E.droppable(this.el,"destroy"),this;let e,t,r=(r,o,i)=>{let s=o.gridstackNode;if(!s)return;if(i=i||o,!s.grid?.el){i.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const e=i.getBoundingClientRect();i.style.left=e.x+(this.dragTransform.xScale-1)*(r.clientX-e.x)/this.dragTransform.xScale+"px",i.style.top=e.y+(this.dragTransform.yScale-1)*(r.clientY-e.y)/this.dragTransform.yScale+"px",i.style.transformOrigin="0px 0px"}let a=this.el.getBoundingClientRect(),{top:l,left:c}=i.getBoundingClientRect();c-=a.left,l-=a.top;let u={position:{top:l*this.dragTransform.xScale,left:c*this.dragTransform.yScale}};if(s._temporaryRemoved){if(s.x=Math.max(0,Math.round(c/t)),s.y=Math.max(0,Math.round(l/e)),delete s.autoPosition,this.engine.nodeBoundFix(s),!this.engine.willItFit(s)){if(s.autoPosition=!0,!this.engine.willItFit(s))return void E.off(o,"drag");s._willFitPos&&(n.copyPos(s,s._willFitPos),delete s._willFitPos)}this._onStartMoving(i,r,u,s,t,e)}else this._dragOrResize(i,r,u,s,t,e)};return E.droppable(this.el,{accept:e=>{let t=e.gridstackNode||this._readAttr(e,!1);if(t?.grid===this)return!0;if(!this.opts.acceptWidgets)return!1;let r=!0;if("function"==typeof this.opts.acceptWidgets)r=this.opts.acceptWidgets(e);else{let t=!0===this.opts.acceptWidgets?".grid-stack-item":this.opts.acceptWidgets;r=e.matches(t)}if(r&&t&&this.opts.maxRow){let e={w:t.w,h:t.h,minW:t.minW,minH:t.minH};r=this.engine.willItFit(e)}return r}}).on(this.el,"dropover",((n,o,i)=>{let s=o.gridstackNode;if(s?.grid===this&&!s._temporaryRemoved)return!1;if(s?.grid&&s.grid!==this&&!s._temporaryRemoved){s.grid._leave(o,i)}t=this.cellWidth(),e=this.getCellHeight(!0),s||(s=this._readAttr(o,!1)),s.grid||(s._isExternal=!0,o.gridstackNode=s),i=i||o;let a=s.w||Math.round(i.offsetWidth/t)||1,l=s.h||Math.round(i.offsetHeight/e)||1;return s.grid&&s.grid!==this?(o._gridstackNodeOrig||(o._gridstackNodeOrig=s),o.gridstackNode=s={...s,w:a,h:l,grid:this},delete s.x,delete s.y,this.engine.cleanupNode(s).nodeBoundFix(s),s._initDD=s._isExternal=s._temporaryRemoved=!0):(s.w=a,s.h=l,s._temporaryRemoved=!0),k._itemRemoving(s.el,!1),E.on(o,"drag",r),r(n,o,i),!1})).on(this.el,"dropout",((e,t,r)=>{let n=t.gridstackNode;return!!n&&(n.grid&&n.grid!==this||(this._leave(t,r),this._isTemp&&this.removeAsSubGrid(n)),!1)})).on(this.el,"drop",((e,t,r)=>{let o=t.gridstackNode;if(o?.grid===this&&!o._isExternal)return!1;const i=!!this.placeholder.parentElement;this.placeholder.remove();const s=i&&this.opts.animate;s&&this.setAnimation(!1);let a=t._gridstackNodeOrig;if(delete t._gridstackNodeOrig,i&&a?.grid&&a.grid!==this){let e=a.grid;e.engine.removeNodeFromLayoutCache(a),e.engine.removedNodes.push(a),e._triggerRemoveEvent()._triggerChangeEvent(),e.parentGridItem&&!e.engine.nodes.length&&e.opts.subGridDynamic&&e.removeAsSubGrid()}if(!o)return!1;if(i&&(this.engine.cleanupNode(o),o.grid=this),delete o.grid?._isTemp,E.off(t,"drag"),r!==t?(r.remove(),t.gridstackNode=a,i&&(t=t.cloneNode(!0))):(t.remove(),this._removeDD(t)),!i)return!1;t.gridstackNode=o,o.el=t;let l=o.subGrid?.el?.gridstack;return n.copyPos(o,this._readAttr(this.placeholder)),n.removePositioningStyles(t),this.el.appendChild(t),this._prepareElement(t,!0,o),l&&(l.parentGridItem=o,l.opts.styleInHead||l._updateStyles(!0)),this._updateContainerHeight(),this.engine.addedNodes.push(o),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...e,type:"dropped"},a&&a.grid?a:void 0,o),s&&this.setAnimation(this.opts.animate,!0),!1})),this}static _itemRemoving(e,t){const r=e?e.gridstackNode:void 0;r?.grid&&!e.classList.contains(r.grid.opts.removableOptions.decline)&&(t?r._isAboutToRemove=!0:delete r._isAboutToRemove,t?e.classList.add("grid-stack-item-removing"):e.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if("string"!=typeof this.opts.removable)return this;let e=document.querySelector(this.opts.removable);return e?(this.opts.staticGrid||E.isDroppable(e)||E.droppable(e,this.opts.removableOptions).on(e,"dropover",((e,t)=>k._itemRemoving(t,!0))).on(e,"dropout",((e,t)=>k._itemRemoving(t,!1))),this):this}_prepareDragDropByNode(e){let t=e.el;const r=e.noMove||this.opts.disableDrag,o=e.noResize||this.opts.disableResize;if(this.opts.staticGrid||r&&o)return e._initDD&&(this._removeDD(t),delete e._initDD),t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!e._initDD){let r,o,i=(n,i)=>{this._gsEventHandler[n.type]&&this._gsEventHandler[n.type](n,n.target),r=this.cellWidth(),o=this.getCellHeight(!0),this._onStartMoving(t,n,i,e,r,o)},s=(n,i)=>{this._dragOrResize(t,n,i,e,r,o)},a=r=>{this.placeholder.remove(),delete e._moving,delete e._event,delete e._lastTried;const o=e.w!==e._orig.w;let i=r.target;if(i.gridstackNode&&i.gridstackNode.grid===this){if(e.el=i,e._isAboutToRemove){let n=t.gridstackNode.grid;n._gsEventHandler[r.type]&&n._gsEventHandler[r.type](r,i),n.engine.nodes.push(e),n.removeWidget(t,!0,!0)}else n.removePositioningStyles(i),e._temporaryRemoved?(n.copyPos(e,e._orig),this._writePosAttr(i,e),this.engine.addNode(e)):this._writePosAttr(i,e),this._gsEventHandler[r.type]&&this._gsEventHandler[r.type](r,i);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),"resizestop"===r.type&&(Number.isInteger(e.sizeToContent)&&(e.sizeToContent=e.h),this.resizeToContentCheck(o,e))}};E.draggable(t,{start:i,stop:a,drag:s}).resizable(t,{start:i,stop:a,resize:s}),e._initDD=!0}return E.draggable(t,r?"disable":"enable").resizable(t,o?"disable":"enable"),this}_onStartMoving(e,t,r,o,i,s){if(this.engine.cleanNodes().beginUpdate(o),this._writePosAttr(this.placeholder,o),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=o,o.grid?.el)this.dragTransform=n.getValuesFromTransformedElement(e);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const e=this.placeholder.closest(".grid-stack");this.dragTransform=n.getValuesFromTransformedElement(e)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(o.el=this.placeholder,o._lastUiPosition=r.position,o._prevYPix=r.position.top,o._moving="dragstart"===t.type,delete o._lastTried,"dropover"===t.type&&o._temporaryRemoved&&(this.engine.addNode(o),o._moving=!0),this.engine.cacheRects(i,s,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===t.type){const t=this.getColumn()-o.x,r=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-o.y;E.resizable(e,"option","minWidth",i*Math.min(o.minW||1,t)).resizable(e,"option","minHeight",s*Math.min(o.minH||1,r)).resizable(e,"option","maxWidth",i*Math.min(o.maxW||Number.MAX_SAFE_INTEGER,t)).resizable(e,"option","maxWidthMoveLeft",i*Math.min(o.maxW||Number.MAX_SAFE_INTEGER,o.x+o.w)).resizable(e,"option","maxHeight",s*Math.min(o.maxH||Number.MAX_SAFE_INTEGER,r)).resizable(e,"option","maxHeightMoveUp",s*Math.min(o.maxH||Number.MAX_SAFE_INTEGER,o.y+o.h))}}_dragOrResize(e,t,r,o,i,s){let a,l={...o._orig},c=this.opts.marginLeft,u=this.opts.marginRight,f=this.opts.marginTop,d=this.opts.marginBottom,h=Math.round(.1*s),p=Math.round(.1*i);if(c=Math.min(c,p),u=Math.min(u,p),f=Math.min(f,h),d=Math.min(d,h),"drag"===t.type){if(o._temporaryRemoved)return;let t=r.position.top-o._prevYPix;o._prevYPix=r.position.top,!1!==this.opts.draggable.scroll&&n.updateScrollPosition(e,r.position,t);let a=r.position.left+(r.position.left>o._lastUiPosition.left?-u:c),h=r.position.top+(r.position.top>o._lastUiPosition.top?-d:f);l.x=Math.round(a/i),l.y=Math.round(h/s);let p=this._extraDragRow;if(this.engine.collide(o,l)){let e=this.getRow(),t=Math.max(0,l.y+o.h-e);this.opts.maxRow&&e+t>this.opts.maxRow&&(t=Math.max(0,this.opts.maxRow-e)),this._extraDragRow=t}else this._extraDragRow=0;if(this._extraDragRow!==p&&this._updateContainerHeight(),o.x===l.x&&o.y===l.y)return}else if("resize"===t.type){if(l.x<0)return;if(n.updateScrollResize(t,e,s),l.w=Math.round((r.size.width-c)/i),l.h=Math.round((r.size.height-f)/s),o.w===l.w&&o.h===l.h)return;if(o._lastTried&&o._lastTried.w===l.w&&o._lastTried.h===l.h)return;let u=r.position.left+c,d=r.position.top+f;l.x=Math.round(u/i),l.y=Math.round(d/s),a=!0}o._event=t,o._lastTried=l;let y={x:r.position.left+c,y:r.position.top+f,w:(r.size?r.size.width:o.w*i)-c-u,h:(r.size?r.size.height:o.h*s)-f-d};if(this.engine.moveNodeCheck(o,{...l,cellWidth:i,cellHeight:s,rect:y,resizing:a})){o._lastUiPosition=r.position,this.engine.cacheRects(i,s,f,u,d,c),delete o._skipDown,a&&o.subGrid&&o.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();let e=t.target;this._writePosAttr(e,o),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,e)}}_leave(e,t){let r=e.gridstackNode;r&&((t=t||e).style.transform="scale(1)",E.off(e,"drag"),r._temporaryRemoved||(r._temporaryRemoved=!0,this.engine.removeNode(r),r.el=r._isExternal&&t?t:e,!0===this.opts.removable&&k._itemRemoving(e,!0),e._gridstackNodeOrig?(e.gridstackNode=e._gridstackNodeOrig,delete e._gridstackNodeOrig):r._isExternal&&(delete r.el,delete e.gridstackNode,this.engine.restoreInitial())))}commit(){return function(e,t,r,n,o){let i=(...i)=>(console.warn("gridstack.js: Function `"+r+"` is deprecated in "+o+" and has been replaced with `"+n+"`. It will be **removed** in a future release"),t.apply(e,i));i.prototype=t.prototype}(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}k.resizeToContentParent=".grid-stack-item-content",k.Utils=n,k.Engine=o,k.GDRev="10.3.1"},30592:(e,t,r)=>{"use strict";var n=r(70453)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},80024:e=>{"use strict";var t={foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},64039:(e,t,r)=>{"use strict";var n=r.g.Symbol,o=r(41333);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},41333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},19030:(e,t,r)=>{"use strict";var n=r(66743);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(63639);e.exports=i.call(n,o)},74921:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),a=r(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},63639:(e,t,r)=>{"use strict";var n=r(74921);e.exports=Function.prototype.bind||n},37172:e=>{function t(e){var t="Parsing error";throw e&&(t+=": "+e),new Error(t)}var r={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};e.exports=function(e){for(var n=[],o=0,i=s();i;)n.push(i),i=s();return n;function s(){for(var n,i,s,a,l,c,u=e.length;o<u;)switch(c=e[o]){case"\t":case"\n":case"\r":case" ":for(n=e[o];-1!=="\t\n\r ".indexOf(e[++o]);)n+=e[o];return{type:"whitespace",value:n,raw:n};case"{":case"}":case"[":case"]":case":":case",":var f=e[o++];return{type:"punctuator",value:f,raw:f};case'"':var d=o;for(n="",o++;o<u;){if(c=e[o],e.charCodeAt(o)<32)return t("Unescaped ASCII control characters are not permitted.");if("\\"===c)switch(c=e[++o]){case"\\":case'"':case"/":case"b":case"t":case"n":case"f":case"r":n+=r[c],o++;break;case"u":for(i=++o,s=o+4;o<s;o++)if(!((l=e.charCodeAt(o))>=48&&l<=57||l>=97&&l<=102||l>=65&&l<=70))return t("Invalid Unicode escape sequence.");n+=String.fromCharCode("0x"+e.slice(i,o));break;default:return t("Invalid escape sequence.")}else{if('"'===c)break;for(c=e[o],i=o,l=e.charCodeAt(o);l>=32&&92!==l&&34!==l;)l=e.charCodeAt(++o);n+=e.slice(i,o)}}return'"'===e[o]?(o++,{type:"string",value:n,raw:e.slice(d,o)}):t("Unterminated string.");default:if(i=o,"-"===c&&(a=!0,l=e.charCodeAt(++o),c=e[o]),(l=e.charCodeAt(o))>=48&&l<=57){if(48===l&&((l=e.charCodeAt(o+1))>=48&&l<=57))return t("Illegal octal literal.");for(a=!1;o<u&&((l=e.charCodeAt(o))>=48&&l<=57);o++);if(46===e.charCodeAt(o)){for(s=++o;s<u&&((l=e.charCodeAt(s))>=48&&l<=57);s++);if(s===o)return t("Illegal trailing decimal.");o=s}if(101===(l=e.charCodeAt(o))||69===l){for(43!==(l=e.charCodeAt(++o))&&45!==l||o++,s=o;s<u&&((l=e.charCodeAt(s))>=48&&l<=57);s++);if(s===o)return t("Illegal empty exponent.");o=s}var h=e.slice(i,o);return{type:"number",value:+h,raw:h}}if(a)return t("A negative sign may only precede numbers.");var p=e.slice(o,o+4);return"true"===p?(o+=4,{type:"literal",value:!0,raw:"true"}):"fals"===p&&"e"===e[o+4]?(o+=5,{type:"literal",value:!1,raw:"false"}):"null"===p?(o+=4,{type:"literal",value:null,raw:"null"}):t("Unrecognized token.")}return!1}}},7106:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,o,i,s,a,l,c,u,f){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var d in n(i,s,a,l,c,u,f),i){var h=i[d];if(Array.isArray(h)){if(d in t.arrayKeywords)for(var p=0;p<h.length;p++)r(e,n,o,h[p],s+"/"+d+"/"+p,a,s,d,i,p)}else if(d in t.propsKeywords){if(h&&"object"==typeof h)for(var y in h)r(e,n,o,h[y],s+"/"+d+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,d,i,y)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&r(e,n,o,h,s+"/"+d,a,s,d,i)}o(i,s,a,l,c,u,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},56239:(e,t)=>{var r=/~/,n=/~[01]/g;function o(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function i(e){return r.test(e)?e.replace(n,o):e}function s(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e)){for(const t of e)if("string"!=typeof t&&"number"!=typeof t)throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function a(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var r=(t=s(t)).length;if(1===r)return e;for(var n=1;n<r;){if(e=e[i(t[n++])],r===n)return e;if("object"!=typeof e||null===e)return}}function l(e,t,r){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=s(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,r){for(var n,o,s=1,a=t.length;s<a;){if("constructor"===t[s]||"prototype"===t[s]||"__proto__"===t[s])return e;if(n=i(t[s++]),o=a>s,void 0===e[n]&&(Array.isArray(e)&&"-"===n&&(n=e.length),o&&(""!==t[s]&&t[s]<1/0||"-"===t[s]?e[n]=[]:e[n]={})),!o)break;e=e[n]}var l=e[n];return void 0===r?delete e[n]:e[n]=r,l}(e,t,r)}t.get=a,t.set=l,t.compile=function(e){var t=s(e);return{get:function(e){return a(e,t)},set:function(e,r){return l(e,t,r)}}}},20181:(e,t,r)=>{var n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),f=Object.prototype.toString,d=Math.max,h=Math.min,p=function(){return u.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=i.test(e);return r||s.test(e)?a(e.slice(2),r?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,i,s,a,l,c=0,u=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,i=o;return n=o=void 0,c=t,s=e.apply(i,r)}function b(e){var r=e-l;return void 0===l||r>=t||r<0||f&&e-c>=i}function w(){var e=p();if(b(e))return _(e);a=setTimeout(w,function(e){var r=t-(e-l);return f?h(r,i-(e-c)):r}(e))}function _(e){return a=void 0,g&&n?v(e):(n=o=void 0,s)}function x(){var e=p(),r=b(e);if(n=arguments,o=this,l=e,r){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),u?v(e):s}(l);if(f)return a=setTimeout(w,t),v(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=m(t)||0,y(r)&&(u=!!r.leading,i=(f="maxWait"in r)?d(m(r.maxWait)||0,t):i,g="trailing"in r?!!r.trailing:g),x.cancel=function(){void 0!==a&&clearTimeout(a),c=0,n=l=o=a=void 0},x.flush=function(){return void 0===a?s:_(p())},x}},14682:(e,t,r)=>{"use strict";var n=r(73932),o=r(9771),i=r(20522),s=function(e){o(!1,e)},a=String.prototype.replace,l=String.prototype.split,c="||||",u=function(e){var t=e%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},f={pluralTypes:{arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:u,chinese:function(){return 0},croatian:u,french:function(e){return e>=2?1:0},german:function(e){return 1!==e?1:0},russian:u,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3},romanian:function(e){if(1===e)return 0;var t=e%100;return 0===e||t>=2&&t<=19?1:2},ukrainian:u},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is","mk"],slovenian:["sl-SL"],romanian:["ro"],ukrainian:["uk","ua"]}};function d(e,t){var r=function(e){for(var t={},r=n(e),o=0;o<r.length;o+=1)for(var i=r[o][0],s=r[o][1],a=0;a<s.length;a+=1)t[s[a]]=i;return t}(e.pluralTypeToLanguages);return r[t]||r[l.call(t,/-/,1)[0]]||r.en}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var p,y=(p={},function(e,t){var r=p[t];return r&&!e.pluralTypes[r]&&(r=null,p[t]=r),r||(r=d(e,t))&&(p[t]=r),r}),m=/%\{(.*?)\}/g;function g(e,t,r,n,o,s){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var u=e,d=n||m,h=s||a,p="number"==typeof t?{smart_count:t}:t;if(null!=p.smart_count&&e){var g=o||f,v=l.call(e,c),b=function(e,t,r){return e.pluralTypes[t](r)}(g,y(g,r||"en"),p.smart_count);u=a.call(v[b]||v[0],/^[^\S]*|[^\S]*$/g,"")}return u=h.call(u,d,(function(e,t){return i(p,t)&&null!=p[t]?p[t]:e}))}function v(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var r=t.allowMissing?g:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:r,this.warn=t.warn||s,this.replaceImplementation=t.replace||a,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",r=e&&e.suffix||"}";if(t===c||r===c)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(h(t)+"(.*?)"+h(r),"g")}(t.interpolation),this.pluralRules=t.pluralRules||f}v.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},v.prototype.extend=function(e,t){for(var r=n(e||{}),o=0;o<r.length;o+=1){var i=r[o][0],s=r[o][1],a=t?t+"."+i:i;"object"==typeof s?this.extend(s,a):this.phrases[a]=s}},v.prototype.unset=function(e,t){if("string"==typeof e)delete this.phrases[e];else for(var r=n(e||{}),o=0;o<r.length;o+=1){var i=r[o][0],s=r[o][1],a=t?t+"."+i:i;"object"==typeof s?this.unset(s,a):delete this.phrases[a]}},v.prototype.clear=function(){this.phrases={}},v.prototype.replace=function(e){this.clear(),this.extend(e)},v.prototype.t=function(e,t){var r,n,o=null==t?{}:t;if("string"==typeof this.phrases[e])r=this.phrases[e];else if("string"==typeof o._)r=o._;else if(this.onMissingKey){n=(0,this.onMissingKey)(e,o,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)}else this.warn('Missing translation for key: "'+e+'"'),n=e;return"string"==typeof r&&(n=g(r,o,this.currentLocale,this.tokenRegex,this.pluralRules,this.replaceImplementation)),n},v.prototype.has=function(e){return i(this.phrases,e)},v.transformPhrase=function(e,t,r){return g(e,t,r)},e.exports=v},93450:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),a=r(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},99602:(e,t,r)=>{"use strict";var n=r(93450);e.exports=Function.prototype.bind||n},20522:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(99602);e.exports=i.call(n,o)},28875:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(1093),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=c&&r;if(a&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(n&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)p&&"prototype"===g||!o.call(e,g)||d.push(String(g));if(l)for(var v=function(e){if("undefined"==typeof window||!h)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)v&&"constructor"===u[b]||!o.call(e,u[b])||d.push(u[b]);return d}}e.exports=n},1189:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1093),i=Object.keys,s=i?function(e){return i(e)}:r(28875),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},1093:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},73488:(e,t,r)=>{"use strict";var n=r(5388),o=r(8588),i=o("Object.prototype.propertyIsEnumerable"),s=o("Array.prototype.push");e.exports=function(e){var t=n(e),r=[];for(var o in t)i(t,o)&&s(r,[o,t[o]]);return r}},73932:(e,t,r)=>{"use strict";var n=r(8275),o=r(29664),i=r(73488),s=r(63445),a=r(57891),l=o(s(),Object);n(l,{getPolyfill:s,implementation:i,shim:a}),e.exports=l},8588:(e,t,r)=>{"use strict";var n=r(59474),o=r(29664),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},29664:(e,t,r)=>{"use strict";var n=r(51560),o=r(59474),i=r(96897),s=r(69675),a=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(l,a),u=r(30655),f=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(n,l,arguments);return i(t,1+f(0,e.length-(arguments.length-1)),!0)};var d=function(){return c(n,a,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},8275:(e,t,r)=>{"use strict";var n=r(1189),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=r(30041),l=r(30592)(),c=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;l?a(e,t,r,!0):a(e,t,r)},u=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)c(e,i[a],t[i[a]],r[i[a]])};u.supportsDescriptors=!!l,e.exports=u},95564:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),a=r(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},51560:(e,t,r)=>{"use strict";var n=r(95564);e.exports=Function.prototype.bind||n},59474:(e,t,r)=>{"use strict";var n,o=r(69383),i=r(41237),s=r(79290),a=r(79538),l=r(58068),c=r(69675),u=r(35345),f=Function,d=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var p=function(){throw new c},y=h?function(){try{return p}catch(e){try{return h(arguments,"callee").get}catch(e){return p}}}():p,m=r(42588)(),g=r(80024)(),v=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),b={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&v?v(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":w,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(e){var x=v(v(e));_["%Error.prototype%"]=x}var S=function e(t){var r;if("%AsyncFunction%"===t)r=d("async function () {}");else if("%GeneratorFunction%"===t)r=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=d("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(r=v(o.prototype))}return _[t]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=r(51560),A=r(9957),T=k.call(Function.call,Array.prototype.concat),P=k.call(Function.apply,Array.prototype.splice),O=k.call(Function.call,String.prototype.replace),C=k.call(Function.call,String.prototype.slice),R=k.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,D=function(e,t){var r,n=e;if(A(E,n)&&(n="%"+(r=E[n])[0]+"%"),A(_,n)){var o=_[n];if(o===b&&(o=S(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,I,(function(e,t,r,o){n[n.length]=r?O(o,M,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=D("%"+n+"%",t),i=o.name,s=o.value,a=!1,u=o.alias;u&&(n=u[0],P(r,T([0,1],u)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],y=C(p,0,1),m=C(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==p&&d||(a=!0),A(_,i="%"+(n+="."+p)+"%"))s=_[i];else if(null!=s){if(!(p in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&f+1>=r.length){var g=h(s,p);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[p]}else d=A(s,p),s=s[p];d&&!a&&(_[i]=s)}}return s}},42588:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(51646);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},51646:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},63445:(e,t,r)=>{"use strict";var n=r(73488);e.exports=function(){return"function"==typeof Object.entries?Object.entries:n}},57891:(e,t,r)=>{"use strict";var n=r(63445),o=r(8275);e.exports=function(){var e=n();return o(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}},89955:(e,t,r)=>{"use strict";var n=r(44262);function o(e,t,r){var o,a,l,c;t=t||1;for(var u=0;u<e[0].length;u++){var f=e[0][u];(!u||f[0]<o)&&(o=f[0]),(!u||f[1]<a)&&(a=f[1]),(!u||f[0]>l)&&(l=f[0]),(!u||f[1]>c)&&(c=f[1])}var d=l-o,h=c-a,p=Math.min(d,h),y=p/2;if(0===p){var m=[o,a];return m.distance=0,m}for(var g=new n(void 0,i),v=o;v<l;v+=p)for(var b=a;b<c;b+=p)g.push(new s(v+y,b+y,y,e));var w=function(e){for(var t=0,r=0,n=0,o=e[0],i=0,a=o.length,l=a-1;i<a;l=i++){var c=o[i],u=o[l],f=c[0]*u[1]-u[0]*c[1];r+=(c[0]+u[0])*f,n+=(c[1]+u[1])*f,t+=3*f}return 0===t?new s(o[0][0],o[0][1],0,e):new s(r/t,n/t,0,e)}(e),_=new s(o+d/2,a+h/2,0,e);_.d>w.d&&(w=_);for(var x=g.length;g.length;){var S=g.pop();S.d>w.d&&(w=S,r&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,x)),S.max-w.d<=t||(y=S.h/2,g.push(new s(S.x-y,S.y-y,y,e)),g.push(new s(S.x+y,S.y-y,y,e)),g.push(new s(S.x-y,S.y+y,y,e)),g.push(new s(S.x+y,S.y+y,y,e)),x+=4)}r&&(console.log("num probes: "+x),console.log("best distance: "+w.d));var E=[w.x,w.y];return E.distance=w.d,E}function i(e,t){return t.max-e.max}function s(e,t,r,n){this.x=e,this.y=t,this.h=r,this.d=function(e,t,r){for(var n=!1,o=1/0,i=0;i<r.length;i++)for(var s=r[i],l=0,c=s.length,u=c-1;l<c;u=l++){var f=s[l],d=s[u];f[1]>t!=d[1]>t&&e<(d[0]-f[0])*(t-f[1])/(d[1]-f[1])+f[0]&&(n=!n),o=Math.min(o,a(e,t,f,d))}return 0===o?0:(n?1:-1)*Math.sqrt(o)}(e,t,n),this.max=this.d+this.h*Math.SQRT2}function a(e,t,r,n){var o=r[0],i=r[1],s=n[0]-o,a=n[1]-i;if(0!==s||0!==a){var l=((e-o)*s+(t-i)*a)/(s*s+a*a);l>1?(o=n[0],i=n[1]):l>0&&(o+=s*l,i+=a*l)}return(s=e-o)*s+(a=t-i)*a}n.default&&(n=n.default),e.exports=o,e.exports.default=o},35341:function(e){e.exports=function(){"use strict";function e(e,n,o,i,s){!function e(r,n,o,i,s){for(;i>o;){if(i-o>600){var a=i-o+1,l=n-o+1,c=Math.log(a),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);e(r,n,Math.max(o,Math.floor(n-l*u/a+f)),Math.min(i,Math.floor(n+(a-l)*u/a+f)),s)}var d=r[n],h=o,p=i;for(t(r,o,n),s(r[i],d)>0&&t(r,o,i);h<p;){for(t(r,h,p),h++,p--;s(r[h],d)<0;)h++;for(;s(r[p],d)>0;)p--}0===s(r[o],d)?t(r,o,p):t(r,++p,i),p<=n&&(o=p+1),n<=p&&(i=p-1)}}(e,n,o||0,i||e.length-1,s||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function i(e,t){s(e,0,e.children.length,t,e)}function s(e,t,r,n,o){o||(o=p(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<r;i++){var s=e.children[i];a(o,e.leaf?n(s):s)}return o}function a(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function u(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(t,r,n,o,i){for(var s=[r,n];s.length;)if(!((n=s.pop())-(r=s.pop())<=o)){var a=r+Math.ceil((n-r)/o/2)*o;e(t,a,r,n,i),s.push(r,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!h(e,t))return r;for(var n=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var s=t.children[i],a=t.leaf?n(s):s;h(e,a)&&(t.leaf?r.push(s):d(e,a)?this._all(s,r):o.push(s))}t=o.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var o=t.children[n],i=t.leaf?this.toBBox(o):o;if(h(e,i)){if(t.leaf||d(e,i))return!0;r.push(o)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=p([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,i,s=this.data,a=this.toBBox(e),l=[],c=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],r=c.pop(),i=!0),s.leaf){var u=o(e,s.children,t);if(-1!==u)return s.children.splice(u,1),l.push(s),this._condense(l),this}i||s.leaf||!d(s,a)?n?(r++,s=n.children[r],i=!1):s=null:(l.push(s),c.push(r),r=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var o,s=r-t+1,a=this._maxEntries;if(s<=a)return i(o=p(e.slice(t,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(o=p([])).leaf=!1,o.height=n;var l=Math.ceil(s/a),c=l*Math.ceil(Math.sqrt(a));y(e,t,r,c,this.compareMinX);for(var u=t;u<=r;u+=c){var f=Math.min(u+c-1,r);y(e,u,f,l,this.compareMinY);for(var d=u;d<=f;d+=l){var h=Math.min(d+l-1,f);o.children.push(this._build(e,d,h,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,s=void 0,a=0;a<t.children.length;a++){var l=t.children[a],c=u(l),f=(d=e,h=l,(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-c);f<i?(i=f,o=c<o?c:o,s=l):f===i&&c<o&&(o=c,s=l)}t=s||t.children[0]}var d,h;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),o=[],i=this._chooseSubtree(n,this.data,t,o);for(i.children.push(e),a(i,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var s=this._chooseSplitIndex(r,o,n),a=p(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,i(r,this.toBBox),i(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(r,a)},n.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,o,i,a,l,c,f,d=1/0,h=1/0,p=t;p<=r-t;p++){var y=s(e,0,p,this.toBBox),m=s(e,p,r,this.toBBox),g=(o=y,i=m,a=void 0,l=void 0,c=void 0,f=void 0,a=Math.max(o.minX,i.minX),l=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),f=Math.min(o.maxY,i.maxY),Math.max(0,c-a)*Math.max(0,f-l)),v=u(y)+u(m);g<d?(d=g,n=p,h=v<h?v:h):g===d&&v<h&&(h=v,n=p)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:l,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,o)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var o=this.toBBox,i=s(e,0,t,o),l=s(e,r-t,r,o),c=f(i)+f(l),u=t;u<r-t;u++){var d=e.children[u];a(i,e.leaf?o(d):d),c+=f(i)}for(var h=r-t-1;h>=t;h--){var p=e.children[h];a(l,e.leaf?o(p):p),c+=f(l)}return c},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)a(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},n}()},30115:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,l,c,u;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(!i(e[l],s[l]))return!1;return!0}if(r&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(l=a;0!=l--;)if(e[l]!==s[l])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(l=a;0!=l--;)if(!Object.prototype.hasOwnProperty.call(s,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],s[c[l]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return i(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},43591:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&l()}function a(){s(i)}function l(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(a,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;a.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=v(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+h(e["border-"+r+"-width"])}),0)}function y(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return d;var n=f(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=h(i)}return t}(n),i=o.left+o.right,s=o.top+o.bottom,a=h(n.width),l=h(n.height);if("border-box"===n.boxSizing&&(Math.round(a+i)!==t&&(a-=p(n,"left","right")+i),Math.round(l+s)!==r&&(l-=p(n,"top","bottom")+s)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(a+i)-t,u=Math.round(l+s)-r;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return v(o.left,o.top,a,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return o?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):y(e):d}function v(e,t,r,n){return{x:e,y:t,width:r,height:n}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var r,n,o,i,s,a,l,c=(n=(r=t).x,o=r.y,i=r.width,s=r.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:n,y:o,width:i,height:s,top:o,right:n+i,bottom:s+o,left:n}),l);u(this,{target:e,contentRect:c})},_=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=c.getInstance(),n=new _(t,r,this);x.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));const E=void 0!==i.ResizeObserver?i.ResizeObserver:S},52718:(e,t,r)=>{"use strict";r.d(t,{c:()=>f});var n=r(2685),o=r(52616),i=r(55604);function s(e){return e}function a(e){return 0===e.length?s:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var l=r(94384),c=r(61209),u=r(7008),f=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i,s=this,a=(i=e)&&i instanceof n.vU||function(e){return e&&(0,c.T)(e.next)&&(0,c.T)(e.error)&&(0,c.T)(e.complete)}(i)&&(0,o.Uv)(i)?e:new n.Ms(e,t,r);return(0,u.Y)((function(){var e=s,t=e.operator,r=e.source;a.add(t?t.call(a,r):r?s._subscribe(a):s._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=d(t))((function(t,o){var i=new n.Ms({next:function(t){try{e(t)}catch(e){o(e),i.unsubscribe()}},error:o,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[i.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:l.$.Promise)&&void 0!==t?t:Promise}},27291:(e,t,r)=>{"use strict";r.d(t,{B:()=>c});var n=r(67272),o=r(52718),i=r(52616),s=(0,r(82947).L)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),a=r(6174),l=r(7008),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,n.C6)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s},t.prototype.next=function(e){var t=this;(0,l.Y)((function(){var r,o;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,n.Ju)(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;(0,l.Y)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,l.Y)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,o=r.isStopped,s=r.observers;return n||o?i.Kn:(this.currentObservers=null,s.push(e),new i.yU((function(){t.currentObservers=null,(0,a.o)(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,o=t.isStopped;r?e.error(n):o&&e.complete()},t.prototype.asObservable=function(){var e=new o.c;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(o.c),u=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,n.C6)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:i.Kn},t}(c)},2685:(e,t,r)=>{"use strict";r.d(t,{Ms:()=>g,vU:()=>h});var n=r(67272),o=r(61209),i=r(52616),s=r(94384),a=r(22564);function l(){}var c=u("C",void 0,void 0);function u(e,t,r){return{kind:e,value:t,error:r}}var f=r(96744),d=r(7008),h=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,i.Uv)(t)&&t.add(r)):r.destination=w,r}return(0,n.C6)(t,e),t.create=function(e,t,r){return new g(e,t,r)},t.prototype.next=function(e){this.isStopped?b(function(e){return u("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(u("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(i.yU),p=Function.prototype.bind;function y(e,t){return p.call(e,t)}var m=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){v(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){v(e)}else v(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){v(e)}},e}(),g=function(e){function t(t,r,n){var i,a,l=e.call(this)||this;(0,o.T)(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:l&&s.$.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&y(t.next,a),error:t.error&&y(t.error,a),complete:t.complete&&y(t.complete,a)}):i=t;return l.destination=new m(i),l}return(0,n.C6)(t,e),t}(h);function v(e){s.$.useDeprecatedSynchronousErrorHandling?(0,d.l)(e):(0,a.m)(e)}function b(e,t){var r=s.$.onStoppedNotification;r&&f.f.setTimeout((function(){return r(e,t)}))}var w={closed:!0,next:l,error:function(e){throw e},complete:l}},52616:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>l,yU:()=>a,Uv:()=>c});var n=r(67272),o=r(61209),i=(0,r(82947).L)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),s=r(6174),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,s,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=(0,n.Ju)(l),f=c.next();!f.done;f=c.next()){f.value.remove(this)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else l.remove(this);var d=this.initialTeardown;if((0,o.T)(d))try{d()}catch(e){a=e instanceof i?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=(0,n.Ju)(h),y=p.next();!y.done;y=p.next()){var m=y.value;try{u(m)}catch(e){a=null!=a?a:[],e instanceof i?a=(0,n.fX)((0,n.fX)([],(0,n.zs)(a)),(0,n.zs)(e.errors)):a.push(e)}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(s=p.return)&&s.call(p)}finally{if(r)throw r.error}}}if(a)throw new i(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.o)(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&(0,s.o)(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),l=a.EMPTY;function c(e){return e instanceof a||e&&"closed"in e&&(0,o.T)(e.remove)&&(0,o.T)(e.add)&&(0,o.T)(e.unsubscribe)}function u(e){(0,o.T)(e)?e():e.unsubscribe()}},94384:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},80826:(e,t,r)=>{"use strict";r.d(t,{u:()=>y});var n=r(67272),o=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},i=r(61209);var s=r(52718),a=r(55604);var l="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";var c=r(22564);function u(e){if(e instanceof s.c)return e;if(null!=e){if(function(e){return(0,i.T)(e[a.s])}(e))return h=e,new s.c((function(e){var t=h[a.s]();if((0,i.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(o(e))return d=e,new s.c((function(e){for(var t=0;t<d.length&&!e.closed;t++)e.next(d[t]);e.complete()}));if(u=e,(0,i.T)(null==u?void 0:u.then))return r=e,new s.c((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,c.m)}));if(function(e){return Symbol.asyncIterator&&(0,i.T)(null==e?void 0:e[Symbol.asyncIterator])}(e))return f(e);if(function(e){return(0,i.T)(null==e?void 0:e[l])}(e))return t=e,new s.c((function(e){var r,o;try{for(var i=(0,n.Ju)(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(e){r={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return(0,i.T)(null==e?void 0:e.getReader)}(e))return f(function(e){return(0,n.AQ)(this,arguments,(function(){var t,r,o;return(0,n.YH)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,n.N3)(t.read())];case 3:return r=i.sent(),o=r.value,r.done?[4,(0,n.N3)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,n.N3)(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,u,d,h;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function f(e){return new s.c((function(t){(function(e,t){var r,o,i,s;return(0,n.sH)(this,void 0,void 0,(function(){var a,l;return(0,n.YH)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=(0,n.xN)(e),c.label=1;case 1:return[4,r.next()];case 2:if((o=c.sent()).done)return[3,4];if(a=o.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),i={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),o&&!o.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var d=r(27291),h=r(2685);function p(e){return function(t){if(function(e){return(0,i.T)(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function y(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new d.B}:t,n=e.resetOnError,o=void 0===n||n,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnRefCountZero,l=void 0===a||a;return function(e){var t,n,i,a=0,c=!1,f=!1,d=function(){null==n||n.unsubscribe(),n=void 0},y=function(){d(),t=i=void 0,c=f=!1},g=function(){var e=t;y(),null==e||e.unsubscribe()};return p((function(e,p){a++,f||c||d();var v=i=null!=i?i:r();p.add((function(){0!==--a||f||c||(n=m(g,l))})),v.subscribe(p),!t&&a>0&&(t=new h.Ms({next:function(e){return v.next(e)},error:function(e){f=!0,d(),n=m(y,o,e),v.error(e)},complete:function(){c=!0,d(),n=m(y,s),v.complete()}}),u(e).subscribe(t))}))(e)}}function m(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(!0!==t){if(!1!==t){var i=new h.Ms({next:function(){i.unsubscribe(),e()}});return u(t.apply(void 0,(0,n.fX)([],(0,n.zs)(r)))).subscribe(i)}}else e()}},96744:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var n=r(67272),o={setTimeout:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var s=o.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,n.fX)([e,t],(0,n.zs)(r))):setTimeout.apply(void 0,(0,n.fX)([e,t],(0,n.zs)(r)))},clearTimeout:function(e){var t=o.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},55604:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},6174:(e,t,r)=>{"use strict";function n(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}r.d(t,{o:()=>n})},82947:(e,t,r)=>{"use strict";function n(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{L:()=>n})},7008:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,l:()=>s});var n=r(94384),o=null;function i(e){if(n.$.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var r=o,i=r.errorThrown,s=r.error;if(o=null,i)throw s}}else e()}function s(e){n.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},61209:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e}r.d(t,{T:()=>n})},22564:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(94384),o=r(96744);function i(e){o.f.setTimeout((function(){var t=n.$.onUnhandledError;if(!t)throw e;t(e)}))}},67272:(e,t,r)=>{"use strict";r.d(t,{AQ:()=>f,C6:()=>o,Ju:()=>a,N3:()=>u,YH:()=>s,fX:()=>c,sH:()=>i,xN:()=>d,zs:()=>l});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function i(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}Object.create;function a(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function c(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}function u(e){return this instanceof u?(this.v=e,this):new u(e)}function f(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof u?Promise.resolve(r.value.v).then(l,c):f(i[0][2],r)}catch(e){f(i[0][3],e)}var r}function l(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=a(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}}Object.create},96897:(e,t,r)=>{"use strict";var n=r(33273),o=r(69661),i=r(71548)(),s=r(75795),a=r(69675),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},69661:(e,t,r)=>{"use strict";var n=r(30655),o=r(58068),i=r(69675),s=r(75795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],f=!!s&&s(e,t);if(n)n(e,t,{configurable:null===c&&f?f.configurable:!c,enumerable:null===a&&f?f.enumerable:!a,value:r,writable:null===l&&f?f.writable:!l});else{if(!u&&(a||l||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},96653:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),a=r(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(l,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(s,arguments));return Object(t)===t?t:this}return o.apply(e,n(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},30075:(e,t,r)=>{"use strict";var n=r(96653);e.exports=Function.prototype.bind||n},33273:(e,t,r)=>{"use strict";var n,o=r(69383),i=r(41237),s=r(79290),a=r(79538),l=r(58068),c=r(69675),u=r(35345),f=Function,d=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var p=function(){throw new c},y=h?function(){try{return p}catch(e){try{return h(arguments,"callee").get}catch(e){return p}}}():p,m=r(51203)(),g=r(80024)(),v=Object.getPrototypeOf||(g?function(e){return e.__proto__}:null),b={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":m&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&v?v(""[Symbol.iterator]()):n,"%Symbol%":m?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":w,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(e){var x=v(v(e));_["%Error.prototype%"]=x}var S=function e(t){var r;if("%AsyncFunction%"===t)r=d("async function () {}");else if("%GeneratorFunction%"===t)r=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=d("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(r=v(o.prototype))}return _[t]=r,r},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=r(30075),A=r(9957),T=k.call(Function.call,Array.prototype.concat),P=k.call(Function.apply,Array.prototype.splice),O=k.call(Function.call,String.prototype.replace),C=k.call(Function.call,String.prototype.slice),R=k.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,D=function(e,t){var r,n=e;if(A(E,n)&&(n="%"+(r=E[n])[0]+"%"),A(_,n)){var o=_[n];if(o===b&&(o=S(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var n=[];return O(e,I,(function(e,t,r,o){n[n.length]=r?O(o,M,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=D("%"+n+"%",t),i=o.name,s=o.value,a=!1,u=o.alias;u&&(n=u[0],P(r,T([0,1],u)));for(var f=1,d=!0;f<r.length;f+=1){var p=r[f],y=C(p,0,1),m=C(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==p&&d||(a=!0),A(_,i="%"+(n+="."+p)+"%"))s=_[i];else if(null!=s){if(!(p in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&f+1>=r.length){var g=h(s,p);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[p]}else d=A(s,p),s=s[p];d&&!a&&(_[i]=s)}}return s}},71548:(e,t,r)=>{"use strict";var n=r(30655),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},51203:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(5825);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},5825:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},98567:e=>{"use strict";e.exports={stdin:!1,stderr:!1,supportsHyperlink:function(){return!1}}},44262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});class n{constructor(e=[],t=o){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,o=t[e];for(;e<n;){let n=1+(e<<1),i=t[n];const s=n+1;if(s<this.length&&r(t[s],i)<0&&(n=s,i=t[s]),r(i,o)>=0)break;t[e]=i,e=n}t[e]=o}}function o(e,t){return e<t?-1:e>t?1:0}},95183:(e,t,r)=>{"use strict";r.d(t,{EY:()=>Te,Dw:()=>Q,PY:()=>Z});var n=r(68909);function o(){var e=Object.create(null);function t(n,o){var i=n.id,s=n.name,a=n.dependencies;void 0===a&&(a=[]);var l=n.init;void 0===l&&(l=function(){});var c=n.getTransferables;if(void 0===c&&(c=null),!e[i])try{a=a.map((function(r){return r&&r.isWorkerModule&&(t(r,(function(e){if(e instanceof Error)throw e})),r=e[r.id].value),r})),l=r("<"+s+">.init",l),c&&(c=r("<"+s+">.getTransferables",c));var u=null;"function"==typeof l?u=l.apply(void 0,a):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:u,getTransferables:c},o(u)}catch(e){e&&e.noLog||console.error(e),o(e)}}function r(e,t){var r=void 0;self.troikaDefine=function(e){return r=e};var n=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),delete self.troikaDefine,r}self.addEventListener("message",(function(r){var n=r.data,o=n.messageId,i=n.action,s=n.data;try{"registerModule"===i&&t(s,(function(e){e instanceof Error?postMessage({messageId:o,success:!1,error:e.message}):postMessage({messageId:o,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===i&&function(t,r){var n,o=t.id,i=t.args;e[o]&&"function"==typeof e[o].value||r(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var s=(n=e[o]).value.apply(n,i);s&&"function"==typeof s.then?s.then(a,(function(e){return r(e instanceof Error?e:new Error(""+e))})):a(s)}catch(e){r(e)}function a(t){try{var n=e[o].getTransferables&&e[o].getTransferables(t);n&&Array.isArray(n)&&n.length||(n=void 0),r(t,n)}catch(e){console.error(e),r(e)}}}(s,(function(e,t){e instanceof Error?postMessage({messageId:o,success:!1,error:e.message}):postMessage({messageId:o,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:o,success:!1,error:e.stack})}}))}var i=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return i=function(){return e},e},s=0,a=0,l=!1,c=Object.create(null),u=Object.create(null),f=Object.create(null);function d(e){if(!(e&&"function"==typeof e.init||l))throw new Error("requires `options.init` function");var t=e.dependencies,r=e.init,n=e.getTransferables,o=e.workerId,a=function(e){var t=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var r=e.dependencies,n=e.init;r=Array.isArray(r)?r.map((function(e){return e&&(e=e.onMainThread||e)._getInitResult&&(e=e._getInitResult()),e})):[];var o=Promise.all(r).then((function(e){return n.apply(null,e)}));return t._getInitResult=function(){return o},o},t}(e);null==o&&(o="#default");var c="workerModule"+ ++s,f=e.name||c,y=null;function m(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!i())return a.apply(void 0,e);if(!y){y=p(o,"registerModule",m.workerModuleData);var r=function(){y=null,u[o].delete(r)};(u[o]||(u[o]=new Set)).add(r)}return y.then((function(t){if(t.isCallable)return p(o,"callModule",{id:c,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(l=!0,e=d({workerId:o,name:"<"+f+"> function dependency: "+e.name,init:"function(){return (\n"+h(e)+"\n)}"}),l=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),m.workerModuleData={isWorkerModule:!0,id:c,name:f,dependencies:t,init:h(r),getTransferables:n&&h(n)},m.onMainThread=a,m}function h(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function p(e,t,r){return new Promise((function(n,i){var s=++a;f[s]=function(e){e.success?n(e.result):i(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=c[e];if(!t){var r=h(o);(t=c[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+r+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,r=t.messageId,n=f[r];if(!n)throw new Error("WorkerModule response with empty or unknown messageId");delete f[r],n(t)}}return t}(e).postMessage({messageId:s,action:t,data:r})}))}function y(){var e=function(e){function t(e,t,r,n,o,i,s,a,l,c){var u=1-l;c.x=u*u*u*e+3*u*u*l*r+3*u*l*l*o+l*l*l*s,c.y=u*u*u*t+3*u*u*l*n+3*u*l*l*i+l*l*l*a}function r(e,t){for(var r,n,o,i,s,a=/([MLQCZ])([^MLQCZ]*)/g;r=a.exec(e);){var l=r[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(r[1]){case"M":i=n=l[0],s=o=l[1];break;case"L":l[0]===i&&l[1]===s||t("L",i,s,i=l[0],s=l[1]);break;case"Q":t("Q",i,s,i=l[2],s=l[3],l[0],l[1]);break;case"C":t("C",i,s,i=l[4],s=l[5],l[0],l[1],l[2],l[3]);break;case"Z":i===n&&s===o||t("L",i,s,n,o)}}}function n(e,n,o){void 0===o&&(o=16);var i={x:0,y:0};r(e,(function(e,r,s,a,l,c,u,f,d){switch(e){case"L":n(r,s,a,l);break;case"Q":for(var h=r,p=s,y=1;y<o;y++)b=s,w=u,_=l,E=void 0,E=1-(x=y/(o-1)),(S=i).x=E*E*r+2*E*x*c+x*x*a,S.y=E*E*b+2*E*x*w+x*x*_,n(h,p,i.x,i.y),h=i.x,p=i.y;break;case"C":for(var m=r,g=s,v=1;v<o;v++)t(r,s,c,u,f,d,a,l,v/(o-1),i),n(m,g,i.x,i.y),m=i.x,g=i.y}var b,w,_,x,S,E}))}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",i=new WeakMap,s={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function a(e,t){var r=e.getContext?e.getContext("webgl",s):e,n=i.get(r);if(!n){var o="undefined"!=typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,a={},l={},c={},u=-1,f=[];function d(e){var t=a[e];if(!t&&!(t=a[e]=r.getExtension(e)))throw new Error(e+" not supported");return t}function h(e,t){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function p(e,t,n,i){if(!l[e]){var s={},a={},c=r.createProgram();r.attachShader(c,h(t,r.VERTEX_SHADER)),r.attachShader(c,h(n,r.FRAGMENT_SHADER)),r.linkProgram(c),l[e]={program:c,transaction:function(e){r.useProgram(c),e({setUniform:function(e,t){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];var i=a[t]||(a[t]=r.getUniformLocation(c,t));r["uniform"+e].apply(r,[i].concat(n))},setAttribute:function(e,t,n,i,a){var l=s[e];l||(l=s[e]={buf:r.createBuffer(),loc:r.getAttribLocation(c,e),data:null}),r.bindBuffer(r.ARRAY_BUFFER,l.buf),r.vertexAttribPointer(l.loc,t,r.FLOAT,!1,0,0),r.enableVertexAttribArray(l.loc),o?r.vertexAttribDivisor(l.loc,i):d("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,i),a!==l.data&&(r.bufferData(r.ARRAY_BUFFER,a,n),l.data=a)}})}}}l[e].transaction(i)}function y(e,t){u++;try{r.activeTexture(r.TEXTURE0+u);var n=c[e];n||(n=c[e]=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)),r.bindTexture(r.TEXTURE_2D,n),t(n,u)}finally{u--}}function m(e,t,n){var o=r.createFramebuffer();f.push(o),r.bindFramebuffer(r.FRAMEBUFFER,o),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);try{n(o)}finally{r.deleteFramebuffer(o),r.bindFramebuffer(r.FRAMEBUFFER,f[--f.length-1]||null)}}function g(){a={},l={},c={},u=-1,f.length=0}r.canvas.addEventListener("webglcontextlost",(function(e){g(),e.preventDefault()}),!1),i.set(r,n={gl:r,isWebGL2:o,getExtension:d,withProgram:p,withTexture:y,withTextureFramebuffer:m,handleContextLoss:g})}t(n)}function l(e,t,r,n,i,s,l,c){void 0===l&&(l=15),void 0===c&&(c=null),a(e,(function(e){var a=e.gl,u=e.withProgram;(0,e.withTexture)("copy",(function(e,f){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,i,s,0,a.RGBA,a.UNSIGNED_BYTE,t),u("copy",o,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,a.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",f),a.bindFramebuffer(a.FRAMEBUFFER,c||null),a.disable(a.BLEND),a.colorMask(8&l,4&l,2&l,1&l),a.viewport(r,n,i,s),a.scissor(r,n,i,s),a.drawArrays(a.TRIANGLES,0,3)}))}))}))}var c=Object.freeze({__proto__:null,withWebGLContext:a,renderImageData:l,resizeWebGLCanvasWithoutClearing:function(e,t,r){var n=e.width,o=e.height;a(e,(function(i){var s=i.gl,a=new Uint8Array(n*o*4);s.readPixels(0,0,n,o,s.RGBA,s.UNSIGNED_BYTE,a),e.width=t,e.height=r,l(s,a,0,0,n,o)}))}});function u(e,t,r,o,i,s){void 0===s&&(s=1);var a=new Uint8Array(e*t),l=o[2]-o[0],c=o[3]-o[1],u=[];n(r,(function(e,t,r,n){u.push({x1:e,y1:t,x2:r,y2:n,minX:Math.min(e,r),minY:Math.min(t,n),maxX:Math.max(e,r),maxY:Math.max(t,n)})})),u.sort((function(e,t){return e.maxX-t.maxX}));for(var f=0;f<e;f++)for(var d=0;d<t;d++){var p=m(o[0]+l*(f+.5)/e,o[1]+c*(d+.5)/t),y=Math.pow(1-Math.abs(p)/i,s)/2;p<0&&(y=1-y),y=Math.max(0,Math.min(255,Math.round(255*y))),a[d*e+f]=y}return a;function m(e,t){for(var r=1/0,n=1/0,o=u.length;o--;){var i=u[o];if(i.maxX+n<=e)break;if(e+n>i.minX&&t-n<i.maxY&&t+n>i.minY){var s=h(e,t,i.x1,i.y1,i.x2,i.y2);s<r&&(r=s,n=Math.sqrt(r))}}return function(e,t){for(var r=0,n=u.length;n--;){var o=u[n];if(o.maxX<=e)break;o.y1>t!=o.y2>t&&e<(o.x2-o.x1)*(t-o.y1)/(o.y2-o.y1)+o.x1&&(r+=o.y1<o.y2?1:-1)}return 0!==r}(e,t)&&(n=-n),n}}function f(e,t,r,n,o,i,s,a,l,c){void 0===i&&(i=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),d(e,t,r,n,o,i,s,null,a,l,c)}function d(e,t,r,n,o,i,s,a,c,f,d){void 0===i&&(i=1),void 0===c&&(c=0),void 0===f&&(f=0),void 0===d&&(d=0);for(var h=u(e,t,r,n,o,i),p=new Uint8Array(4*h.length),y=0;y<h.length;y++)p[4*y+d]=h[y];l(s,p,c,f,e,t,1<<3-d,a)}function h(e,t,r,n,o,i){var s=o-r,a=i-n,l=s*s+a*a,c=l?Math.max(0,Math.min(1,((e-r)*s+(t-n)*a)/l)):0,u=e-(r+c*s),f=t-(n+c*a);return u*u+f*f}var p=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:f,generateIntoFramebuffer:d}),y=new Float32Array([0,0,2,0,0,2]),m=null,g=!1,v={},b=new WeakMap;function w(e){if(!g&&!E(e))throw new Error("WebGL generation not supported")}function _(e,t,r,n,o,i,s){if(void 0===i&&(i=1),void 0===s&&(s=null),!s&&!(s=m)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw new Error("OffscreenCanvas or DOM canvas not supported");s=m=l.getContext("webgl",{depth:!1})}w(s);var c=new Uint8Array(e*t*4);a(s,(function(s){var a=s.gl,l=s.withTexture,u=s.withTextureFramebuffer;l("readable",(function(s,l){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,e,t,0,a.RGBA,a.UNSIGNED_BYTE,null),u(s,l,(function(s){S(e,t,r,n,o,i,a,s,0,0,0),a.readPixels(0,0,e,t,a.RGBA,a.UNSIGNED_BYTE,c)}))}))}));for(var u=new Uint8Array(e*t),f=0,d=0;f<c.length;f+=4)u[d++]=c[f];return u}function x(e,t,r,n,o,i,s,a,l,c){void 0===i&&(i=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),S(e,t,r,n,o,i,s,null,a,l,c)}function S(e,t,r,i,s,l,c,u,f,d,h){void 0===l&&(l=1),void 0===f&&(f=0),void 0===d&&(d=0),void 0===h&&(h=0),w(c);var p=[];n(r,(function(e,t,r,n){p.push(e,t,r,n)})),p=new Float32Array(p),a(c,(function(r){var n=r.gl,a=r.isWebGL2,c=r.getExtension,m=r.withProgram,g=r.withTexture,v=r.withTextureFramebuffer,b=r.handleContextLoss;if(g("rawDistances",(function(r,g){e===r._lastWidth&&t===r._lastHeight||n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r._lastWidth=e,r._lastHeight=t,0,n.RGBA,n.UNSIGNED_BYTE,null),m("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(o){var u=o.setAttribute,f=o.setUniform,d=!a&&c("ANGLE_instanced_arrays"),h=!a&&c("EXT_blend_minmax");u("aUV",2,n.STATIC_DRAW,0,y),u("aLineSegment",4,n.DYNAMIC_DRAW,1,p),f.apply(void 0,["4f","uGlyphBounds"].concat(i)),f("1f","uMaxDistance",s),f("1f","uExponent",l),v(r,g,(function(r){n.enable(n.BLEND),n.colorMask(!0,!0,!0,!0),n.viewport(0,0,e,t),n.scissor(0,0,e,t),n.blendFunc(n.ONE,n.ONE),n.blendEquationSeparate(n.FUNC_ADD,a?n.MAX:h.MAX_EXT),n.clear(n.COLOR_BUFFER_BIT),a?n.drawArraysInstanced(n.TRIANGLES,0,3,p.length/4):d.drawArraysInstancedANGLE(n.TRIANGLES,0,3,p.length/4)}))})),m("post",o,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(r){r.setAttribute("aUV",2,n.STATIC_DRAW,0,y),r.setUniform("1i","tex",g),n.bindFramebuffer(n.FRAMEBUFFER,u),n.disable(n.BLEND),n.colorMask(0===h,1===h,2===h,3===h),n.viewport(f,d,e,t),n.scissor(f,d,e,t),n.drawArrays(n.TRIANGLES,0,3)}))})),n.isContextLost())throw b(),new Error("webgl context lost")}))}function E(e){var t=e&&e!==m?e.canvas||e:v,r=b.get(t);if(void 0===r){g=!0;var n=null;try{var o=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],i=_(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(r=i&&o.length===i.length&&i.every((function(e,t){return e===o[t]})))||(n="bad trial run results",console.info(o,i))}catch(e){r=!1,n=e.message}n&&console.warn("WebGL SDF generation not supported:",n),g=!1,b.set(t,r)}return r}var k=Object.freeze({__proto__:null,generate:_,generateIntoCanvas:x,generateIntoFramebuffer:S,isSupported:E});return e.forEachPathCommand=r,e.generate=function(e,t,r,n,o,i){void 0===o&&(o=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1);try{return _.apply(k,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(p,arguments)}},e.generateIntoCanvas=function(e,t,r,n,o,i,s,a,l,c){void 0===o&&(o=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0);try{return x.apply(k,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),f.apply(p,arguments)}},e.javascript=p,e.pathToLineSegments=n,e.webgl=k,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}const m=function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},n={};r.L=1,n[1]="L",Object.keys(t).forEach((function(e,t){r[e]=1<<t+1,n[r[e]]=e})),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,i=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,a=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,l=r.S|r.WS|r.B|o|r.PDI|a,c=null;function u(e){return function(){if(!c){c=new Map;var e=function(e){if(t.hasOwnProperty(e)){var n=0;t[e].split(",").forEach((function(t){var o=t.split("+"),i=o[0],s=o[1];i=parseInt(i,36),s=s?parseInt(s,36):0,c.set(n+=i,r[e]);for(var a=0;a<s;a++)c.set(++n,r[e])}))}};for(var n in t)e(n)}}(),c.get(e.codePointAt(0))||r.L}var f,d,h,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",y="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function m(e,t){var r,n=0,o=new Map,i=t&&new Map;return e.split(",").forEach((function e(s){if(-1!==s.indexOf("+"))for(var a=+s;a--;)e(r);else{r=s;var l=s.split(">"),c=l[0],u=l[1];c=String.fromCodePoint(n+=parseInt(c,36)),u=String.fromCodePoint(n+=parseInt(u,36)),o.set(c,u),t&&i.set(u,c)}})),{map:o,reverseMap:i}}function g(){if(!f){var e=m(p,!0),t=e.map,r=e.reverseMap;f=t,d=r,h=m(y,!1).map}}function v(e){return g(),f.get(e)||null}function b(e){return g(),d.get(e)||null}function w(e){return g(),h.get(e)||null}var _=r.L,x=r.R,S=r.EN,E=r.ES,k=r.ET,A=r.AN,T=r.CS,P=r.B,O=r.S,C=r.ON,R=r.BN,I=r.NSM,M=r.AL,D=r.LRO,N=r.RLO,F=r.LRE,j=r.RLE,$=r.PDF,U=r.LRI,L=r.RLI,z=r.FSI,B=r.PDI;var V;function G(e){return function(){if(!V){var e=m("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,r){t.set(r,e)})),V=t}}(),V.get(e)||null}function H(e,t,r,n){var o=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(o-1,null==n?o-1:+n);var i=[];return t.paragraphs.forEach((function(o){var s=Math.max(r,o.start),a=Math.min(n,o.end);if(s<a){for(var c=t.levels.slice(s,a+1),f=a;f>=s&&u(e[f])&l;f--)c[f]=o.level;for(var d=o.level,h=1/0,p=0;p<c.length;p++){var y=c[p];y>d&&(d=y),y<h&&(h=1|y)}for(var m=d;m>=h;m--)for(var g=0;g<c.length;g++)if(c[g]>=m){for(var v=g;g+1<c.length&&c[g+1]>=m;)g++;g>v&&i.push([v+r,g+r])}}})),i}function q(e,t,r,n){for(var o=H(e,t,r,n),i=[],s=0;s<e.length;s++)i[s]=s;return o.forEach((function(e){for(var t=e[0],r=e[1],n=i.slice(t,r+1),o=n.length;o--;)i[r-o]=n[o]})),i}return e.closingToOpeningBracket=b,e.getBidiCharType=u,e.getBidiCharTypeName=function(e){return n[u(e)]},e.getCanonicalBracket=w,e.getEmbeddingLevels=function(e,t){for(var r=new Uint32Array(e.length),n=0;n<e.length;n++)r[n]=u(e[n]);var c=new Map;function f(e,t){var n=r[e];r[e]=t,c.set(n,c.get(n)-1),n&s&&c.set(s,c.get(s)-1),c.set(t,(c.get(t)||0)+1),t&s&&c.set(s,(c.get(s)||0)+1)}for(var d=new Uint8Array(e.length),h=new Map,p=[],y=null,m=0;m<e.length;m++)y||p.push(y={start:m,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:zt(m,!1)}),r[m]&P&&(y.end=m,y=null);for(var g=j|F|N|D|o|B|$|P,V=function(e){return e+(1&e?1:2)},G=function(e){return e+(1&e?2:1)},H=0;H<p.length;H++){var q=[{_level:(y=p[H]).level,_override:0,_isolate:0}],W=void 0,X=0,Q=0,K=0;c.clear();for(var J=y.start;J<=y.end;J++){var Y=r[J];if(W=q[q.length-1],c.set(Y,(c.get(Y)||0)+1),Y&s&&c.set(s,(c.get(s)||0)+1),Y&g)if(Y&(j|F)){d[J]=W._level;var Z=(Y===j?G:V)(W._level);Z<=125&&!X&&!Q?q.push({_level:Z,_override:0,_isolate:0}):X||Q++}else if(Y&(N|D)){d[J]=W._level;var ee=(Y===N?G:V)(W._level);ee<=125&&!X&&!Q?q.push({_level:ee,_override:Y&N?x:_,_isolate:0}):X||Q++}else if(Y&o){Y&z&&(Y=1===zt(J+1,!0)?L:U),d[J]=W._level,W._override&&f(J,W._override);var te=(Y===L?G:V)(W._level);te<=125&&0===X&&0===Q?(K++,q.push({_level:te,_override:0,_isolate:1,_isolInitIndex:J})):X++}else if(Y&B){if(X>0)X--;else if(K>0){for(Q=0;!q[q.length-1]._isolate;)q.pop();var re=q[q.length-1]._isolInitIndex;null!=re&&(h.set(re,J),h.set(J,re)),q.pop(),K--}W=q[q.length-1],d[J]=W._level,W._override&&f(J,W._override)}else Y&$?(0===X&&(Q>0?Q--:!W._isolate&&q.length>1&&(q.pop(),W=q[q.length-1])),d[J]=W._level):Y&P&&(d[J]=y.level);else d[J]=W._level,W._override&&Y!==R&&f(J,W._override)}for(var ne=[],oe=null,ie=y.start;ie<=y.end;ie++){var se=r[ie];if(!(se&a)){var ae=d[ie],le=se&o,ce=se===B;oe&&ae===oe._level?(oe._end=ie,oe._endsWithIsolInit=le):ne.push(oe={_start:ie,_end:ie,_level:ae,_startsWithPDI:ce,_endsWithIsolInit:le})}}for(var ue=[],fe=0;fe<ne.length;fe++){var de=ne[fe];if(!de._startsWithPDI||de._startsWithPDI&&!h.has(de._start)){for(var he=[oe=de],pe=void 0;oe&&oe._endsWithIsolInit&&null!=(pe=h.get(oe._end));)for(var ye=fe+1;ye<ne.length;ye++)if(ne[ye]._start===pe){he.push(oe=ne[ye]);break}for(var me=[],ge=0;ge<he.length;ge++)for(var ve=he[ge],be=ve._start;be<=ve._end;be++)me.push(be);for(var we=d[me[0]],_e=y.level,xe=me[0]-1;xe>=0;xe--)if(!(r[xe]&a)){_e=d[xe];break}var Se=me[me.length-1],Ee=d[Se],ke=y.level;if(!(r[Se]&o))for(var Ae=Se+1;Ae<=y.end;Ae++)if(!(r[Ae]&a)){ke=d[Ae];break}ue.push({_seqIndices:me,_sosType:Math.max(_e,we)%2?x:_,_eosType:Math.max(ke,Ee)%2?x:_})}}for(var Te=0;Te<ue.length;Te++){var Pe=ue[Te],Oe=Pe._seqIndices,Ce=Pe._sosType,Re=Pe._eosType;if(c.get(I))for(var Ie=0;Ie<Oe.length;Ie++){var Me=Oe[Ie];if(r[Me]&I){for(var De=Ce,Ne=Ie-1;Ne>=0;Ne--)if(!(r[Oe[Ne]]&a)){De=r[Oe[Ne]];break}f(Me,De&(o|B)?C:De)}}if(c.get(S))for(var Fe=0;Fe<Oe.length;Fe++){var je=Oe[Fe];if(r[je]&S)for(var $e=Fe-1;$e>=-1;$e--){var Ue=-1===$e?Ce:r[Oe[$e]];if(Ue&i){Ue===M&&f(je,A);break}}}if(c.get(M))for(var Le=0;Le<Oe.length;Le++){var ze=Oe[Le];r[ze]&M&&f(ze,x)}if(c.get(E)||c.get(T))for(var Be=1;Be<Oe.length-1;Be++){var Ve=Oe[Be];if(r[Ve]&(E|T)){for(var Ge=0,He=0,qe=Be-1;qe>=0&&(Ge=r[Oe[qe]])&a;qe--);for(var We=Be+1;We<Oe.length&&(He=r[Oe[We]])&a;We++);Ge===He&&(r[Ve]===E?Ge===S:Ge&(S|A))&&f(Ve,Ge)}}if(c.get(S))for(var Xe=0;Xe<Oe.length;Xe++){var Qe=Oe[Xe];if(r[Qe]&S){for(var Ke=Xe-1;Ke>=0&&r[Oe[Ke]]&(k|a);Ke--)f(Oe[Ke],S);for(var Je=Xe+1;Je<Oe.length&&r[Oe[Je]]&(k|a);Je++)f(Oe[Je],S)}}if(c.get(k)||c.get(E)||c.get(T))for(var Ye=0;Ye<Oe.length;Ye++){var Ze=Oe[Ye];if(r[Ze]&(k|E|T)){f(Ze,C);for(var et=Ye-1;et>=0&&r[Oe[et]]&a;et--)f(Oe[et],C);for(var tt=Ye+1;tt<Oe.length&&r[Oe[tt]]&a;tt++)f(Oe[tt],C)}}if(c.get(S))for(var rt=0,nt=Ce;rt<Oe.length;rt++){var ot=Oe[rt],it=r[ot];it&S?nt===_&&f(ot,_):it&i&&(nt=it)}if(c.get(s)){for(var st=x|S|A,at=st|_,lt=[],ct=[],ut=0;ut<Oe.length;ut++)if(r[Oe[ut]]&s){var ft=e[Oe[ut]],dt=void 0;if(null!==v(ft)){if(!(ct.length<63))break;ct.push({char:ft,seqIndex:ut})}else if(null!==(dt=b(ft)))for(var ht=ct.length-1;ht>=0;ht--){var pt=ct[ht].char;if(pt===dt||pt===b(w(ft))||v(w(pt))===ft){lt.push([ct[ht].seqIndex,ut]),ct.length=ht;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var yt=0;yt<lt.length;yt++){for(var mt=lt[yt],gt=mt[0],vt=mt[1],bt=!1,wt=0,_t=gt+1;_t<vt;_t++){var xt=Oe[_t];if(r[xt]&at){bt=!0;var St=r[xt]&st?x:_;if(St===Vt(xt)){wt=St;break}}}if(bt&&!wt){wt=Ce;for(var Et=gt-1;Et>=0;Et--){var kt=Oe[Et];if(r[kt]&at){var At=r[kt]&st?x:_;wt=At!==Vt(kt)?At:Vt(kt);break}}}if(wt){if(r[Oe[gt]]=r[Oe[vt]]=wt,wt!==Vt(Oe[gt]))for(var Tt=gt+1;Tt<Oe.length;Tt++)if(!(r[Oe[Tt]]&a)){u(e[Oe[Tt]])&I&&(r[Oe[Tt]]=wt);break}if(wt!==Vt(Oe[vt]))for(var Pt=vt+1;Pt<Oe.length;Pt++)if(!(r[Oe[Pt]]&a)){u(e[Oe[Pt]])&I&&(r[Oe[Pt]]=wt);break}}}for(var Ot=0;Ot<Oe.length;Ot++)if(r[Oe[Ot]]&s){for(var Ct=Ot,Rt=Ot,It=Ce,Mt=Ot-1;Mt>=0;Mt--){if(!(r[Oe[Mt]]&a)){It=r[Oe[Mt]]&st?x:_;break}Ct=Mt}for(var Dt=Re,Nt=Ot+1;Nt<Oe.length;Nt++){if(!(r[Oe[Nt]]&(s|a))){Dt=r[Oe[Nt]]&st?x:_;break}Rt=Nt}for(var Ft=Ct;Ft<=Rt;Ft++)r[Oe[Ft]]=It===Dt?It:Vt(Oe[Ft]);Ot=Rt}}}for(var jt=y.start;jt<=y.end;jt++){var $t=d[jt],Ut=r[jt];if(1&$t?Ut&(_|S|A)&&d[jt]++:Ut&x?d[jt]++:Ut&(A|S)&&(d[jt]+=2),Ut&a&&(d[jt]=0===jt?y.level:d[jt-1]),jt===y.end||u(e[jt])&(O|P))for(var Lt=jt;Lt>=0&&u(e[Lt])&l;Lt--)d[Lt]=y.level}}return{levels:d,paragraphs:p};function zt(t,n){for(var i=t;i<e.length;i++){var s=r[i];if(s&(x|M))return 1;if(s&(P|_)||n&&s===B)return 0;if(s&o){var a=Bt(i);i=-1===a?e.length:a}}return 0}function Bt(t){for(var n=1,i=t+1;i<e.length;i++){var s=r[i];if(s&P)break;if(s&B){if(0==--n)return i}else s&o&&n++}return-1}function Vt(e){return 1&d[e]?x:_}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,t,r,n){var o=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(o-1,null==n?o-1:+n);for(var i=new Map,s=r;s<=n;s++)if(1&t[s]){var a=G(e[s]);null!==a&&i.set(s,a)}return i},e.getReorderSegments=H,e.getReorderedIndices=q,e.getReorderedString=function(e,t,r,n){var o=q(e,t,r,n),i=[].concat(e);return o.forEach((function(r,n){i[n]=(1&t.levels[r]?G(e[r]):null)||e[r]})),i.join("")},e.openingToClosingBracket=v,Object.defineProperty(e,"__esModule",{value:!0}),e}({})},g=/\bvoid\s+main\s*\(\s*\)\s*{/g;function v(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let r=n.ShaderChunk[t];return r?v(r):e}))}const b=[];for(let e=0;e<256;e++)b[e]=(e<16?"0":"")+e.toString(16);const w=Object.assign||function(){let e=arguments[0];for(let t=1,r=arguments.length;t<r;t++){let r=arguments[t];if(r)for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},_=Date.now(),x=new WeakMap,S=new Map;let E=1e10;function k(e,t){const r=function(e){const t=JSON.stringify(e,T);let r=O.get(t);null==r&&O.set(t,r=++P);return r}(t);let o=x.get(e);if(o||x.set(e,o=Object.create(null)),o[r])return new o[r];const i=`_onBeforeCompile${r}`,s=function(n,o){e.onBeforeCompile.call(this,n,o);const s=this.customProgramCacheKey()+"|"+n.vertexShader+"|"+n.fragmentShader;let a=S[s];if(!a){const e=function(e,{vertexShader:t,fragmentShader:r},n,o){let{vertexDefs:i,vertexMainIntro:s,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:p}=n;i=i||"",s=s||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||h)&&(t=v(t));(d||h)&&(r=v(r=r.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(h){let e=h({vertexShader:t,fragmentShader:r});t=e.vertexShader,r=e.fragmentShader}if(d){let e=[];r=r.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),f=`${d}\n${e.join("\n")}\n${f}`}if(p){const e=`\nuniform float ${p};\n`;i=e+i,c=e+c}l&&(i=`${i}\nvoid troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${l}\n}\n`,s=`\ntroika_position_${o} = vec3(position);\ntroika_normal_${o} = vec3(normal);\ntroika_uv_${o} = vec2(uv);\ntroikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});\n${s}\n`,t=(t=`vec3 troika_position_${o};\nvec3 troika_normal_${o};\nvec2 troika_uv_${o};\n${t}\n`).replace(/\b(position|normal|uv)\b/g,((e,t,r,n)=>/\battribute\s+vec[23]\s+$/.test(n.substr(0,r))?t:`troika_${t}_${o}`)),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${o}`)));return t=A(t,o,i,s,a),r=A(r,o,c,u,f),{vertexShader:t,fragmentShader:r}}(this,n,t,r);a=S[s]=e}n.vertexShader=a.vertexShader,n.fragmentShader=a.fragmentShader,w(n.uniforms,this.uniforms),t.timeUniform&&(n.uniforms[t.timeUniform]={get value(){return Date.now()-_}}),this[i]&&this[i](n)},a=function(){return l(t.chained?e:e.clone())},l=function(n){const o=Object.create(n,c);return Object.defineProperty(o,"baseMaterial",{value:e}),Object.defineProperty(o,"id",{value:E++}),o.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(b[255&e]+b[e>>8&255]+b[e>>16&255]+b[e>>24&255]+"-"+b[255&t]+b[t>>8&255]+"-"+b[t>>16&15|64]+b[t>>24&255]+"-"+b[63&r|128]+b[r>>8&255]+"-"+b[r>>16&255]+b[r>>24&255]+b[255&n]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]).toUpperCase()}(),o.uniforms=w({},n.uniforms,t.uniforms),o.defines=w({},n.defines,t.defines),o.defines[`TROIKA_DERIVED_MATERIAL_${r}`]="",o.extensions=w({},n.extensions,t.extensions),o._listeners=void 0,o},c={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>e.type,set:t=>{e.type=t}},isDerivedFrom:{writable:!0,configurable:!0,value:function(e){const t=this.baseMaterial;return e===t||t.isDerivedMaterial&&t.isDerivedFrom(e)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+r}},onBeforeCompile:{get:()=>s,set(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(w(this.extensions,t.extensions),w(this.defines,t.defines),w(this.uniforms,n.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return l(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let r=this._depthMaterial;return r||(r=this._depthMaterial=k(e.isDerivedMaterial?e.getDepthMaterial():new n.MeshDepthMaterial({depthPacking:n.RGBADepthPacking}),t),r.defines.IS_DEPTH_MATERIAL="",r.uniforms=this.uniforms),r}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let r=this._distanceMaterial;return r||(r=this._distanceMaterial=k(e.isDerivedMaterial?e.getDistanceMaterial():new n.MeshDistanceMaterial,t),r.defines.IS_DISTANCE_MATERIAL="",r.uniforms=this.uniforms),r}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:r}=this;t&&t.dispose(),r&&r.dispose(),e.dispose.call(this)}}};return o[r]=a,new a}function A(e,t,r,n,o){return(n||o||r)&&(e=e.replace(g,`\n${r}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${n}\n  troikaOrigMain${t}();\n  ${o}\n}`),e}function T(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let P=0;const O=new Map;n.DoubleSide;n.Mesh;const C=d({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var r=t._bin,n=new Uint8Array(e);if("ttcf"==r.readASCII(n,0,4)){var o=4;r.readUshort(n,o),o+=2,r.readUshort(n,o),o+=2;var i=r.readUint(n,o);o+=4;for(var s=[],a=0;a<i;a++){var l=r.readUint(n,o);o+=4,s.push(t._readFont(n,l))}return s}return[t._readFont(n,0)]},_readFont:function(e,r){var n=t._bin,o=r;n.readFixed(e,r),r+=4;var i=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2;for(var s=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],a={_data:e,_offset:o},l={},c=0;c<i;c++){var u=n.readASCII(e,r,4);r+=4,n.readUint(e,r),r+=4;var f=n.readUint(e,r);r+=4;var d=n.readUint(e,r);r+=4,l[u]={offset:f,length:d}}for(c=0;c<s.length;c++){var h=s[c];l[h]&&(a[h.trim()]=t[h.trim()].parse(e,l[h].offset,l[h].length,a))}return a},_tabOffset:function(e,r,n){for(var o=t._bin,i=o.readUshort(e,n+4),s=n+12,a=0;a<i;a++){var l=o.readASCII(e,s,4);s+=4,o.readUint(e,s),s+=4;var c=o.readUint(e,s);if(s+=4,o.readUint(e,s),s+=4,l==r)return c}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,r){return t._bin.readShort(e,r)/16384},readInt:function(e,r){return t._bin._view(e).getInt32(r)},readInt8:function(e,r){return t._bin._view(e).getInt8(r)},readShort:function(e,r){return t._bin._view(e).getInt16(r)},readUshort:function(e,r){return t._bin._view(e).getUint16(r)},readUshorts:function(e,r,n){for(var o=[],i=0;i<n;i++)o.push(t._bin.readUshort(e,r+2*i));return o},readUint:function(e,r){return t._bin._view(e).getUint32(r)},readUint64:function(e,r){return 4294967296*t._bin.readUint(e,r)+t._bin.readUint(e,r+4)},readASCII:function(e,t,r){for(var n="",o=0;o<r;o++)n+=String.fromCharCode(e[t+o]);return n},readUnicode:function(e,t,r){for(var n="",o=0;o<r;o++){var i=e[t++]<<8|e[t++];n+=String.fromCharCode(i)}return n},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,r,n){var o=t._bin._tdec;return o&&0==r&&n==e.length?o.decode(e):t._bin.readASCII(e,r,n)},readBytes:function(e,t,r){for(var n=[],o=0;o<r;o++)n.push(e[t+o]);return n},readASCIIArray:function(e,t,r){for(var n=[],o=0;o<r;o++)n.push(String.fromCharCode(e[t+o]));return n},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,r,n,o,i){var s=t._bin,a={},l=r;s.readFixed(e,r),r+=4;var c=s.readUshort(e,r);r+=2;var u=s.readUshort(e,r);r+=2;var f=s.readUshort(e,r);return r+=2,a.scriptList=t._lctf.readScriptList(e,l+c),a.featureList=t._lctf.readFeatureList(e,l+u),a.lookupList=t._lctf.readLookupList(e,l+f,i),a},t._lctf.readLookupList=function(e,r,n){var o=t._bin,i=r,s=[],a=o.readUshort(e,r);r+=2;for(var l=0;l<a;l++){var c=o.readUshort(e,r);r+=2;var u=t._lctf.readLookupTable(e,i+c,n);s.push(u)}return s},t._lctf.readLookupTable=function(e,r,n){var o=t._bin,i=r,s={tabs:[]};s.ltype=o.readUshort(e,r),r+=2,s.flag=o.readUshort(e,r),r+=2;var a=o.readUshort(e,r);r+=2;for(var l=s.ltype,c=0;c<a;c++){var u=o.readUshort(e,r);r+=2;var f=n(e,l,i+u,s);s.tabs.push(f)}return s},t._lctf.numOfOnes=function(e){for(var t=0,r=0;r<32;r++)e>>>r&1&&t++;return t},t._lctf.readClassDef=function(e,r){var n=t._bin,o=[],i=n.readUshort(e,r);if(r+=2,1==i){var s=n.readUshort(e,r);r+=2;var a=n.readUshort(e,r);r+=2;for(var l=0;l<a;l++)o.push(s+l),o.push(s+l),o.push(n.readUshort(e,r)),r+=2}if(2==i){var c=n.readUshort(e,r);for(r+=2,l=0;l<c;l++)o.push(n.readUshort(e,r)),r+=2,o.push(n.readUshort(e,r)),r+=2,o.push(n.readUshort(e,r)),r+=2}return o},t._lctf.getInterval=function(e,t){for(var r=0;r<e.length;r+=3){var n=e[r],o=e[r+1];if(e[r+2],n<=t&&t<=o)return r}return-1},t._lctf.readCoverage=function(e,r){var n=t._bin,o={};o.fmt=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);return r+=2,1==o.fmt&&(o.tab=n.readUshorts(e,r,i)),2==o.fmt&&(o.tab=n.readUshorts(e,r,3*i)),o},t._lctf.coverageIndex=function(e,r){var n=e.tab;if(1==e.fmt)return n.indexOf(r);if(2==e.fmt){var o=t._lctf.getInterval(n,r);if(-1!=o)return n[o+2]+(r-n[o])}return-1},t._lctf.readFeatureList=function(e,r){var n=t._bin,o=r,i=[],s=n.readUshort(e,r);r+=2;for(var a=0;a<s;a++){var l=n.readASCII(e,r,4);r+=4;var c=n.readUshort(e,r);r+=2;var u=t._lctf.readFeatureTable(e,o+c);u.tag=l.trim(),i.push(u)}return i},t._lctf.readFeatureTable=function(e,r){var n=t._bin,o=r,i={},s=n.readUshort(e,r);r+=2,s>0&&(i.featureParams=o+s);var a=n.readUshort(e,r);r+=2,i.tab=[];for(var l=0;l<a;l++)i.tab.push(n.readUshort(e,r+2*l));return i},t._lctf.readScriptList=function(e,r){var n=t._bin,o=r,i={},s=n.readUshort(e,r);r+=2;for(var a=0;a<s;a++){var l=n.readASCII(e,r,4);r+=4;var c=n.readUshort(e,r);r+=2,i[l.trim()]=t._lctf.readScriptTable(e,o+c)}return i},t._lctf.readScriptTable=function(e,r){var n=t._bin,o=r,i={},s=n.readUshort(e,r);r+=2,s>0&&(i.default=t._lctf.readLangSysTable(e,o+s));var a=n.readUshort(e,r);r+=2;for(var l=0;l<a;l++){var c=n.readASCII(e,r,4);r+=4;var u=n.readUshort(e,r);r+=2,i[c.trim()]=t._lctf.readLangSysTable(e,o+u)}return i},t._lctf.readLangSysTable=function(e,r){var n=t._bin,o={};n.readUshort(e,r),r+=2,o.reqFeature=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);return r+=2,o.features=n.readUshorts(e,r,i),o},t.CFF={},t.CFF.parse=function(e,r,n){var o=t._bin;(e=new Uint8Array(e.buffer,r,n))[r=0],e[++r],e[++r],e[++r],r++;var i=[];r=t.CFF.readIndex(e,r,i);for(var s=[],a=0;a<i.length-1;a++)s.push(o.readASCII(e,r+i[a],i[a+1]-i[a]));r+=i[i.length-1];var l=[];r=t.CFF.readIndex(e,r,l);var c=[];for(a=0;a<l.length-1;a++)c.push(t.CFF.readDict(e,r+l[a],r+l[a+1]));r+=l[l.length-1];var u=c[0],f=[];r=t.CFF.readIndex(e,r,f);var d=[];for(a=0;a<f.length-1;a++)d.push(o.readASCII(e,r+f[a],f[a+1]-f[a]));if(r+=f[f.length-1],t.CFF.readSubrs(e,r,u),u.CharStrings){r=u.CharStrings,f=[],r=t.CFF.readIndex(e,r,f);var h=[];for(a=0;a<f.length-1;a++)h.push(o.readBytes(e,r+f[a],f[a+1]-f[a]));u.CharStrings=h}if(u.ROS){r=u.FDArray;var p=[];for(r=t.CFF.readIndex(e,r,p),u.FDArray=[],a=0;a<p.length-1;a++){var y=t.CFF.readDict(e,r+p[a],r+p[a+1]);t.CFF._readFDict(e,y,d),u.FDArray.push(y)}r+=p[p.length-1],r=u.FDSelect,u.FDSelect=[];var m=e[r];if(r++,3!=m)throw m;var g=o.readUshort(e,r);for(r+=2,a=0;a<g+1;a++)u.FDSelect.push(o.readUshort(e,r),e[r+2]),r+=3}return u.Encoding&&(u.Encoding=t.CFF.readEncoding(e,u.Encoding,u.CharStrings.length)),u.charset&&(u.charset=t.CFF.readCharset(e,u.charset,u.CharStrings.length)),t.CFF._readFDict(e,u,d),u},t.CFF._readFDict=function(e,r,n){var o;for(var i in r.Private&&(o=r.Private[1],r.Private=t.CFF.readDict(e,o,o+r.Private[0]),r.Private.Subrs&&t.CFF.readSubrs(e,o+r.Private.Subrs,r.Private)),r)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(r[i]=n[r[i]-426+35])},t.CFF.readSubrs=function(e,r,n){var o=t._bin,i=[];r=t.CFF.readIndex(e,r,i);var s,a=i.length;s=a<1240?107:a<33900?1131:32768,n.Bias=s,n.Subrs=[];for(var l=0;l<i.length-1;l++)n.Subrs.push(o.readBytes(e,r+i[l],i[l+1]-i[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var r=0;r<e.charset.length;r++)if(e.charset[r]==t)return r;return-1},t.CFF.glyphBySE=function(e,r){return r<0||r>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[r])},t.CFF.readEncoding=function(e,r,n){t._bin;var o=[".notdef"],i=e[r];if(r++,0!=i)throw"error: unknown encoding format: "+i;var s=e[r];r++;for(var a=0;a<s;a++)o.push(e[r+a]);return o},t.CFF.readCharset=function(e,r,n){var o=t._bin,i=[".notdef"],s=e[r];if(r++,0==s)for(var a=0;a<n;a++){var l=o.readUshort(e,r);r+=2,i.push(l)}else{if(1!=s&&2!=s)throw"error: format: "+s;for(;i.length<n;){l=o.readUshort(e,r),r+=2;var c=0;for(1==s?(c=e[r],r++):(c=o.readUshort(e,r),r+=2),a=0;a<=c;a++)i.push(l),l++}}return i},t.CFF.readIndex=function(e,r,n){var o=t._bin,i=o.readUshort(e,r)+1,s=e[r+=2];if(r++,1==s)for(var a=0;a<i;a++)n.push(e[r+a]);else if(2==s)for(a=0;a<i;a++)n.push(o.readUshort(e,r+2*a));else if(3==s)for(a=0;a<i;a++)n.push(16777215&o.readUint(e,r+3*a-1));else if(1!=i)throw"unsupported offset size: "+s+", count: "+i;return(r+=i*s)-1},t.CFF.getCharString=function(e,r,n){var o=t._bin,i=e[r],s=e[r+1];e[r+2],e[r+3],e[r+4];var a=1,l=null,c=null;i<=20&&(l=i,a=1),12==i&&(l=100*i+s,a=2),21<=i&&i<=27&&(l=i,a=1),28==i&&(c=o.readShort(e,r+1),a=3),29<=i&&i<=31&&(l=i,a=1),32<=i&&i<=246&&(c=i-139,a=1),247<=i&&i<=250&&(c=256*(i-247)+s+108,a=2),251<=i&&i<=254&&(c=256*-(i-251)-s-108,a=2),255==i&&(c=o.readInt(e,r+1)/65535,a=5),n.val=null!=c?c:"o"+l,n.size=a},t.CFF.readCharString=function(e,r,n){for(var o=r+n,i=t._bin,s=[];r<o;){var a=e[r],l=e[r+1];e[r+2],e[r+3],e[r+4];var c=1,u=null,f=null;a<=20&&(u=a,c=1),12==a&&(u=100*a+l,c=2),19!=a&&20!=a||(u=a,c=2),21<=a&&a<=27&&(u=a,c=1),28==a&&(f=i.readShort(e,r+1),c=3),29<=a&&a<=31&&(u=a,c=1),32<=a&&a<=246&&(f=a-139,c=1),247<=a&&a<=250&&(f=256*(a-247)+l+108,c=2),251<=a&&a<=254&&(f=256*-(a-251)-l-108,c=2),255==a&&(f=i.readInt(e,r+1)/65535,c=5),s.push(null!=f?f:"o"+u),r+=c}return s},t.CFF.readDict=function(e,r,n){for(var o=t._bin,i={},s=[];r<n;){var a=e[r],l=e[r+1];e[r+2],e[r+3],e[r+4];var c=1,u=null,f=null;if(28==a&&(f=o.readShort(e,r+1),c=3),29==a&&(f=o.readInt(e,r+1),c=5),32<=a&&a<=246&&(f=a-139,c=1),247<=a&&a<=250&&(f=256*(a-247)+l+108,c=2),251<=a&&a<=254&&(f=256*-(a-251)-l-108,c=2),255==a)throw f=o.readInt(e,r+1)/65535,c=5,"unknown number";if(30==a){var d=[];for(c=1;;){var h=e[r+c];c++;var p=h>>4,y=15&h;if(15!=p&&d.push(p),15!=y&&d.push(y),15==y)break}for(var m="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],v=0;v<d.length;v++)m+=g[d[v]];f=parseFloat(m)}a<=21&&(u=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][a],c=1,12==a&&(u=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],c=2)),null!=u?(i[u]=1==s.length?s[0]:s,s=[]):s.push(f),r+=c}return i},t.cmap={},t.cmap.parse=function(e,r,n){e=new Uint8Array(e.buffer,r,n),r=0;var o=t._bin,i={};o.readUshort(e,r),r+=2;var s=o.readUshort(e,r);r+=2;var a=[];i.tables=[];for(var l=0;l<s;l++){var c=o.readUshort(e,r);r+=2;var u=o.readUshort(e,r);r+=2;var f=o.readUint(e,r);r+=4;var d="p"+c+"e"+u,h=a.indexOf(f);if(-1==h){var p;h=i.tables.length,a.push(f);var y=o.readUshort(e,f);0==y?p=t.cmap.parse0(e,f):4==y?p=t.cmap.parse4(e,f):6==y?p=t.cmap.parse6(e,f):12==y?p=t.cmap.parse12(e,f):console.debug("unknown format: "+y,c,u,f),i.tables.push(p)}if(null!=i[d])throw"multiple tables for one platform+encoding";i[d]=h}return i},t.cmap.parse0=function(e,r){var n=t._bin,o={};o.format=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2,o.map=[];for(var s=0;s<i-6;s++)o.map.push(e[r+s]);return o},t.cmap.parse4=function(e,r){var n=t._bin,o=r,i={};i.format=n.readUshort(e,r),r+=2;var s=n.readUshort(e,r);r+=2,n.readUshort(e,r),r+=2;var a=n.readUshort(e,r);r+=2;var l=a/2;i.searchRange=n.readUshort(e,r),r+=2,i.entrySelector=n.readUshort(e,r),r+=2,i.rangeShift=n.readUshort(e,r),r+=2,i.endCount=n.readUshorts(e,r,l),r+=2*l,r+=2,i.startCount=n.readUshorts(e,r,l),r+=2*l,i.idDelta=[];for(var c=0;c<l;c++)i.idDelta.push(n.readShort(e,r)),r+=2;for(i.idRangeOffset=n.readUshorts(e,r,l),r+=2*l,i.glyphIdArray=[];r<o+s;)i.glyphIdArray.push(n.readUshort(e,r)),r+=2;return i},t.cmap.parse6=function(e,r){var n=t._bin,o={};o.format=n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,n.readUshort(e,r),r+=2,o.firstCode=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);r+=2,o.glyphIdArray=[];for(var s=0;s<i;s++)o.glyphIdArray.push(n.readUshort(e,r)),r+=2;return o},t.cmap.parse12=function(e,r){var n=t._bin,o={};o.format=n.readUshort(e,r),r+=2,r+=2,n.readUint(e,r),r+=4,n.readUint(e,r),r+=4;var i=n.readUint(e,r);r+=4,o.groups=[];for(var s=0;s<i;s++){var a=r+12*s,l=n.readUint(e,a+0),c=n.readUint(e,a+4),u=n.readUint(e,a+8);o.groups.push([l,c,u])}return o},t.glyf={},t.glyf.parse=function(e,t,r,n){for(var o=[],i=0;i<n.maxp.numGlyphs;i++)o.push(null);return o},t.glyf._parseGlyf=function(e,r){var n=t._bin,o=e._data,i=t._tabOffset(o,"glyf",e._offset)+e.loca[r];if(e.loca[r]==e.loca[r+1])return null;var s={};if(s.noc=n.readShort(o,i),i+=2,s.xMin=n.readShort(o,i),i+=2,s.yMin=n.readShort(o,i),i+=2,s.xMax=n.readShort(o,i),i+=2,s.yMax=n.readShort(o,i),i+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var a=0;a<s.noc;a++)s.endPts.push(n.readUshort(o,i)),i+=2;var l=n.readUshort(o,i);if(i+=2,o.length-i<l)return null;s.instructions=n.readBytes(o,i,l),i+=l;var c=s.endPts[s.noc-1]+1;for(s.flags=[],a=0;a<c;a++){var u=o[i];if(i++,s.flags.push(u),8&u){var f=o[i];i++;for(var d=0;d<f;d++)s.flags.push(u),a++}}for(s.xs=[],a=0;a<c;a++){var h=!!(2&s.flags[a]),p=!!(16&s.flags[a]);h?(s.xs.push(p?o[i]:-o[i]),i++):p?s.xs.push(0):(s.xs.push(n.readShort(o,i)),i+=2)}for(s.ys=[],a=0;a<c;a++)h=!!(4&s.flags[a]),p=!!(32&s.flags[a]),h?(s.ys.push(p?o[i]:-o[i]),i++):p?s.ys.push(0):(s.ys.push(n.readShort(o,i)),i+=2);var y=0,m=0;for(a=0;a<c;a++)y+=s.xs[a],m+=s.ys[a],s.xs[a]=y,s.ys[a]=m}else{var g;s.parts=[];do{g=n.readUshort(o,i),i+=2;var v={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(v),v.glyphIndex=n.readUshort(o,i),i+=2,1&g){var b=n.readShort(o,i);i+=2;var w=n.readShort(o,i);i+=2}else b=n.readInt8(o,i),i++,w=n.readInt8(o,i),i++;2&g?(v.m.tx=b,v.m.ty=w):(v.p1=b,v.p2=w),8&g?(v.m.a=v.m.d=n.readF2dot14(o,i),i+=2):64&g?(v.m.a=n.readF2dot14(o,i),i+=2,v.m.d=n.readF2dot14(o,i),i+=2):128&g&&(v.m.a=n.readF2dot14(o,i),i+=2,v.m.b=n.readF2dot14(o,i),i+=2,v.m.c=n.readF2dot14(o,i),i+=2,v.m.d=n.readF2dot14(o,i),i+=2)}while(32&g);if(256&g){var _=n.readUshort(o,i);for(i+=2,s.instr=[],a=0;a<_;a++)s.instr.push(o[i]),i++}}return s},t.GDEF={},t.GDEF.parse=function(e,r,n,o){var i=r;r+=4;var s=t._bin.readUshort(e,r);return{glyphClassDef:0===s?null:t._lctf.readClassDef(e,i+s)}},t.GPOS={},t.GPOS.parse=function(e,r,n,o){return t._lctf.parse(e,r,n,o,t.GPOS.subt)},t.GPOS.subt=function(e,r,n,o){var i=t._bin,s=n,a={};if(a.fmt=i.readUshort(e,n),n+=2,1==r||2==r||3==r||7==r||8==r&&a.fmt<=2){var l=i.readUshort(e,n);n+=2,a.coverage=t._lctf.readCoverage(e,l+s)}if(1==r&&1==a.fmt){var c=i.readUshort(e,n);n+=2,0!=c&&(a.pos=t.GPOS.readValueRecord(e,n,c))}else if(2==r&&a.fmt>=1&&a.fmt<=2){c=i.readUshort(e,n),n+=2;var u=i.readUshort(e,n);n+=2;var f=t._lctf.numOfOnes(c),d=t._lctf.numOfOnes(u);if(1==a.fmt){a.pairsets=[];var h=i.readUshort(e,n);n+=2;for(var p=0;p<h;p++){var y=s+i.readUshort(e,n);n+=2;var m=i.readUshort(e,y);y+=2;for(var g=[],v=0;v<m;v++){var b=i.readUshort(e,y);y+=2,0!=c&&(k=t.GPOS.readValueRecord(e,y,c),y+=2*f),0!=u&&(A=t.GPOS.readValueRecord(e,y,u),y+=2*d),g.push({gid2:b,val1:k,val2:A})}a.pairsets.push(g)}}if(2==a.fmt){var w=i.readUshort(e,n);n+=2;var _=i.readUshort(e,n);n+=2;var x=i.readUshort(e,n);n+=2;var S=i.readUshort(e,n);for(n+=2,a.classDef1=t._lctf.readClassDef(e,s+w),a.classDef2=t._lctf.readClassDef(e,s+_),a.matrix=[],p=0;p<x;p++){var E=[];for(v=0;v<S;v++){var k=null,A=null;0!=c&&(k=t.GPOS.readValueRecord(e,n,c),n+=2*f),0!=u&&(A=t.GPOS.readValueRecord(e,n,u),n+=2*d),E.push({val1:k,val2:A})}a.matrix.push(E)}}}else if(4==r&&1==a.fmt)a.markCoverage=t._lctf.readCoverage(e,i.readUshort(e,n)+s),a.baseCoverage=t._lctf.readCoverage(e,i.readUshort(e,n+2)+s),a.markClassCount=i.readUshort(e,n+4),a.markArray=t.GPOS.readMarkArray(e,i.readUshort(e,n+6)+s),a.baseArray=t.GPOS.readBaseArray(e,i.readUshort(e,n+8)+s,a.markClassCount);else if(6==r&&1==a.fmt)a.mark1Coverage=t._lctf.readCoverage(e,i.readUshort(e,n)+s),a.mark2Coverage=t._lctf.readCoverage(e,i.readUshort(e,n+2)+s),a.markClassCount=i.readUshort(e,n+4),a.mark1Array=t.GPOS.readMarkArray(e,i.readUshort(e,n+6)+s),a.mark2Array=t.GPOS.readBaseArray(e,i.readUshort(e,n+8)+s,a.markClassCount);else{if(9==r&&1==a.fmt){var T=i.readUshort(e,n);n+=2;var P=i.readUint(e,n);if(n+=4,9==o.ltype)o.ltype=T;else if(o.ltype!=T)throw"invalid extension substitution";return t.GPOS.subt(e,o.ltype,s+P)}console.debug("unsupported GPOS table LookupType",r,"format",a.fmt)}return a},t.GPOS.readValueRecord=function(e,r,n){var o=t._bin,i=[];return i.push(1&n?o.readShort(e,r):0),r+=1&n?2:0,i.push(2&n?o.readShort(e,r):0),r+=2&n?2:0,i.push(4&n?o.readShort(e,r):0),r+=4&n?2:0,i.push(8&n?o.readShort(e,r):0),r+=8&n?2:0,i},t.GPOS.readBaseArray=function(e,r,n){var o=t._bin,i=[],s=r,a=o.readUshort(e,r);r+=2;for(var l=0;l<a;l++){for(var c=[],u=0;u<n;u++)c.push(t.GPOS.readAnchorRecord(e,s+o.readUshort(e,r))),r+=2;i.push(c)}return i},t.GPOS.readMarkArray=function(e,r){var n=t._bin,o=[],i=r,s=n.readUshort(e,r);r+=2;for(var a=0;a<s;a++){var l=t.GPOS.readAnchorRecord(e,n.readUshort(e,r+2)+i);l.markClass=n.readUshort(e,r),o.push(l),r+=4}return o},t.GPOS.readAnchorRecord=function(e,r){var n=t._bin,o={};return o.fmt=n.readUshort(e,r),o.x=n.readShort(e,r+2),o.y=n.readShort(e,r+4),o},t.GSUB={},t.GSUB.parse=function(e,r,n,o){return t._lctf.parse(e,r,n,o,t.GSUB.subt)},t.GSUB.subt=function(e,r,n,o){var i=t._bin,s=n,a={};if(a.fmt=i.readUshort(e,n),n+=2,1!=r&&2!=r&&4!=r&&5!=r&&6!=r)return null;if(1==r||2==r||4==r||5==r&&a.fmt<=2||6==r&&a.fmt<=2){var l=i.readUshort(e,n);n+=2,a.coverage=t._lctf.readCoverage(e,s+l)}if(1==r&&a.fmt>=1&&a.fmt<=2){if(1==a.fmt)a.delta=i.readShort(e,n),n+=2;else if(2==a.fmt){var c=i.readUshort(e,n);n+=2,a.newg=i.readUshorts(e,n,c),n+=2*a.newg.length}}else if(2==r&&1==a.fmt){c=i.readUshort(e,n),n+=2,a.seqs=[];for(var u=0;u<c;u++){var f=i.readUshort(e,n)+s;n+=2;var d=i.readUshort(e,f);a.seqs.push(i.readUshorts(e,f+2,d))}}else if(4==r)for(a.vals=[],c=i.readUshort(e,n),n+=2,u=0;u<c;u++){var h=i.readUshort(e,n);n+=2,a.vals.push(t.GSUB.readLigatureSet(e,s+h))}else if(5==r&&2==a.fmt){if(2==a.fmt){var p=i.readUshort(e,n);n+=2,a.cDef=t._lctf.readClassDef(e,s+p),a.scset=[];var y=i.readUshort(e,n);for(n+=2,u=0;u<y;u++){var m=i.readUshort(e,n);n+=2,a.scset.push(0==m?null:t.GSUB.readSubClassSet(e,s+m))}}}else if(6==r&&3==a.fmt){if(3==a.fmt){for(u=0;u<3;u++){c=i.readUshort(e,n),n+=2;for(var g=[],v=0;v<c;v++)g.push(t._lctf.readCoverage(e,s+i.readUshort(e,n+2*v)));n+=2*c,0==u&&(a.backCvg=g),1==u&&(a.inptCvg=g),2==u&&(a.ahedCvg=g)}c=i.readUshort(e,n),n+=2,a.lookupRec=t.GSUB.readSubstLookupRecords(e,n,c)}}else{if(7==r&&1==a.fmt){var b=i.readUshort(e,n);n+=2;var w=i.readUint(e,n);if(n+=4,9==o.ltype)o.ltype=b;else if(o.ltype!=b)throw"invalid extension substitution";return t.GSUB.subt(e,o.ltype,s+w)}console.debug("unsupported GSUB table LookupType",r,"format",a.fmt)}return a},t.GSUB.readSubClassSet=function(e,r){var n=t._bin.readUshort,o=r,i=[],s=n(e,r);r+=2;for(var a=0;a<s;a++){var l=n(e,r);r+=2,i.push(t.GSUB.readSubClassRule(e,o+l))}return i},t.GSUB.readSubClassRule=function(e,r){var n=t._bin.readUshort,o={},i=n(e,r),s=n(e,r+=2);r+=2,o.input=[];for(var a=0;a<i-1;a++)o.input.push(n(e,r)),r+=2;return o.substLookupRecords=t.GSUB.readSubstLookupRecords(e,r,s),o},t.GSUB.readSubstLookupRecords=function(e,r,n){for(var o=t._bin.readUshort,i=[],s=0;s<n;s++)i.push(o(e,r),o(e,r+2)),r+=4;return i},t.GSUB.readChainSubClassSet=function(e,r){var n=t._bin,o=r,i=[],s=n.readUshort(e,r);r+=2;for(var a=0;a<s;a++){var l=n.readUshort(e,r);r+=2,i.push(t.GSUB.readChainSubClassRule(e,o+l))}return i},t.GSUB.readChainSubClassRule=function(e,r){for(var n=t._bin,o={},i=["backtrack","input","lookahead"],s=0;s<i.length;s++){var a=n.readUshort(e,r);r+=2,1==s&&a--,o[i[s]]=n.readUshorts(e,r,a),r+=2*o[i[s]].length}return a=n.readUshort(e,r),r+=2,o.subst=n.readUshorts(e,r,2*a),r+=2*o.subst.length,o},t.GSUB.readLigatureSet=function(e,r){var n=t._bin,o=r,i=[],s=n.readUshort(e,r);r+=2;for(var a=0;a<s;a++){var l=n.readUshort(e,r);r+=2,i.push(t.GSUB.readLigature(e,o+l))}return i},t.GSUB.readLigature=function(e,r){var n=t._bin,o={chain:[]};o.nglyph=n.readUshort(e,r),r+=2;var i=n.readUshort(e,r);r+=2;for(var s=0;s<i-1;s++)o.chain.push(n.readUshort(e,r)),r+=2;return o},t.head={},t.head.parse=function(e,r,n){var o=t._bin,i={};return o.readFixed(e,r),r+=4,i.fontRevision=o.readFixed(e,r),r+=4,o.readUint(e,r),r+=4,o.readUint(e,r),r+=4,i.flags=o.readUshort(e,r),r+=2,i.unitsPerEm=o.readUshort(e,r),r+=2,i.created=o.readUint64(e,r),r+=8,i.modified=o.readUint64(e,r),r+=8,i.xMin=o.readShort(e,r),r+=2,i.yMin=o.readShort(e,r),r+=2,i.xMax=o.readShort(e,r),r+=2,i.yMax=o.readShort(e,r),r+=2,i.macStyle=o.readUshort(e,r),r+=2,i.lowestRecPPEM=o.readUshort(e,r),r+=2,i.fontDirectionHint=o.readShort(e,r),r+=2,i.indexToLocFormat=o.readShort(e,r),r+=2,i.glyphDataFormat=o.readShort(e,r),r+=2,i},t.hhea={},t.hhea.parse=function(e,r,n){var o=t._bin,i={};return o.readFixed(e,r),r+=4,i.ascender=o.readShort(e,r),r+=2,i.descender=o.readShort(e,r),r+=2,i.lineGap=o.readShort(e,r),r+=2,i.advanceWidthMax=o.readUshort(e,r),r+=2,i.minLeftSideBearing=o.readShort(e,r),r+=2,i.minRightSideBearing=o.readShort(e,r),r+=2,i.xMaxExtent=o.readShort(e,r),r+=2,i.caretSlopeRise=o.readShort(e,r),r+=2,i.caretSlopeRun=o.readShort(e,r),r+=2,i.caretOffset=o.readShort(e,r),r+=2,r+=8,i.metricDataFormat=o.readShort(e,r),r+=2,i.numberOfHMetrics=o.readUshort(e,r),r+=2,i},t.hmtx={},t.hmtx.parse=function(e,r,n,o){for(var i=t._bin,s={aWidth:[],lsBearing:[]},a=0,l=0,c=0;c<o.maxp.numGlyphs;c++)c<o.hhea.numberOfHMetrics&&(a=i.readUshort(e,r),r+=2,l=i.readShort(e,r),r+=2),s.aWidth.push(a),s.lsBearing.push(l);return s},t.kern={},t.kern.parse=function(e,r,n,o){var i=t._bin,s=i.readUshort(e,r);if(r+=2,1==s)return t.kern.parseV1(e,r-2,n,o);var a=i.readUshort(e,r);r+=2;for(var l={glyph1:[],rval:[]},c=0;c<a;c++){r+=2,n=i.readUshort(e,r),r+=2;var u=i.readUshort(e,r);r+=2;var f=u>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;r=t.kern.readFormat0(e,r,l)}return l},t.kern.parseV1=function(e,r,n,o){var i=t._bin;i.readFixed(e,r),r+=4;var s=i.readUint(e,r);r+=4;for(var a={glyph1:[],rval:[]},l=0;l<s;l++){i.readUint(e,r),r+=4;var c=i.readUshort(e,r);r+=2,i.readUshort(e,r),r+=2;var u=c>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;r=t.kern.readFormat0(e,r,a)}return a},t.kern.readFormat0=function(e,r,n){var o=t._bin,i=-1,s=o.readUshort(e,r);r+=2,o.readUshort(e,r),r+=2,o.readUshort(e,r),r+=2,o.readUshort(e,r),r+=2;for(var a=0;a<s;a++){var l=o.readUshort(e,r);r+=2;var c=o.readUshort(e,r);r+=2;var u=o.readShort(e,r);r+=2,l!=i&&(n.glyph1.push(l),n.rval.push({glyph2:[],vals:[]}));var f=n.rval[n.rval.length-1];f.glyph2.push(c),f.vals.push(u),i=l}return r},t.loca={},t.loca.parse=function(e,r,n,o){var i=t._bin,s=[],a=o.head.indexToLocFormat,l=o.maxp.numGlyphs+1;if(0==a)for(var c=0;c<l;c++)s.push(i.readUshort(e,r+(c<<1))<<1);if(1==a)for(c=0;c<l;c++)s.push(i.readUint(e,r+(c<<2)));return s},t.maxp={},t.maxp.parse=function(e,r,n){var o=t._bin,i={},s=o.readUint(e,r);return r+=4,i.numGlyphs=o.readUshort(e,r),r+=2,65536==s&&(i.maxPoints=o.readUshort(e,r),r+=2,i.maxContours=o.readUshort(e,r),r+=2,i.maxCompositePoints=o.readUshort(e,r),r+=2,i.maxCompositeContours=o.readUshort(e,r),r+=2,i.maxZones=o.readUshort(e,r),r+=2,i.maxTwilightPoints=o.readUshort(e,r),r+=2,i.maxStorage=o.readUshort(e,r),r+=2,i.maxFunctionDefs=o.readUshort(e,r),r+=2,i.maxInstructionDefs=o.readUshort(e,r),r+=2,i.maxStackElements=o.readUshort(e,r),r+=2,i.maxSizeOfInstructions=o.readUshort(e,r),r+=2,i.maxComponentElements=o.readUshort(e,r),r+=2,i.maxComponentDepth=o.readUshort(e,r),r+=2),i},t.name={},t.name.parse=function(e,r,n){var o=t._bin,i={};o.readUshort(e,r),r+=2;var s=o.readUshort(e,r);r+=2,o.readUshort(e,r);for(var a,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=r+=2,u=0;u<s;u++){var f=o.readUshort(e,r);r+=2;var d=o.readUshort(e,r);r+=2;var h=o.readUshort(e,r);r+=2;var p=o.readUshort(e,r);r+=2;var y=o.readUshort(e,r);r+=2;var m=o.readUshort(e,r);r+=2;var g,v=l[p],b=c+12*s+m;if(0==f)g=o.readUnicode(e,b,y/2);else if(3==f&&0==d)g=o.readUnicode(e,b,y/2);else if(0==d)g=o.readASCII(e,b,y);else if(1==d)g=o.readUnicode(e,b,y/2);else if(3==d)g=o.readUnicode(e,b,y/2);else{if(1!=f)throw"unknown encoding "+d+", platformID: "+f;g=o.readASCII(e,b,y),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var w="p"+f+","+h.toString(16);null==i[w]&&(i[w]={}),i[w][void 0!==v?v:p]=g,i[w]._lang=h}for(var _ in i)if(null!=i[_].postScriptName&&1033==i[_]._lang)return i[_];for(var _ in i)if(null!=i[_].postScriptName&&0==i[_]._lang)return i[_];for(var _ in i)if(null!=i[_].postScriptName&&3084==i[_]._lang)return i[_];for(var _ in i)if(null!=i[_].postScriptName)return i[_];for(var _ in i){a=_;break}return console.debug("returning name table with languageID "+i[a]._lang),i[a]},t["OS/2"]={},t["OS/2"].parse=function(e,r,n){var o=t._bin.readUshort(e,r);r+=2;var i={};if(0==o)t["OS/2"].version0(e,r,i);else if(1==o)t["OS/2"].version1(e,r,i);else if(2==o||3==o||4==o)t["OS/2"].version2(e,r,i);else{if(5!=o)throw"unknown OS/2 table version: "+o;t["OS/2"].version5(e,r,i)}return i},t["OS/2"].version0=function(e,r,n){var o=t._bin;return n.xAvgCharWidth=o.readShort(e,r),r+=2,n.usWeightClass=o.readUshort(e,r),r+=2,n.usWidthClass=o.readUshort(e,r),r+=2,n.fsType=o.readUshort(e,r),r+=2,n.ySubscriptXSize=o.readShort(e,r),r+=2,n.ySubscriptYSize=o.readShort(e,r),r+=2,n.ySubscriptXOffset=o.readShort(e,r),r+=2,n.ySubscriptYOffset=o.readShort(e,r),r+=2,n.ySuperscriptXSize=o.readShort(e,r),r+=2,n.ySuperscriptYSize=o.readShort(e,r),r+=2,n.ySuperscriptXOffset=o.readShort(e,r),r+=2,n.ySuperscriptYOffset=o.readShort(e,r),r+=2,n.yStrikeoutSize=o.readShort(e,r),r+=2,n.yStrikeoutPosition=o.readShort(e,r),r+=2,n.sFamilyClass=o.readShort(e,r),r+=2,n.panose=o.readBytes(e,r,10),r+=10,n.ulUnicodeRange1=o.readUint(e,r),r+=4,n.ulUnicodeRange2=o.readUint(e,r),r+=4,n.ulUnicodeRange3=o.readUint(e,r),r+=4,n.ulUnicodeRange4=o.readUint(e,r),r+=4,n.achVendID=[o.readInt8(e,r),o.readInt8(e,r+1),o.readInt8(e,r+2),o.readInt8(e,r+3)],r+=4,n.fsSelection=o.readUshort(e,r),r+=2,n.usFirstCharIndex=o.readUshort(e,r),r+=2,n.usLastCharIndex=o.readUshort(e,r),r+=2,n.sTypoAscender=o.readShort(e,r),r+=2,n.sTypoDescender=o.readShort(e,r),r+=2,n.sTypoLineGap=o.readShort(e,r),r+=2,n.usWinAscent=o.readUshort(e,r),r+=2,n.usWinDescent=o.readUshort(e,r),r+2},t["OS/2"].version1=function(e,r,n){var o=t._bin;return r=t["OS/2"].version0(e,r,n),n.ulCodePageRange1=o.readUint(e,r),r+=4,n.ulCodePageRange2=o.readUint(e,r),r+4},t["OS/2"].version2=function(e,r,n){var o=t._bin;return r=t["OS/2"].version1(e,r,n),n.sxHeight=o.readShort(e,r),r+=2,n.sCapHeight=o.readShort(e,r),r+=2,n.usDefault=o.readUshort(e,r),r+=2,n.usBreak=o.readUshort(e,r),r+=2,n.usMaxContext=o.readUshort(e,r),r+2},t["OS/2"].version5=function(e,r,n){var o=t._bin;return r=t["OS/2"].version2(e,r,n),n.usLowerOpticalPointSize=o.readUshort(e,r),r+=2,n.usUpperOpticalPointSize=o.readUshort(e,r),r+2},t.post={},t.post.parse=function(e,r,n){var o=t._bin,i={};return i.version=o.readFixed(e,r),r+=4,i.italicAngle=o.readFixed(e,r),r+=4,i.underlinePosition=o.readShort(e,r),r+=2,i.underlineThickness=o.readShort(e,r),r+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var r=e.cmap,n=-1;if(null!=r.p0e4?n=r.p0e4:null!=r.p3e1?n=r.p3e1:null!=r.p1e0?n=r.p1e0:null!=r.p0e3&&(n=r.p0e3),-1==n)throw"no familiar platform and encoding!";var o=r.tables[n];if(0==o.format)return t>=o.map.length?0:o.map[t];if(4==o.format){for(var i=-1,s=0;s<o.endCount.length;s++)if(t<=o.endCount[s]){i=s;break}return-1==i||o.startCount[i]>t?0:65535&(0!=o.idRangeOffset[i]?o.glyphIdArray[t-o.startCount[i]+(o.idRangeOffset[i]>>1)-(o.idRangeOffset.length-i)]:t+o.idDelta[i])}if(12==o.format){if(t>o.groups[o.groups.length-1][1])return 0;for(s=0;s<o.groups.length;s++){var a=o.groups[s];if(a[0]<=t&&t<=a[1])return a[2]+(t-a[0])}return 0}throw"unknown cmap table format "+o.format},t.U.glyphToPath=function(e,r){var n={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[r]){var o=e.SVG.entries[r];return null==o?n:("string"==typeof o&&(o=t.SVG.toPath(o),e.SVG.entries[r]=o),o)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},s=e.CFF,a=e.CFF.Private;if(s.ROS){for(var l=0;s.FDSelect[l+2]<=r;)l+=2;a=s.FDArray[s.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[r],i,s,a,n)}else e.glyf&&t.U._drawGlyf(r,e,n);return n},t.U._drawGlyf=function(e,r,n){var o=r.glyf[e];null==o&&(o=r.glyf[e]=t.glyf._parseGlyf(r,e)),null!=o&&(o.noc>-1?t.U._simpleGlyph(o,n):t.U._compoGlyph(o,r,n))},t.U._simpleGlyph=function(e,r){for(var n=0;n<e.noc;n++){for(var o=0==n?0:e.endPts[n-1]+1,i=e.endPts[n],s=o;s<=i;s++){var a=s==o?i:s-1,l=s==i?o:s+1,c=1&e.flags[s],u=1&e.flags[a],f=1&e.flags[l],d=e.xs[s],h=e.ys[s];if(s==o)if(c){if(!u){t.U.P.moveTo(r,d,h);continue}t.U.P.moveTo(r,e.xs[a],e.ys[a])}else u?t.U.P.moveTo(r,e.xs[a],e.ys[a]):t.U.P.moveTo(r,(e.xs[a]+d)/2,(e.ys[a]+h)/2);c?u&&t.U.P.lineTo(r,d,h):f?t.U.P.qcurveTo(r,d,h,e.xs[l],e.ys[l]):t.U.P.qcurveTo(r,d,h,(d+e.xs[l])/2,(h+e.ys[l])/2)}t.U.P.closePath(r)}},t.U._compoGlyph=function(e,r,n){for(var o=0;o<e.parts.length;o++){var i={cmds:[],crds:[]},s=e.parts[o];t.U._drawGlyf(s.glyphIndex,r,i);for(var a=s.m,l=0;l<i.crds.length;l+=2){var c=i.crds[l],u=i.crds[l+1];n.crds.push(c*a.a+u*a.b+a.tx),n.crds.push(c*a.c+u*a.d+a.ty)}for(l=0;l<i.cmds.length;l++)n.cmds.push(i.cmds[l])}},t.U._getGlyphClass=function(e,r){var n=t._lctf.getInterval(r,e);return-1==n?0:r[n+2]},t.U._applySubs=function(e,r,n,o){for(var i=e.length-r-1,s=0;s<n.tabs.length;s++)if(null!=n.tabs[s]){var a,l=n.tabs[s];if(!l.coverage||-1!=(a=t._lctf.coverageIndex(l.coverage,e[r])))if(1==n.ltype)e[r],1==l.fmt?e[r]=e[r]+l.delta:e[r]=l.newg[a];else if(4==n.ltype)for(var c=l.vals[a],u=0;u<c.length;u++){var f=c[u],d=f.chain.length;if(!(d>i)){for(var h=!0,p=0,y=0;y<d;y++){for(;-1==e[r+p+(1+y)];)p++;f.chain[y]!=e[r+p+(1+y)]&&(h=!1)}if(h){for(e[r]=f.nglyph,y=0;y<d+p;y++)e[r+y+1]=-1;break}}}else if(5==n.ltype&&2==l.fmt)for(var m=t._lctf.getInterval(l.cDef,e[r]),g=l.cDef[m+2],v=l.scset[g],b=0;b<v.length;b++){var w=v[b],_=w.input;if(!(_.length>i)){for(h=!0,y=0;y<_.length;y++){var x=t._lctf.getInterval(l.cDef,e[r+1+y]);if(-1==m&&l.cDef[x+2]!=_[y]){h=!1;break}}if(h){var S=w.substLookupRecords;for(u=0;u<S.length;u+=2)S[u],S[u+1]}}}else if(6==n.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,r-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,r))continue;if(!t.U._glsCovered(e,l.ahedCvg,r+l.inptCvg.length))continue;var E=l.lookupRec;for(b=0;b<E.length;b+=2){m=E[b];var k=o[E[b+1]];t.U._applySubs(e,r+m,k,o)}}}},t.U._glsCovered=function(e,r,n){for(var o=0;o<r.length;o++)if(-1==t._lctf.coverageIndex(r[o],e[n+o]))return!1;return!0},t.U.glyphsToPath=function(e,r,n){for(var o={cmds:[],crds:[]},i=0,s=0;s<r.length;s++){var a=r[s];if(-1!=a){for(var l=s<r.length-1&&-1!=r[s+1]?r[s+1]:0,c=t.U.glyphToPath(e,a),u=0;u<c.crds.length;u+=2)o.crds.push(c.crds[u]+i),o.crds.push(c.crds[u+1]);for(n&&o.cmds.push(n),u=0;u<c.cmds.length;u++)o.cmds.push(c.cmds[u]);n&&o.cmds.push("X"),i+=e.hmtx.aWidth[a],s<r.length-1&&(i+=t.U.getPairAdjustment(e,a,l))}}return o},t.U.P={},t.U.P.moveTo=function(e,t,r){e.cmds.push("M"),e.crds.push(t,r)},t.U.P.lineTo=function(e,t,r){e.cmds.push("L"),e.crds.push(t,r)},t.U.P.curveTo=function(e,t,r,n,o,i,s){e.cmds.push("C"),e.crds.push(t,r,n,o,i,s)},t.U.P.qcurveTo=function(e,t,r,n,o){e.cmds.push("Q"),e.crds.push(t,r,n,o)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,r,n,o,i){for(var s=r.stack,a=r.nStems,l=r.haveWidth,c=r.width,u=r.open,f=0,d=r.x,h=r.y,p=0,y=0,m=0,g=0,v=0,b=0,w=0,_=0,x=0,S=0,E={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,E);var k=E.val;if(f+=E.size,"o1"==k||"o18"==k)s.length%2!=0&&!l&&(c=s.shift()+o.nominalWidthX),a+=s.length>>1,s.length=0,l=!0;else if("o3"==k||"o23"==k)s.length%2!=0&&!l&&(c=s.shift()+o.nominalWidthX),a+=s.length>>1,s.length=0,l=!0;else if("o4"==k)s.length>1&&!l&&(c=s.shift()+o.nominalWidthX,l=!0),u&&t.U.P.closePath(i),h+=s.pop(),t.U.P.moveTo(i,d,h),u=!0;else if("o5"==k)for(;s.length>0;)d+=s.shift(),h+=s.shift(),t.U.P.lineTo(i,d,h);else if("o6"==k||"o7"==k)for(var A=s.length,T="o6"==k,P=0;P<A;P++){var O=s.shift();T?d+=O:h+=O,T=!T,t.U.P.lineTo(i,d,h)}else if("o8"==k||"o24"==k){A=s.length;for(var C=0;C+6<=A;)p=d+s.shift(),y=h+s.shift(),m=p+s.shift(),g=y+s.shift(),d=m+s.shift(),h=g+s.shift(),t.U.P.curveTo(i,p,y,m,g,d,h),C+=6;"o24"==k&&(d+=s.shift(),h+=s.shift(),t.U.P.lineTo(i,d,h))}else{if("o11"==k)break;if("o1234"==k||"o1235"==k||"o1236"==k||"o1237"==k)"o1234"==k&&(y=h,m=(p=d+s.shift())+s.shift(),S=g=y+s.shift(),b=g,_=h,d=(w=(v=(x=m+s.shift())+s.shift())+s.shift())+s.shift(),t.U.P.curveTo(i,p,y,m,g,x,S),t.U.P.curveTo(i,v,b,w,_,d,h)),"o1235"==k&&(p=d+s.shift(),y=h+s.shift(),m=p+s.shift(),g=y+s.shift(),x=m+s.shift(),S=g+s.shift(),v=x+s.shift(),b=S+s.shift(),w=v+s.shift(),_=b+s.shift(),d=w+s.shift(),h=_+s.shift(),s.shift(),t.U.P.curveTo(i,p,y,m,g,x,S),t.U.P.curveTo(i,v,b,w,_,d,h)),"o1236"==k&&(p=d+s.shift(),y=h+s.shift(),m=p+s.shift(),S=g=y+s.shift(),b=g,w=(v=(x=m+s.shift())+s.shift())+s.shift(),_=b+s.shift(),d=w+s.shift(),t.U.P.curveTo(i,p,y,m,g,x,S),t.U.P.curveTo(i,v,b,w,_,d,h)),"o1237"==k&&(p=d+s.shift(),y=h+s.shift(),m=p+s.shift(),g=y+s.shift(),x=m+s.shift(),S=g+s.shift(),v=x+s.shift(),b=S+s.shift(),w=v+s.shift(),_=b+s.shift(),Math.abs(w-d)>Math.abs(_-h)?d=w+s.shift():h=_+s.shift(),t.U.P.curveTo(i,p,y,m,g,x,S),t.U.P.curveTo(i,v,b,w,_,d,h));else if("o14"==k){if(s.length>0&&!l&&(c=s.shift()+n.nominalWidthX,l=!0),4==s.length){var R=s.shift(),I=s.shift(),M=s.shift(),D=s.shift(),N=t.CFF.glyphBySE(n,M),F=t.CFF.glyphBySE(n,D);t.U._drawCFF(n.CharStrings[N],r,n,o,i),r.x=R,r.y=I,t.U._drawCFF(n.CharStrings[F],r,n,o,i)}u&&(t.U.P.closePath(i),u=!1)}else if("o19"==k||"o20"==k)s.length%2!=0&&!l&&(c=s.shift()+o.nominalWidthX),a+=s.length>>1,s.length=0,l=!0,f+=a+7>>3;else if("o21"==k)s.length>2&&!l&&(c=s.shift()+o.nominalWidthX,l=!0),h+=s.pop(),d+=s.pop(),u&&t.U.P.closePath(i),t.U.P.moveTo(i,d,h),u=!0;else if("o22"==k)s.length>1&&!l&&(c=s.shift()+o.nominalWidthX,l=!0),d+=s.pop(),u&&t.U.P.closePath(i),t.U.P.moveTo(i,d,h),u=!0;else if("o25"==k){for(;s.length>6;)d+=s.shift(),h+=s.shift(),t.U.P.lineTo(i,d,h);p=d+s.shift(),y=h+s.shift(),m=p+s.shift(),g=y+s.shift(),d=m+s.shift(),h=g+s.shift(),t.U.P.curveTo(i,p,y,m,g,d,h)}else if("o26"==k)for(s.length%2&&(d+=s.shift());s.length>0;)p=d,y=h+s.shift(),d=m=p+s.shift(),h=(g=y+s.shift())+s.shift(),t.U.P.curveTo(i,p,y,m,g,d,h);else if("o27"==k)for(s.length%2&&(h+=s.shift());s.length>0;)y=h,m=(p=d+s.shift())+s.shift(),g=y+s.shift(),d=m+s.shift(),h=g,t.U.P.curveTo(i,p,y,m,g,d,h);else if("o10"==k||"o29"==k){var j="o10"==k?o:n;if(0==s.length)console.debug("error: empty stack");else{var $=s.pop(),U=j.Subrs[$+j.Bias];r.x=d,r.y=h,r.nStems=a,r.haveWidth=l,r.width=c,r.open=u,t.U._drawCFF(U,r,n,o,i),d=r.x,h=r.y,a=r.nStems,l=r.haveWidth,c=r.width,u=r.open}}else if("o30"==k||"o31"==k){var L=s.length,z=(C=0,"o31"==k);for(C+=L-(A=-3&L);C<A;)z?(y=h,m=(p=d+s.shift())+s.shift(),h=(g=y+s.shift())+s.shift(),A-C==5?(d=m+s.shift(),C++):d=m,z=!1):(p=d,y=h+s.shift(),m=p+s.shift(),g=y+s.shift(),d=m+s.shift(),A-C==5?(h=g+s.shift(),C++):h=g,z=!0),t.U.P.curveTo(i,p,y,m,g,d,h),C+=4}else{if("o"==(k+"").charAt(0))throw console.debug("Unknown operation: "+k,e),k;s.push(k)}}}r.x=d,r.y=h,r.nStems=a,r.haveWidth=l,r.width=c,r.open=u};var r=t,n={Typr:r};return e.Typr=r,e.default=n,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,r=Uint16Array,n=Uint32Array,o=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(e,t){for(var o=new r(31),i=0;i<31;++i)o[i]=t+=1<<e[i-1];var s=new n(o[30]);for(i=1;i<30;++i)for(var a=o[i];a<o[i+1];++a)s[a]=a-o[i]<<5|i;return[o,s]},l=a(o,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(i,0)[0],d=new r(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var y=function(e,t,n){for(var o=e.length,i=0,s=new r(t);i<o;++i)++s[e[i]-1];var a,l=new r(t);for(i=0;i<t;++i)l[i]=l[i-1]+s[i-1]<<1;if(n){a=new r(1<<t);var c=15-t;for(i=0;i<o;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],h=l[e[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)a[d[h]>>>c]=u}else for(a=new r(o),i=0;i<o;++i)e[i]&&(a[i]=d[l[e[i]-1]++]>>>15-e[i]);return a},m=new t(288);for(h=0;h<144;++h)m[h]=8;for(h=144;h<256;++h)m[h]=9;for(h=256;h<280;++h)m[h]=7;for(h=280;h<288;++h)m[h]=8;var g=new t(32);for(h=0;h<32;++h)g[h]=5;var v=y(m,9,1),b=y(g,5,1),w=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},_=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},x=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,r){var n=new Error(t||S[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,E),!r)throw n;return n},k=function(e,a,l){var u=e.length;if(!u||l&&!l.l&&u<5)return a||new t(0);var d=!a||l,h=!l||l.i;l||(l={}),a||(a=new t(3*u));var p,m=function(e){var r=a.length;if(e>r){var n=new t(Math.max(2*r,e));n.set(a),a=n}},g=l.f||0,S=l.p||0,k=l.b||0,A=l.l,T=l.d,P=l.m,O=l.n,C=8*u;do{if(!A){l.f=g=_(e,S,1);var R=_(e,S+1,3);if(S+=3,!R){var I=e[(V=((p=S)/8|0)+(7&p&&1)+4)-4]|e[V-3]<<8,M=V+I;if(M>u){h&&E(0);break}d&&m(k+I),a.set(e.subarray(V,M),k),l.b=k+=I,l.p=S=8*M;continue}if(1==R)A=v,T=b,P=9,O=5;else if(2==R){var D=_(e,S,31)+257,N=_(e,S+10,15)+4,F=D+_(e,S+5,31)+1;S+=14;for(var j=new t(F),$=new t(19),U=0;U<N;++U)$[s[U]]=_(e,S+3*U,7);S+=3*N;var L=w($),z=(1<<L)-1,B=y($,L,1);for(U=0;U<F;){var V,G=B[_(e,S,z)];if(S+=15&G,(V=G>>>4)<16)j[U++]=V;else{var H=0,q=0;for(16==V?(q=3+_(e,S,3),S+=2,H=j[U-1]):17==V?(q=3+_(e,S,7),S+=3):18==V&&(q=11+_(e,S,127),S+=7);q--;)j[U++]=H}}var W=j.subarray(0,D),X=j.subarray(D);P=w(W),O=w(X),A=y(W,P,1),T=y(X,O,1)}else E(1);if(S>C){h&&E(0);break}}d&&m(k+131072);for(var Q=(1<<P)-1,K=(1<<O)-1,J=S;;J=S){var Y=(H=A[x(e,S)&Q])>>>4;if((S+=15&H)>C){h&&E(0);break}if(H||E(2),Y<256)a[k++]=Y;else{if(256==Y){J=S,A=null;break}var Z=Y-254;if(Y>264){var ee=o[U=Y-257];Z=_(e,S,(1<<ee)-1)+c[U],S+=ee}var te=T[x(e,S)&K],re=te>>>4;if(te||E(3),S+=15&te,X=f[re],re>3&&(ee=i[re],X+=x(e,S)&(1<<ee)-1,S+=ee),S>C){h&&E(0);break}d&&m(k+131072);for(var ne=k+Z;k<ne;k+=4)a[k]=a[k-X],a[k+1]=a[k+1-X],a[k+2]=a[k+2-X],a[k+3]=a[k+3-X];k=ne}}l.l=A,l.p=J,l.b=k,A&&(g=1,l.m=P,l.d=T,l.n=O)}while(!g);return k==a.length?a:function(e,o,i){(null==o||o<0)&&(o=0),(null==i||i>e.length)&&(i=e.length);var s=new(e instanceof r?r:e instanceof n?n:t)(i-o);return s.set(e.subarray(o,i)),s}(a,0,k)},A=new t(0),T="undefined"!=typeof TextDecoder&&new TextDecoder;try{T.decode(A,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),r=0;function n(){var e=t.getUint16(r);return r+=2,e}function o(){var e=t.getUint32(r);return r+=4,e}function i(e){g.setUint16(v,e),v+=2}function s(e){g.setUint32(v,e),v+=4}for(var a={signature:o(),flavor:o(),length:o(),numTables:n(),reserved:n(),totalSfntSize:o(),majorVersion:n(),minorVersion:n(),metaOffset:o(),metaLength:o(),metaOrigLength:o(),privOffset:o(),privLength:o()},l=0;Math.pow(2,l)<=a.numTables;)l++;l--;for(var c=16*Math.pow(2,l),u=16*a.numTables-c,f=12,d=[],h=0;h<a.numTables;h++)d.push({tag:o(),offset:o(),compLength:o(),origLength:o(),origChecksum:o()}),f+=16;var p,y=new Uint8Array(12+16*d.length+d.reduce((function(e,t){return e+t.origLength+4}),0)),m=y.buffer,g=new DataView(m),v=0;return s(a.flavor),i(a.numTables),i(c),i(l),i(u),d.forEach((function(e){s(e.tag),s(e.origChecksum),s(f),s(e.origLength),e.outOffset=f,(f+=e.origLength)%4!=0&&(f+=4-f%4)})),d.forEach((function(t){var r,n=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var o=new Uint8Array(t.origLength);r=new Uint8Array(n,2),k(r,o)}else o=new Uint8Array(n);y.set(o,t.outOffset);var i=0;(f=t.outOffset+t.origLength)%4!=0&&(i=4-f%4),y.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=f+i})),m.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const r={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let o;function i(e){if(!o){const e={R:2,L:1,D:4,C:16,U:32,T:8};o=new Map;for(let t in n){let r=0;n[t].split(",").forEach((n=>{let[i,s]=n.split("+");i=parseInt(i,36),s=s?parseInt(s,36):0,o.set(r+=i,e[t]);for(let n=s;n--;)o.set(++r,e[t])}))}}return o.get(e)||32}const s=[null,"isol","init","fina","medi"];function a(e){const t=new Uint8Array(e.length);let r=32,n=1,o=-1;for(let s=0;s<e.length;s++){const a=e.codePointAt(s);let l=0|i(a),c=1;8&l||(21&r?22&l?(c=3,1!==n&&3!==n||t[o]++):33&l&&(2!==n&&4!==n||t[o]--):34&r&&(2!==n&&4!==n||t[o]--),n=t[s]=c,r=l,o=s,a>65535&&s++)}return t}function l(t,r){const n=t.GDEF&&t.GDEF.glyphClassDef;return n?e.U._getGlyphClass(r,n):0}function c(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}function u(t){const n=Object.create(null),o=t["OS/2"],i=t.hhea,u=t.head.unitsPerEm,f=c(o&&o.sTypoAscender,i&&i.ascender,u),d={unitsPerEm:u,ascender:f,descender:c(o&&o.sTypoDescender,i&&i.descender,0),capHeight:c(o&&o.sCapHeight,f),xHeight:c(o&&o.sxHeight,f),lineGap:c(o&&o.sTypoLineGap,i&&i.lineGap),supportsCodePoint:r=>e.U.codeToGlyph(t,r)>0,forEachGlyph(o,i,c,u){let f=0;const h=1/d.unitsPerEm*i,p=function(t,r){const n=[];for(let o=0;o<r.length;o++){const i=r.codePointAt(o);i>65535&&o++,n.push(e.U.codeToGlyph(t,i))}const o=t.GSUB;if(o){const{lookupList:t,featureList:i}=o;let l;const c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,u=[];i.forEach((o=>{if(c.test(o.tag))for(let i=0;i<o.tab.length;i++){if(u[o.tab[i]])continue;u[o.tab[i]]=!0;const c=t[o.tab[i]],f=/^(isol|init|fina|medi)$/.test(o.tag);f&&!l&&(l=a(r));for(let r=0;r<n.length;r++)l&&f&&s[l[r]]!==o.tag||e.U._applySubs(n,r,c,t)}}))}return n}(t,o);let y=0;const m=function(t,r){const n=new Int16Array(3*r.length);let o=0;for(;o<r.length;o++){const c=r[o];if(-1===c)continue;n[3*o+2]=t.hmtx.aWidth[c];const u=t.GPOS;if(u){const f=u.lookupList;for(let u=0;u<f.length;u++){const d=f[u];for(let u=0;u<d.tabs.length;u++){const f=d.tabs[u];if(1===d.ltype){if(-1!==e._lctf.coverageIndex(f.coverage,c)&&f.pos){a(f.pos,o);break}}else if(2===d.ltype){let t=null,n=i();if(-1!==n){const i=e._lctf.coverageIndex(f.coverage,r[n]);if(-1!==i){if(1===f.fmt){const e=f.pairsets[i];for(let r=0;r<e.length;r++)e[r].gid2===c&&(t=e[r])}else if(2===f.fmt){const o=e.U._getGlyphClass(r[n],f.classDef1),i=e.U._getGlyphClass(c,f.classDef2);t=f.matrix[o][i]}if(t){t.val1&&a(t.val1,n),t.val2&&a(t.val2,o);break}}}}else if(4===d.ltype){const t=e._lctf.coverageIndex(f.markCoverage,c);if(-1!==t){const a=i(s),l=-1===a?-1:e._lctf.coverageIndex(f.baseCoverage,r[a]);if(-1!==l){const e=f.markArray[t],r=f.baseArray[l][e.markClass];n[3*o]=r.x-e.x+n[3*a]-n[3*a+2],n[3*o+1]=r.y-e.y+n[3*a+1];break}}}else if(6===d.ltype){const s=e._lctf.coverageIndex(f.mark1Coverage,c);if(-1!==s){const a=i();if(-1!==a){const i=r[a];if(3===l(t,i)){const t=e._lctf.coverageIndex(f.mark2Coverage,i);if(-1!==t){const e=f.mark1Array[s],r=f.mark2Array[t][e.markClass];n[3*o]=r.x-e.x+n[3*a]-n[3*a+2],n[3*o+1]=r.y-e.y+n[3*a+1];break}}}}}}}}else if(t.kern&&!t.cff){const e=i();if(-1!==e){const o=t.kern.glyph1.indexOf(r[e]);if(-1!==o){const r=t.kern.rval[o].glyph2.indexOf(c);-1!==r&&(n[3*e+2]+=t.kern.rval[o].vals[r])}}}}return n;function i(e){for(let t=o-1;t>=0;t--)if(-1!==r[t]&&(!e||e(r[t])))return t;return-1}function s(e){return 1===l(t,e)}function a(e,t){for(let r=0;r<3;r++)n[3*t+r]+=e[r]||0}}(t,p);return p.forEach(((s,a)=>{if(-1!==s){let o=n[s];if(!o){const{cmds:i,crds:a}=e.U.glyphToPath(t,s);let l,c,u,f,d="",h=0;for(let e=0,t=i.length;e<t;e++){const t=r[i[e]];d+=i[e];for(let e=1;e<=t;e++)d+=(e>1?",":"")+a[h++]}if(a.length){l=c=1/0,u=f=-1/0;for(let e=0,t=a.length;e<t;e+=2){let t=a[e],r=a[e+1];t<l&&(l=t),r<c&&(c=r),t>u&&(u=t),r>f&&(f=r)}}else l=u=c=f=0;o=n[s]={index:s,advanceWidth:t.hmtx.aWidth[s],xMin:l,yMin:c,xMax:u,yMax:f,path:d}}u.call(null,o,f+m[3*a]*h,m[3*a+1]*h,y),f+=m[3*a+2]*h,c&&(f+=c*i)}y+=o.codePointAt(y)>65535?2:1})),f}};return d}return function(r){const n=new Uint8Array(r,0,4),o=e._bin.readASCII(n,0,4);if("wOFF"===o)r=t(r);else if("wOF2"===o)throw new Error("woff2 fonts not supported");return u(e.parse(r)[0])}}],init:(e,t,r)=>r(e(),t())});const R=d({name:"FontResolver",dependencies:[function(e,t){const r=Object.create(null),n=Object.create(null);function o(t,o){let i=r[t];i?o(i):n[t]?n[t].push(o):(n[t]=[o],function(t,r){const n=e=>{console.error(`Failure loading font ${t}`,e)};try{const o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)n(new Error(o.statusText));else if(o.status>0)try{const n=e(o.response);n.src=t,r(n)}catch(e){n(e)}},o.onerror=n,o.send()}catch(e){n(e)}}(t,(e=>{e.src=t,r[t]=e,n[t].forEach((t=>t(e))),delete n[t]})))}return function(e,n,{lang:i,fonts:s=[],style:a="normal",weight:l="normal",unicodeFontsURL:c}={}){const u=new Uint8Array(e.length),f=[];e.length||y();const d=new Map,h=[];if("italic"!==a&&(a="normal"),"number"!=typeof l&&(l="bold"===l?700:400),s&&!Array.isArray(s)&&(s=[s]),(s=s.slice().filter((e=>!e.lang||e.lang.test(i))).reverse()).length){const t=1,n=2;let i=0;!function a(l=0){for(let c=l,p=e.length;c<p;c++){const l=e.codePointAt(c);if(i===t&&f[u[c-1]].supportsCodePoint(l)||c>0&&/\s/.test(e[c]))u[c]=u[c-1],i===n&&(h[h.length-1][1]=c);else for(let e=u[c],p=s.length;e<=p;e++)if(e===p){(i===n?h[h.length-1]:h[h.length]=[c,c])[1]=c,i=n}else{u[c]=e;const{src:n,unicodeRange:h}=s[e];if(!h||m(l,h)){const e=r[n];if(!e)return void o(n,(()=>{a(c)}));if(e.supportsCodePoint(l)){let r=d.get(e);"number"!=typeof r&&(r=f.length,f.push(e),d.set(e,r)),u[c]=r,i=t;break}}}l>65535&&c+1<p&&(u[c+1]=u[c],c++,i===n&&(h[h.length-1][1]=c))}p()}()}else h.push([0,e.length-1]),p();function p(){if(h.length){const r=h.map((t=>e.substring(t[0],t[1]+1))).join("\n");t.getFontsForString(r,{lang:i||void 0,style:a,weight:l,dataUrl:c}).then((({fontUrls:e,chars:t})=>{const r=f.length;let n=0;h.forEach((e=>{for(let o=0,i=e[1]-e[0];o<=i;o++)u[e[0]+o]=t[n++]+r;n++}));let i=0;e.forEach(((t,n)=>{o(t,(t=>{f[n+r]=t,++i===e.length&&y()}))}))}))}else y()}function y(){n({chars:u,fonts:f})}function m(e,t){for(let r=0;r<t.length;r++){const[n,o=n]=t[r];if(n<=e&&e<=o)return!0}return!1}}},C,function(){return function(e){var t=function(){this.buckets=new Map};t.prototype.add=function(e){var t=e>>5;this.buckets.set(t,(this.buckets.get(t)||0)|1<<(31&e))},t.prototype.has=function(e){var t=this.buckets.get(e>>5);return void 0!==t&&!!(t&1<<(31&e))},t.prototype.serialize=function(){var e=[];return this.buckets.forEach((function(t,r){e.push((+r).toString(36)+":"+t.toString(36))})),e.join(",")},t.prototype.deserialize=function(e){var t=this;this.buckets.clear(),e.split(",").forEach((function(e){var r=e.split(":");t.buckets.set(parseInt(r[0],36),parseInt(r[1],36))}))};var r=Math.pow(2,8),n=r-1,o=~n;function i(e){var t=function(e){return e&o}(e).toString(16),n=function(e){return(e&o)+r-1}(e).toString(16);return"codepoint-index/plane"+(e>>16)+"/"+t+"-"+n+".json"}function s(e,t){var r=e&n,o=t.codePointAt(r/6|0);return!!((o=(o||48)-48)&1<<r%6)}function a(e,t){!function(e,t){var r;(r=e,r.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(e){return e.split("-").map((function(e){return parseInt(e.trim(),16)}))}))).forEach((function(e){var r=e[0],n=e[1];void 0===n&&(n=r),t(r,n)}))}(e,(function(e,r){for(var n=e;n<=r;n++)t(n)}))}var l={},c={},u=new WeakMap,f="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function d(e){var r=u.get(e);return r||(r=new t,a(e.ranges,(function(e){return r.add(e)})),u.set(e,r)),r}var h,p=new Map;function y(e,t,r){return e[t]?t:e[r]?r:function(e){for(var t in e)return t}(e)}function m(e,t){var r=t;if(!e.includes(r)){r=1/0;for(var n=0;n<e.length;n++)Math.abs(e[n]-t)<Math.abs(r-t)&&(r=e[n])}return r}function g(e){return h||(h=new Set,a("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(e){h.add(e)}))),h.has(e)}return e.CodePointSet=t,e.clearCache=function(){l={},c={}},e.getFontsForString=function(e,t){void 0===t&&(t={});var r,n=t.lang;void 0===n&&(n=/\p{Script=Hangul}/u.test(r=e)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(r)?"ja":"en");var o=t.category;void 0===o&&(o="sans-serif");var a=t.style;void 0===a&&(a="normal");var u=t.weight;void 0===u&&(u=400);var h=(t.dataUrl||f).replace(/\/$/g,""),v=new Map,b=new Uint8Array(e.length),w={},_={},x=new Array(e.length),S=new Map,E=!1;function k(e){var t=p.get(e);return t||(t=fetch(h+"/"+e).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json().then((function(e){if(!Array.isArray(e)||1!==e[0])throw new Error("Incorrect schema version; need 1, got "+e[0]);return e[1]}))})).catch((function(t){if(h!==f)return E||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+h+'", trying default CDN. '+t.message),E=!0),h=f,p.delete(e),k(e);throw t})),p.set(e,t)),t}for(var A=function(t){var r=e.codePointAt(t),n=i(r);x[t]=n,l[n]||S.has(n)||S.set(n,k(n).then((function(e){l[n]=e}))),r>65535&&(t++,T=t)},T=0;T<e.length;T++)A(T);return Promise.all(S.values()).then((function(){S.clear();for(var t=function(t){var o=e.codePointAt(t),i=null,a=l[x[t]],u=void 0;for(var f in a){var d=_[f];if(void 0===d&&(d=_[f]=new RegExp(f).test(n||"en")),d){for(var h in u=f,a[f])if(s(o,a[f][h])){i=h;break}break}}if(!i)e:for(var p in a)if(p!==u)for(var y in a[p])if(s(o,a[p][y])){i=y;break e}i||(console.debug("No font coverage for U+"+o.toString(16)),i="latin"),x[t]=i,c[i]||S.has(i)||S.set(i,k("font-meta/"+i+".json").then((function(e){c[i]=e}))),o>65535&&(t++,r=t)},r=0;r<e.length;r++)t(r);return Promise.all(S.values())})).then((function(){for(var t,r=null,n=0;n<e.length;n++){var i=e.codePointAt(n);if(r&&(g(i)||d(r).has(i)))b[n]=b[n-1];else{r=c[x[n]];var s=w[r.id];if(!s){var l=r.typeforms,f=y(l,o,"sans-serif"),p=y(l[f],a,"normal"),_=m(null===(t=l[f])||void 0===t?void 0:t[p],u);s=w[r.id]=h+"/font-files/"+r.id+"/"+f+"."+p+"."+_+".woff"}var S=v.get(s);null==S&&(S=v.size,v.set(s,S)),b[n]=S}i>65535&&(n++,b[n]=b[n-1])}return{fontUrls:Array.from(v.keys()),chars:b}}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init:(e,t,r)=>e(t,r())});const I=()=>(self.performance||Date).now(),M=y();let D;const N=[];let F=0;function j(){const e=I();for(;N.length&&I()-e<5;)N.shift()();F=N.length?setTimeout(j,0):0}const $=(...e)=>new Promise(((t,r)=>{N.push((()=>{const n=I();try{M.webgl.generateIntoCanvas(...e),t({timing:I()-n})}catch(e){r(e)}})),F||(F=setTimeout(j,0))})),U=4,L=2e3,z={};let B=0;function V(e,t,r,n,o,i,s,a,l,f){const h="TroikaTextSDFGenerator_JS_"+B++%U;let p=z[h];return p||(p=z[h]={workerModule:d({name:h,workerId:h,dependencies:[y,I],init(e,t){const r=e().javascript.generate;return function(...e){const n=t();return{textureData:r(...e),timing:t()-n}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),p.requests++,clearTimeout(p.idleTimer),p.workerModule(e,t,r,n,o,i).then((({textureData:r,timing:n})=>{const o=I(),i=new Uint8Array(4*r.length);for(let e=0;e<r.length;e++)i[4*e+f]=r[e];return M.webglUtils.renderImageData(s,i,a,l,e,t,1<<3-f),n+=I()-o,0==--p.requests&&(p.idleTimer=setTimeout((()=>{!function(e){u[e]&&u[e].forEach((function(e){e()})),c[e]&&(c[e].terminate(),delete c[e])}(h)}),L)),{timing:n}}))}const G=M.webglUtils.resizeWebGLCanvasWithoutClearing,H={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},q=new n.Color;let W=!1;function X(){return(self.performance||Date).now()}function Q(e){W?console.warn("configureTextBuilder called after first font request; will be ignored."):ee(H,e)}const K=Object.create(null);function J(e,t){W=!0,e=ee({},e);const r=X(),{defaultFontURL:o}=H,i=[];if(o&&i.push({label:"default",src:re(o)}),e.font&&i.push({label:"user",src:re(e.font)}),e.font=i,e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||H.sdfGlyphSize,e.unicodeFontsURL=e.unicodeFontsURL||H.unicodeFontsURL,null!=e.colorRanges){let t={};for(let r in e.colorRanges)if(e.colorRanges.hasOwnProperty(r)){let n=e.colorRanges[r];"number"!=typeof n&&(n=q.set(n).getHex()),t[r]=n}e.colorRanges=t}Object.freeze(e);const{textureWidth:s,sdfExponent:a}=H,{sdfGlyphSize:l}=e,c=s/l*4;let u=K[l];if(!u){const e=document.createElement("canvas");e.width=s,e.height=256*l/c,u=K[l]={glyphCount:0,sdfGlyphSize:l,sdfCanvas:e,sdfTexture:new n.Texture(e,void 0,void 0,void 0,n.LinearFilter,n.LinearFilter),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",(t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(t=>{console.log("Context Restored",t),e.contextLost=!1;const r=[];e.glyphsByFont.forEach((t=>{t.forEach((t=>{r.push(Y(t,e,!0))}))})),Promise.all(r).then((()=>{ne(e),e.sdfTexture.needsUpdate=!0}))}))}(u)}const{sdfTexture:f,sdfCanvas:d}=u;(H.useWorker?ie:se)(e).then((n=>{const{glyphIds:o,glyphFontIndices:i,fontData:h,glyphPositions:p,fontSize:y,timings:m}=n,g=[],v=new Float32Array(4*o.length);let b=0,w=0;const _=X(),x=h.map((e=>{let t=u.glyphsByFont.get(e.src);return t||u.glyphsByFont.set(e.src,t=new Map),t}));o.forEach(((e,t)=>{const r=i[t],{src:s,unitsPerEm:a}=h[r];let c=x[r].get(e);if(!c){const{path:t,pathBounds:o}=n.glyphData[s][e],i=Math.max(o[2]-o[0],o[3]-o[1])/l*(H.sdfMargin*l+.5),a=u.glyphCount++,f=[o[0]-i,o[1]-i,o[2]+i,o[3]+i];x[r].set(e,c={path:t,atlasIndex:a,sdfViewBox:f}),g.push(c)}const{sdfViewBox:f}=c,d=p[w++],m=p[w++],_=y/a;v[b++]=d+f[0]*_,v[b++]=m+f[1]*_,v[b++]=d+f[2]*_,v[b++]=m+f[3]*_,o[t]=c.atlasIndex})),m.quads=(m.quads||0)+(X()-_);const S=X();m.sdf={};const E=d.height,k=Math.ceil(u.glyphCount/c),A=Math.pow(2,Math.ceil(Math.log2(k*l)));A>E&&(console.info(`Increasing SDF texture size ${E}->${A}`),G(d,s,A),f.dispose()),Promise.all(g.map((t=>Y(t,u,e.gpuAccelerateSDF).then((({timing:e})=>{m.sdf[t.atlasIndex]=e}))))).then((()=>{g.length&&!u.contextLost&&(ne(u),f.needsUpdate=!0),m.sdfTotal=X()-S,m.total=X()-r,t(Object.freeze({parameters:e,sdfTexture:f,sdfGlyphSize:l,sdfExponent:a,glyphBounds:v,glyphAtlasIndices:o,glyphColors:n.glyphColors,caretPositions:n.caretPositions,chunkedBounds:n.chunkedBounds,ascender:n.ascender,descender:n.descender,lineHeight:n.lineHeight,capHeight:n.capHeight,xHeight:n.xHeight,topBaseline:n.topBaseline,blockBounds:n.blockBounds,visibleBounds:n.visibleBounds,timings:n.timings}))}))})),Promise.resolve().then((()=>{var e;u.contextLost||(e=d)._warm||(M.webgl.isSupported(e),e._warm=!0)}))}function Y({path:e,atlasIndex:t,sdfViewBox:r},{sdfGlyphSize:n,sdfCanvas:o,contextLost:i},s){if(i)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=H,c=Math.max(r[2]-r[0],r[3]-r[1]),u=Math.floor(t/4);return function(e,t,r,n,o,i,s,a,l,c,u=!0){return u?$(e,t,r,n,o,i,s,a,l,c).then(null,(u=>(D||(console.warn("WebGL SDF generation failed, falling back to JS",u),D=!0),V(e,t,r,n,o,i,s,a,l,c)))):V(e,t,r,n,o,i,s,a,l,c)}(n,n,e,r,c,l,o,u%(a/n)*n,Math.floor(u/(a/n))*n,t%4,s)}function Z({font:e,characters:t,sdfGlyphSize:r},n){J({font:e,sdfGlyphSize:r,text:Array.isArray(t)?t.join("\n"):""+t},n)}function ee(e,t){for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}let te;function re(e){return te||(te="undefined"==typeof document?{}:document.createElement("a")),te.href=e,te.href}function ne(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:r}=e,{width:n,height:o}=t,i=e.sdfCanvas.getContext("webgl");let s=r.image.data;s&&s.length===n*o*4||(s=new Uint8Array(n*o*4),r.image={width:n,height:o,data:s},r.flipY=!1,r.isDataTexture=!0),i.readPixels(0,0,n,o,i.RGBA,i.UNSIGNED_BYTE,s)}}const oe=d({name:"Typesetter",dependencies:[function(e,t){const r=1/0,n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,o="[^\\S\\u00A0]",i=new RegExp(`${o}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function s({text:s="",font:f,lang:d,sdfGlyphSize:h=64,fontSize:p=400,fontWeight:y=1,fontStyle:m="normal",letterSpacing:g=0,lineHeight:v="normal",maxWidth:b=r,direction:w,textAlign:_="left",textIndent:x=0,whiteSpace:S="normal",overflowWrap:E="normal",anchorX:k=0,anchorY:A=0,metricsOnly:T=!1,unicodeFontsURL:P,preResolvedFonts:O=null,includeCaretPositions:C=!1,chunkedBoundsSize:R=8192,colorRanges:I=null},M){const D=c(),N={fontLoad:0,typesetting:0};s.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),p=+p,g=+g,b=+b,v=v||"normal",x=+x,function({text:t,lang:r,fonts:n,style:o,weight:i,preResolvedFonts:s,unicodeFontsURL:a},l){const c=({chars:e,fonts:t})=>{let r,n;const o=[];for(let i=0;i<e.length;i++)e[i]!==n?(n=e[i],o.push(r={start:i,end:i,fontObj:t[e[i]]})):r.end=i;l(o)};s?c(s):e(t,c,{lang:r,fonts:n,style:o,weight:i,unicodeFontsURL:a})}({text:s,lang:d,style:m,weight:y,fonts:"string"==typeof f?[{src:f}]:f,unicodeFontsURL:P,preResolvedFonts:O},(e=>{N.fontLoad=c()-D;const f=isFinite(b);let d=null,h=null,y=null,m=null,P=null,O=null,F=null,j=null,$=0,U=0,L="nowrap"!==S;const z=new Map,B=c();let V=x,G=0,H=new u;const q=[H];e.forEach((e=>{const{fontObj:t}=e,{ascender:r,descender:a,unitsPerEm:l,lineGap:c,capHeight:d,xHeight:h}=t;let y=z.get(t);if(!y){const e=p/l,n="normal"===v?(r-a+c)*e:v*p,o=(n-(r-a)*e)/2,i=Math.min(n,(r-a)*e),s=(r+a)/2*e+i/2;y={index:z.size,src:t.src,fontObj:t,fontSizeMult:e,unitsPerEm:l,ascender:r*e,descender:a*e,capHeight:d*e,xHeight:h*e,lineHeight:n,baseline:-o-r*e,caretTop:s,caretBottom:s-i},z.set(t,y)}const{fontSizeMult:m}=y,w=s.slice(e.start,e.end+1);let _,S;t.forEachGlyph(w,p,g,((t,r,a,l)=>{r+=G,l+=e.start,_=r,S=t;const c=s.charAt(l),d=t.advanceWidth*m,h=H.count;let v;if("isEmpty"in t||(t.isWhitespace=!!c&&new RegExp(o).test(c),t.canBreakAfter=!!c&&i.test(c),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||n.test(c)),t.isWhitespace||t.isEmpty||U++,L&&f&&!t.isWhitespace&&r+d+V>b&&h){if(H.glyphAt(h-1).glyphObj.canBreakAfter)v=new u,V=-r;else for(let e=h;e--;){if(0===e&&"break-word"===E){v=new u,V=-r;break}if(H.glyphAt(e).glyphObj.canBreakAfter){v=H.splitAt(e+1);const t=v.glyphAt(0).x;V-=t;for(let e=v.count;e--;)v.glyphAt(e).x-=t;break}}v&&(H.isSoftWrapped=!0,H=v,q.push(H),$=b)}let w=H.glyphAt(H.count);w.glyphObj=t,w.x=r+V,w.y=a,w.width=d,w.charIndex=l,w.fontData=y,"\n"===c&&(H=new u,q.push(H),V=-(r+d+g*p)+x)})),G=_+S.advanceWidth*m+g*p}));let W=0;q.forEach((e=>{let t=!0;for(let r=e.count;r--;){const n=e.glyphAt(r);t&&!n.glyphObj.isWhitespace&&(e.width=n.x+n.width,e.width>$&&($=e.width),t=!1);let{lineHeight:o,capHeight:i,xHeight:s,baseline:a}=n.fontData;o>e.lineHeight&&(e.lineHeight=o);const l=a-e.baseline;l<0&&(e.baseline+=l,e.cap+=l,e.ex+=l),e.cap=Math.max(e.cap,e.baseline+i),e.ex=Math.max(e.ex,e.baseline+s)}e.baseline-=W,e.cap-=W,e.ex-=W,W+=e.lineHeight}));let X=0,Q=0;if(k&&("number"==typeof k?X=-k:"string"==typeof k&&(X=-$*("left"===k?0:"center"===k?.5:"right"===k?1:a(k)))),A&&("number"==typeof A?Q=-A:"string"==typeof A&&(Q="top"===A?0:"top-baseline"===A?-q[0].baseline:"top-cap"===A?-q[0].cap:"top-ex"===A?-q[0].ex:"middle"===A?W/2:"bottom"===A?W:"bottom-baseline"===A?-q[q.length-1].baseline:a(A)*W)),!T){const e=t.getEmbeddingLevels(s,w);d=new Uint16Array(U),h=new Uint8Array(U),y=new Float32Array(2*U),m={},F=[r,r,-1/0,-1/0],j=[],C&&(O=new Float32Array(4*s.length)),I&&(P=new Uint8Array(3*U));let n,o,i=0,a=-1,c=-1;if(q.forEach(((u,f)=>{let{count:p,width:g}=u;if(p>0){let f=0;for(let e=p;e--&&u.glyphAt(e).glyphObj.isWhitespace;)f++;let v=0,b=0;if("center"===_)v=($-g)/2;else if("right"===_)v=$-g;else if("justify"===_&&u.isSoftWrapped){let e=0;for(let t=p-f;t--;)u.glyphAt(t).glyphObj.isWhitespace&&e++;b=($-g)/e}if(b||v){let e=0;for(let t=0;t<p;t++){let r=u.glyphAt(t);const n=r.glyphObj;r.x+=v+e,0!==b&&n.isWhitespace&&t<p-f&&(e+=b,r.width+=b)}}const w=t.getReorderSegments(s,e,u.glyphAt(0).charIndex,u.glyphAt(u.count-1).charIndex);for(let e=0;e<w.length;e++){const[t,r]=w[e];let n=1/0,o=-1/0;for(let e=0;e<p;e++)if(u.glyphAt(e).charIndex>=t){let t=e,i=e;for(;i<p;i++){let e=u.glyphAt(i);if(e.charIndex>r)break;i<p-f&&(n=Math.min(n,e.x),o=Math.max(o,e.x+e.width))}for(let e=t;e<i;e++){const t=u.glyphAt(e);t.x=o-(t.x+t.width-n)}break}}let x;const S=e=>x=e;for(let f=0;f<p;f++){const p=u.glyphAt(f);x=p.glyphObj;const g=x.index,v=1&e.levels[p.charIndex];if(v){const e=t.getMirroredCharacter(s[p.charIndex]);e&&p.fontData.fontObj.forEachGlyph(e,0,0,S)}if(C){const{charIndex:e,fontData:t}=p,r=p.x+X,n=p.x+p.width+X;O[4*e]=v?n:r,O[4*e+1]=v?r:n,O[4*e+2]=u.baseline+t.caretBottom+Q,O[4*e+3]=u.baseline+t.caretTop+Q;const o=e-a;o>1&&l(O,a,o),a=e}if(I){const{charIndex:e}=p;for(;e>c;)c++,I.hasOwnProperty(c)&&(o=I[c])}if(!x.isWhitespace&&!x.isEmpty){const e=i++,{fontSizeMult:t,src:s,index:a}=p.fontData,l=m[s]||(m[s]={});l[g]||(l[g]={path:x.path,pathBounds:[x.xMin,x.yMin,x.xMax,x.yMax]});const c=p.x+X,f=p.y+u.baseline+Q;y[2*e]=c,y[2*e+1]=f;const v=c+x.xMin*t,b=f+x.yMin*t,w=c+x.xMax*t,_=f+x.yMax*t;v<F[0]&&(F[0]=v),b<F[1]&&(F[1]=b),w>F[2]&&(F[2]=w),_>F[3]&&(F[3]=_),e%R==0&&(n={start:e,end:e,rect:[r,r,-1/0,-1/0]},j.push(n)),n.end++;const S=n.rect;if(v<S[0]&&(S[0]=v),b<S[1]&&(S[1]=b),w>S[2]&&(S[2]=w),_>S[3]&&(S[3]=_),d[e]=g,h[e]=a,I){const t=3*e;P[t]=o>>16&255,P[t+1]=o>>8&255,P[t+2]=255&o}}}}})),O){const e=s.length-a;e>1&&l(O,a,e)}}const K=[];z.forEach((({index:e,src:t,unitsPerEm:r,ascender:n,descender:o,lineHeight:i,capHeight:s,xHeight:a})=>{K[e]={src:t,unitsPerEm:r,ascender:n,descender:o,lineHeight:i,capHeight:s,xHeight:a}})),N.typesetting=c()-B,M({glyphIds:d,glyphFontIndices:h,glyphPositions:y,glyphData:m,fontData:K,caretPositions:O,glyphColors:P,chunkedBounds:j,fontSize:p,topBaseline:Q+q[0].baseline,blockBounds:[X,Q-W,X+$,Q],visibleBounds:F,timings:N})}))}function a(e){let t=e.match(/^([\d.]+)%$/),r=t?parseFloat(t[1]):NaN;return isNaN(r)?0:r/100}function l(e,t,r){const n=e[4*t],o=e[4*t+1],i=e[4*t+2],s=e[4*t+3],a=(o-n)/r;for(let o=0;o<r;o++){const r=4*(t+o);e[r]=n+a*o,e[r+1]=n+a*(o+1),e[r+2]=i,e[r+3]=s}}function c(){return(self.performance||Date).now()}function u(){this.data=[]}const f=["glyphObj","x","y","width","charIndex","fontData"];return u.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/f.length)},glyphAt(e){let t=u.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new u;return t.data=this.data.splice(e*f.length),t}},u.flyweight=f.reduce(((e,t,r,n)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*f.length+r]},set(e){this.data[this.index*f.length+r]=e}}),e)),{data:null,index:0}),{typeset:s,measure:function(e,t){s({...e,metricsOnly:!0},(e=>{const[r,n,o,i]=e.blockBounds;t({width:o-r,height:i-n})}))}}},R,m],init:(e,t,r)=>e(t,r())}),ie=d({name:"Typesetter",dependencies:[oe],init:e=>function(t){return new Promise((r=>{e.typeset(t,r)}))},getTransferables(e){const t=[];for(let r in e)e[r]&&e[r].buffer&&t.push(e[r].buffer);return t}}),se=ie.onMainThread;const ae={};const le="aTroikaGlyphBounds",ce="aTroikaGlyphIndex";class ue extends n.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new n.Sphere,this.boundingBox=new n.Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,("number"!=typeof e||e<1)&&(e=1);let t=function(e){let t=ae[e];return t||(t=ae[e]=new n.PlaneGeometry(1,1,e,e).translate(.5,.5,0)),t}(e);["position","normal","uv"].forEach((e=>{this.attributes[e]=t.attributes[e].clone()})),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,n,o){this.updateAttributeData(le,e,4),this.updateAttributeData(ce,t,1),this.updateAttributeData("aTroikaGlyphColor",o,3),this._blockBounds=r,this._chunkedBounds=n,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:n,floor:o,min:i,max:s,sin:a,cos:l}=Math,c=n/2,u=2*n,f=Math.abs(t),d=e[0]/f,h=e[2]/f,p=o((d+c)/u)!==o((h+c)/u)?-f:i(a(d)*f,a(h)*f),y=o((d-c)/u)!==o((h-c)/u)?f:s(a(d)*f,a(h)*f),m=o((d+n)/u)!==o((h+n)/u)?2*f:s(f-l(d)*f,f-l(h)*f);r.min.set(p,e[1],t<0?-m:0),r.max.set(y,e[3],t<0?0:m)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(ce).count,r=this._chunkedBounds;if(r)for(let n=r.length;n--;){t=r[n].end;let o=r[n].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,r){const o=this.getAttribute(e);t?o&&o.array.length===t.length?(o.array.set(t),o.needsUpdate=!0):(this.setAttribute(e,new n.InstancedBufferAttribute(t,r)),delete this._maxInstanceCount,this.dispose()):o&&this.deleteAttribute(e)}}function fe(e){const t=k(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new n.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new n.Vector4(0,0,0,0)},uTroikaClipRect:{value:new n.Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new n.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new n.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new n.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaEdgeOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(t)&&(t=t.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(e)||(e=e.replace(g,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,t.forceSinglePass=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const de=new n.MeshBasicMaterial({color:16777215,side:n.DoubleSide,transparent:!0}),he=8421504,pe=new n.Matrix4,ye=new n.Vector3,me=new n.Vector3,ge=[],ve=new n.Vector3,be="+x+y";function we(e){return Array.isArray(e)?e[0]:e}let _e=()=>{const e=new n.Mesh(new n.PlaneGeometry(1,1),de);return _e=()=>e,e},xe=()=>{const e=new n.Mesh(new n.PlaneGeometry(1,1,32,1),de);return xe=()=>e,e};const Se={type:"syncstart"},Ee={type:"synccomplete"},ke=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Ae=ke.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class Te extends n.Mesh{constructor(){super(new ue,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=he,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=be,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Se),J({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{r.forEach((e=>e&&e()))}))),this.dispatchEvent(Ee),e&&e()}))))}onBeforeRender(e,t,r,n,o,i){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return fe(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=de.clone());if(e&&e.isDerivedFrom(t)||(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",(function r(){t.removeEventListener("dispose",r),e.dispose()}))),this.hasOutline()){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function r(){e.removeEventListener("dispose",r),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return we(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return we(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:e,blockBounds:n}=o;r.uTroikaSDFTexture.value=e,r.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),r.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,r.uTroikaSDFExponent.value=o.sdfExponent,r.uTroikaTotalBounds.value.fromArray(n),r.uTroikaUseGlyphColors.value=!t&&!!o.glyphColors;let i,s,a,l=0,c=0,u=0,f=0,d=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:r,outlineBlur:n,outlineOpacity:o}=this;l=this._parsePercent(e)||0,c=Math.max(0,this._parsePercent(n)||0),i=o,f=this._parsePercent(t)||0,d=this._parsePercent(r)||0}else u=Math.max(0,this._parsePercent(this.strokeWidth)||0),u&&(a=this.strokeColor,r.uTroikaStrokeColor.value.set(null==a?he:a),s=this.strokeOpacity,null==s&&(s=1)),i=this.fillOpacity;r.uTroikaEdgeOffset.value=l,r.uTroikaPositionOffset.value.set(f,d),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=u,r.uTroikaStrokeOpacity.value=s,r.uTroikaFillOpacity.value=null==i?1:i,r.uTroikaCurveRadius.value=this.curveRadius||0;let h=this.clipRect;if(h&&Array.isArray(h)&&4===h.length)r.uTroikaClipRect.value.fromArray(h);else{const e=100*(this.fontSize||.1);r.uTroikaClipRect.value.set(n[0]-e,n[1]-e,n[2]+e,n[3]+e)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const i=t?this.outlineColor||0:this.color;if(null==i)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new n.Color;i===t._input&&"object"!=typeof i||t.set(t._input=i)}let s=this.orientation||be;if(s!==e._orientation){let t=r.uTroikaOrient.value;s=s.replace(/[^-+xyz]/g,"");let n=s!==be&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(n){let[,e,r,o,i]=n;ye.set(0,0,0)[r]="-"===e?1:-1,me.set(0,0,0)[i]="-"===o?-1:1,pe.lookAt(ve,ye.cross(me),me),t.setFromMatrix4(pe)}else t.identity();e._orientation=s}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new n.Vector2){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new n.Vector2){return ye.copy(e),this.localPositionToTextCoords(this.worldToLocal(ye),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:n}=this;if(r){const o=r.blockBounds,i=n?xe():_e(),s=i.geometry,{position:a,uv:l}=s.attributes;for(let e=0;e<l.count;e++){let t=o[0]+l.getX(e)*(o[2]-o[0]);const r=o[1]+l.getY(e)*(o[3]-o[1]);let i=0;n&&(i=n-Math.cos(t/n)*n,t=Math.sin(t/n)*n),a.setXYZ(e,t,r,i)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,ge.length=0,i.raycast(e,ge);for(let e=0;e<ge.length;e++)ge[e].object=this,t.push(ge[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Ae.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}}ke.forEach((e=>{const t="_private_"+e;Object.defineProperty(Te.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));new n.Box3,new n.Color;new WeakMap;new WeakMap},77232:function(e,t,r){var n;!function(o,i){"use strict";var s="function",a="undefined",l="object",c="string",u="major",f="model",d="name",h="type",p="vendor",y="version",m="architecture",g="console",v="mobile",b="tablet",w="smarttv",_="wearable",x="embedded",S="Amazon",E="Apple",k="ASUS",A="BlackBerry",T="Browser",P="Chrome",O="Firefox",C="Google",R="Huawei",I="LG",M="Microsoft",D="Motorola",N="Opera",F="Samsung",j="Sharp",$="Sony",U="Xiaomi",L="Zebra",z="Facebook",B="Chromium OS",V="Mac OS",G=" Browser",H=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},q=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},X=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Q=function(e,t){for(var r,n,o,a,c,u,f=0;f<t.length&&!c;){var d=t[f],h=t[f+1];for(r=n=0;r<d.length&&!c&&d[r];)if(c=d[r++].exec(e))for(o=0;o<h.length;o++)u=c[++n],typeof(a=h[o])===l&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):i:this[a[0]]=u?a[1].call(this,u,a[2]):i:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):i):this[a]=u||i;f+=2}},K=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(q(t[r][n],e))return"?"===r?i:r}else if(q(t[r],e))return"?"===r?i:r;return t.hasOwnProperty("*")?t["*"]:e},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,y],[/opios[\/ ]+([\w\.]+)/i],[y,[d,N+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[d,N+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[d,N]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[d,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[d,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[d,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+T],y],[/\bfocus\/([\w\.]+)/i],[y,[d,O+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[d,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[d,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[d,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[y,[d,O]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360"+G]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+G],y],[/samsungbrowser\/([\w\.]+)/i],[y,[d,F+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[d,y],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,z],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[d,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,P+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[d,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[y,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],y],[/(wolvic)\/([\w\.]+)/i],[d,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[d,O+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,W]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[p,F],[h,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[p,F],[h,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[p,E],[h,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[p,E],[h,b]],[/(macintosh);/i],[f,[p,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[p,j],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[p,R],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[p,R],[h,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[p,U],[h,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[p,U],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[p,"OPPO"],[h,v]],[/\b(opd2\d{3}a?) bui/i],[f,[p,"OPPO"],[h,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[p,"Vivo"],[h,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[p,"Realme"],[h,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[p,D],[h,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[p,D],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[p,I],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[p,I],[h,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[p,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[p,"Nokia"],[h,v]],[/(pixel c)\b/i],[f,[p,C],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[p,C],[h,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[p,$],[h,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[p,$],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[p,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[p,S],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[p,S],[h,v]],[/(playbook);[-\w\),; ]+(rim)/i],[f,p,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[p,A],[h,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[p,k],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[p,k],[h,v]],[/(nexus 9)/i],[f,[p,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[f,/_/g," "],[h,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[p,"TCL"],[h,b]],[/(itel) ((\w+))/i],[[p,W],f,[h,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[p,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[p,"Meizu"],[h,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[p,"Ulefone"],[h,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[p,"Nothing"],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,f,[h,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,f,[h,b]],[/(surface duo)/i],[f,[p,M],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[p,"Fairphone"],[h,v]],[/(u304aa)/i],[f,[p,"AT&T"],[h,v]],[/\bsie-(\w*)/i],[f,[p,"Siemens"],[h,v]],[/\b(rct\w+) b/i],[f,[p,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[p,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[p,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[p,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[f,[p,"NuVision"],[h,b]],[/\b(k88) b/i],[f,[p,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[f,[p,"ZTE"],[h,v]],[/\b(gen\d{3}) b.+49h/i],[f,[p,"Swiss"],[h,v]],[/\b(zur\d{3}) b/i],[f,[p,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[f,[p,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],f,[h,b]],[/\b(ns-?\w{0,9}) b/i],[f,[p,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[p,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],f,[h,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],f,[h,v]],[/\b(ph-1) /i],[f,[p,"Essential"],[h,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[p,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[f,[p,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[f,[p,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[f,[p,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[p,f,[h,v]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[p,M],[h,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[p,L],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[p,L],[h,v]],[/smart-tv.+(samsung)/i],[p,[h,w]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[p,F],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,I],[h,w]],[/(apple) ?tv/i],[p,[f,E+" TV"],[h,w]],[/crkey/i],[[f,P+"cast"],[p,C],[h,w]],[/droid.+aft(\w+)( bui|\))/i],[f,[p,S],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[p,j],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[f,[p,$],[h,w]],[/(mitv-\w{5}) bui/i],[f,[p,U],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[p,f,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,X],[f,X],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,f,[h,g]],[/droid.+; (shield) bui/i],[f,[p,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[f,[p,$],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[p,M],[h,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[p,F],[h,_]],[/((pebble))app/i],[p,f,[h,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[p,E],[h,_]],[/droid.+; (glass) \d/i],[f,[p,C],[h,_]],[/droid.+; (wt63?0{2,3})\)/i],[f,[p,L],[h,_]],[/(quest( \d| pro)?)/i],[f,[p,z],[h,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,x]],[/(aeobc)\b/i],[f,[p,S],[h,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[h,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,v]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[y,K,J]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,K,J],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,V],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,y],[/\(bb(10);/i],[y,[d,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[d,O+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[d,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,B],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,y],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,y]]},Z=function(e,t){if(typeof e===l&&(t=e,e=i),!(this instanceof Z))return new Z(e,t).getResult();var r=typeof o!==a&&o.navigator?o.navigator:i,n=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:i,w=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(Y,t):Y,_=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[d]=i,t[y]=i,Q.call(t,n,w.browser),t[u]=typeof(e=t[y])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i,_&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[m]=i,Q.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[p]=i,e[f]=i,e[h]=i,Q.call(e,n,w.device),_&&!e[h]&&g&&g.mobile&&(e[h]=v),_&&"Macintosh"==e[f]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[d]=i,e[y]=i,Q.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[d]=i,e[y]=i,Q.call(e,n,w.os),_&&!e[d]&&g&&g.platform&&"Unknown"!=g.platform&&(e[d]=g.platform.replace(/chrome os/i,B).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?X(e,500):e,this},this.setUA(n),this};Z.VERSION="0.7.39",Z.BROWSER=H([d,y,u]),Z.CPU=H([m]),Z.DEVICE=H([f,p,h,g,v,w,b,_,x]),Z.ENGINE=Z.OS=H([d,y]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):r.amdO?(n=function(){return Z}.call(t,r,t,e))===i||(e.exports=n):typeof o!==a&&(o.UAParser=Z);var ee=typeof o!==a&&(o.jQuery||o.Zepto);if(ee&&!ee.ua){var te=new Z;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var r in t)ee.ua[r]=t[r]}}}("object"==typeof window?window:this)},46579:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,o=1;o<n;++o)t[o]=t[o].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}function a(e){var n="[A-Za-z]",o="[0-9]",i=t(o,"[A-Fa-f]"),s=r(r("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+r("%[89A-Fa-f]"+i+"%"+i+i)+"|"+r("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(n,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=r(n+t(n,o,"[\\+\\-\\.]")+"*"),d=r(r(s+"|"+t(u,a,"[\\:]"))+"*"),h=(r(r("25[0-5]")+"|"+r("2[0-4]"+o)+"|"+r("1"+o+o)+"|"+r("[1-9]"+o)+"|"+o),r(r("25[0-5]")+"|"+r("2[0-4]"+o)+"|"+r("1"+o+o)+"|"+r("0?[1-9]"+o)+"|0?0?"+o)),p=r(h+"\\."+h+"\\."+h+"\\."+h),y=r(i+"{1,4}"),m=r(r(y+"\\:"+y)+"|"+p),g=r(r(y+"\\:")+"{6}"+m),v=r("\\:\\:"+r(y+"\\:")+"{5}"+m),b=r(r(y)+"?\\:\\:"+r(y+"\\:")+"{4}"+m),w=r(r(r(y+"\\:")+"{0,1}"+y)+"?\\:\\:"+r(y+"\\:")+"{3}"+m),_=r(r(r(y+"\\:")+"{0,2}"+y)+"?\\:\\:"+r(y+"\\:")+"{2}"+m),x=r(r(r(y+"\\:")+"{0,3}"+y)+"?\\:\\:"+y+"\\:"+m),S=r(r(r(y+"\\:")+"{0,4}"+y)+"?\\:\\:"+m),E=r(r(r(y+"\\:")+"{0,5}"+y)+"?\\:\\:"+y),k=r(r(r(y+"\\:")+"{0,6}"+y)+"?\\:\\:"),A=r([g,v,b,w,_,x,S,E,k].join("|")),T=r(r(u+"|"+s)+"+"),P=(r(A+"\\%25"+T),r(A+r("\\%25|\\%(?!"+i+"{2})")+T)),O=r("[vV]"+i+"+\\."+t(u,a,"[\\:]")+"+"),C=r("\\["+r(P+"|"+A+"|"+O)+"\\]"),R=r(r(s+"|"+t(u,a))+"*"),I=r(C+"|"+p+"(?!"+R+")|"+R),M=r(o+"*"),D=r(r(d+"@")+"?"+I+r("\\:"+M)+"?"),N=r(s+"|"+t(u,a,"[\\:\\@]")),F=r(N+"*"),j=r(N+"+"),$=r(r(s+"|"+t(u,a,"[\\@]"))+"+"),U=r(r("\\/"+F)+"*"),L=r("\\/"+r(j+U)+"?"),z=r($+U),B=r(j+U),V="(?!"+N+")",G=(r(U+"|"+L+"|"+z+"|"+B+"|"+V),r(r(N+"|"+t("[\\/\\?]",c))+"*")),H=r(r(N+"|[\\/\\?]")+"*"),q=r(r("\\/\\/"+D+U)+"|"+L+"|"+B+"|"+V),W=r(f+"\\:"+q+r("\\?"+G)+"?"+r("\\#"+H)+"?"),X=r(r("\\/\\/"+D+U)+"|"+L+"|"+z+"|"+V),Q=r(X+r("\\?"+G)+"?"+r("\\#"+H)+"?");return r(W+"|"+Q),r(f+"\\:"+q+r("\\?"+G)+"?"),r(r("\\/\\/("+r("("+d+")@")+"?("+I+")"+r("\\:("+M+")")+"?)")+"?("+U+"|"+L+"|"+B+"|"+V+")"),r("\\?("+G+")"),r("\\#("+H+")"),r(r("\\/\\/("+r("("+d+")@")+"?("+I+")"+r("\\:("+M+")")+"?)")+"?("+U+"|"+L+"|"+z+"|"+V+")"),r("\\?("+G+")"),r("\\#("+H+")"),r(r("\\/\\/("+r("("+d+")@")+"?("+I+")"+r("\\:("+M+")")+"?)")+"?("+U+"|"+L+"|"+B+"|"+V+")"),r("\\?("+G+")"),r("\\#("+H+")"),r("("+d+")@"),r("\\:("+M+")"),{NOT_SCHEME:new RegExp(t("[^]",n,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+A+")"+r(r("\\%25|\\%(?!"+i+"{2})")+"("+T+")")+"?\\]?$")}}var l=a(!1),c=a(!0),u=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},d=2147483647,h=36,p=1,y=26,m=38,g=700,v=72,b=128,w="-",_=/^xn--/,x=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=h-p,A=Math.floor,T=String.fromCharCode;function P(e){throw new RangeError(E[e])}function O(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+O((e=e.replace(S,".")).split("."),t).join(".")}function R(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}var I=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},M=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},D=function(e,t,r){var n=0;for(e=r?A(e/g):e>>1,e+=A(e/t);e>k*y>>1;n+=h)e=A(e/k);return A(n+(k+1)*e/(e+m))},N=function(e){var t=[],r=e.length,n=0,o=b,i=v,s=e.lastIndexOf(w);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&P("not-basic"),t.push(e.charCodeAt(a));for(var l=s>0?s+1:0;l<r;){for(var c=n,u=1,f=h;;f+=h){l>=r&&P("invalid-input");var m=I(e.charCodeAt(l++));(m>=h||m>A((d-n)/u))&&P("overflow"),n+=m*u;var g=f<=i?p:f>=i+y?y:f-i;if(m<g)break;var _=h-g;u>A(d/_)&&P("overflow"),u*=_}var x=t.length+1;i=D(n-c,x,0==c),A(n/x)>d-o&&P("overflow"),o+=A(n/x),n%=x,t.splice(n++,0,o)}return String.fromCodePoint.apply(String,t)},F=function(e){var t=[],r=(e=R(e)).length,n=b,o=0,i=v,s=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var f=c.value;f<128&&t.push(T(f))}}catch(e){a=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(a)throw l}}var m=t.length,g=m;for(m&&t.push(w);g<r;){var _=d,x=!0,S=!1,E=void 0;try{for(var k,O=e[Symbol.iterator]();!(x=(k=O.next()).done);x=!0){var C=k.value;C>=n&&C<_&&(_=C)}}catch(e){S=!0,E=e}finally{try{!x&&O.return&&O.return()}finally{if(S)throw E}}var I=g+1;_-n>A((d-o)/I)&&P("overflow"),o+=(_-n)*I,n=_;var N=!0,F=!1,j=void 0;try{for(var $,U=e[Symbol.iterator]();!(N=($=U.next()).done);N=!0){var L=$.value;if(L<n&&++o>d&&P("overflow"),L==n){for(var z=o,B=h;;B+=h){var V=B<=i?p:B>=i+y?y:B-i;if(z<V)break;var G=z-V,H=h-V;t.push(T(M(V+G%H,0))),z=A(G/H)}t.push(T(M(z,0))),i=D(o,I,g==m),o=0,++g}}}catch(e){F=!0,j=e}finally{try{!N&&U.return&&U.return()}finally{if(F)throw j}}++o,++n}return t.join("")},j=function(e){return C(e,(function(e){return _.test(e)?N(e.slice(4).toLowerCase()):e}))},$=function(e){return C(e,(function(e){return x.test(e)?"xn--"+F(e):e}))},U={version:"2.1.0",ucs2:{decode:R,encode:function(e){return String.fromCodePoint.apply(String,f(e))}},decode:N,encode:F,toASCII:$,toUnicode:j},L={};function z(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function B(e){for(var t="",r=0,n=e.length;r<n;){var o=parseInt(e.substr(r+1,2),16);if(o<128)t+=String.fromCharCode(o),r+=3;else if(o>=194&&o<224){if(n-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(o>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function V(e,t){function r(e){var r=B(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,z).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,z).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,z).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,z).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,z).replace(t.PCT_ENCODED,o)),e}function G(e){return e.replace(/^0*(.*)/,"$1")||"0"}function H(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(G).join("."):e}function q(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),o=n[1],i=n[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),a=u(s,2),l=a[0],c=a[1],f=c?c.split(":").map(G):[],d=l.split(":").map(G),h=t.IPV4ADDRESS.test(d[d.length-1]),p=h?7:8,y=d.length-p,m=Array(p),g=0;g<p;++g)m[g]=f[g]||d[y+g]||"";h&&(m[p-1]=H(m[p-1],t));var v=m.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var w=m.slice(0,v.index),_=m.slice(v.index+v.length);b=w.join(":")+"::"+_.join(":")}else b=m.join(":");return i&&(b+="%"+i),b}return e}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,X=void 0==="".match(/(){0}/)[1];function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(W);if(o){X?(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5])):(r.scheme=o[1]||void 0,r.userinfo=-1!==e.indexOf("@")?o[3]:void 0,r.host=-1!==e.indexOf("//")?o[4]:void 0,r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=-1!==e.indexOf("?")?o[7]:void 0,r.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),r.host&&(r.host=q(H(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=L[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)V(r,n);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=U.toASCII(r.host.replace(n.PCT_ENCODED,B).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}V(r,l)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function K(e,t){var r=!1!==t.iri?c:l,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(q(H(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var J=/^\.\.?\//,Y=/^\/\.(\/|$)/,Z=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(J))e=e.replace(J,"");else if(e.match(Y))e=e.replace(Y,"/");else if(e.match(Z))e=e.replace(Z,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(ee);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?c:l,n=[],o=L[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?U.toUnicode(e.host):U.toASCII(e.host.replace(r.PCT_ENCODED,B).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}V(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=K(e,t);if(void 0!==i&&("suffix"!==t.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||o&&o.absolutePath||(s=te(s)),void 0===i&&(s=s.replace(/^\/\//,"/%2F")),n.push(s)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=Q(re(e,r),r),t=Q(re(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=te(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=te(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=te(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function oe(e,t,r){var n=s({scheme:"null"},r);return re(ne(Q(e,n),Q(t,n),n,!0),n)}function ie(e,t){return"string"==typeof e?e=re(Q(e,t),t):"object"===n(e)&&(e=Q(re(e,t),t)),e}function se(e,t,r){return"string"==typeof e?e=re(Q(e,r),r):"object"===n(e)&&(e=re(e,r)),"string"==typeof t?t=re(Q(t,r),r):"object"===n(t)&&(t=re(t,r)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,z)}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,B)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function fe(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=fe(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(fe(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=u(r,2),o=n[0],i=n[1];e.path=o&&"/"!==o?o:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},he={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},pe={},ye="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",me="[0-9A-Fa-f]",ge=r(r("%[EFef]"+me+"%"+me+me+"%"+me+me)+"|"+r("%[89A-Fa-f]"+me+"%"+me+me)+"|"+r("%"+me+me)),ve="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),we="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",_e=new RegExp(ye,"g"),xe=new RegExp(ge,"g"),Se=new RegExp(t("[^]",ve,"[\\.]",'[\\"]',be),"g"),Ee=new RegExp(t("[^]",ye,we),"g"),ke=Ee;function Ae(e){var t=B(e);return t.match(_e)?t:e}var Te={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var o=!1,i={},s=r.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),f=0,d=u.length;f<d;++f)n.push(u[f]);break;case"subject":r.subject=le(c[1],t);break;case"body":r.body=le(c[1],t);break;default:o=!0,i[le(c[0],t)]=le(c[1],t)}}o&&(r.headers=i)}r.query=void 0;for(var h=0,p=n.length;h<p;++h){var y=n[h].split("@");if(y[0]=le(y[0]),t.unicodeSupport)y[1]=le(y[1],t).toLowerCase();else try{y[1]=U.toASCII(le(y[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[h]=y.join("@")}return r},serialize:function(e,t){var r=e,n=i(e.to);if(n){for(var s=0,a=n.length;s<a;++s){var l=String(n[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(xe,Ae).replace(xe,o).replace(Se,z),f=l.slice(c+1);try{f=t.iri?U.toUnicode(f):U.toASCII(le(f,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}n[s]=u+"@"+f}r.path=n.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==pe[p]&&h.push(p.replace(xe,Ae).replace(xe,o).replace(Ee,z)+"="+d[p].replace(xe,Ae).replace(xe,o).replace(ke,z));return h.length&&(r.query=h.join("&")),r}},Pe=/^([^\:]+)\:(.*)/,Oe={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(Pe),n=e;if(r){var o=t.scheme||n.scheme||"urn",i=r[1].toLowerCase(),s=r[2],a=o+":"+(t.nid||i),l=L[a];n.nid=i,n.nss=s,n.path=void 0,l&&(n=l.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,o=r+":"+(t.nid||n),i=L[o];i&&(e=i.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},Ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Re={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};L[ce.scheme]=ce,L[ue.scheme]=ue,L[de.scheme]=de,L[he.scheme]=he,L[Te.scheme]=Te,L[Oe.scheme]=Oe,L[Re.scheme]=Re,e.SCHEMES=L,e.pctEncChar=z,e.pctDecChars=B,e.parse=Q,e.removeDotSegments=te,e.serialize=re,e.resolveComponents=ne,e.resolve=oe,e.normalize=ie,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},40936:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(96540);function o(e,t,r){return e[t]?e[t][0]?e[t][0][r]:e[t][r]:"contentBoxSize"===t?e.contentRect["inlineSize"===r?"width":"height"]:void 0}function i(e){void 0===e&&(e={});var t=e.onResize,r=(0,n.useRef)(void 0);r.current=t;var i=e.round||Math.round,s=(0,n.useRef)(),a=(0,n.useState)({width:void 0,height:void 0}),l=a[0],c=a[1],u=(0,n.useRef)(!1);(0,n.useEffect)((function(){return u.current=!1,function(){u.current=!0}}),[]);var f=(0,n.useRef)({width:void 0,height:void 0}),d=function(e,t){var r=(0,n.useRef)(null),o=(0,n.useRef)(null);o.current=t;var i=(0,n.useRef)(null);(0,n.useEffect)((function(){s()}));var s=(0,n.useCallback)((function(){var t=i.current,n=o.current,s=t||(n?n instanceof Element?n:n.current:null);r.current&&r.current.element===s&&r.current.subscriber===e||(r.current&&r.current.cleanup&&r.current.cleanup(),r.current={element:s,subscriber:e,cleanup:s?e(s):void 0})}),[e]);return(0,n.useEffect)((function(){return function(){r.current&&r.current.cleanup&&(r.current.cleanup(),r.current=null)}}),[]),(0,n.useCallback)((function(e){i.current=e,s()}),[s])}((0,n.useCallback)((function(t){return s.current&&s.current.box===e.box&&s.current.round===i||(s.current={box:e.box,round:i,instance:new ResizeObserver((function(t){var n=t[0],s="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=o(n,s,"inlineSize"),l=o(n,s,"blockSize"),d=a?i(a):void 0,h=l?i(l):void 0;if(f.current.width!==d||f.current.height!==h){var p={width:d,height:h};f.current.width=d,f.current.height=h,r.current?r.current(p):u.current||c(p)}}))}),s.current.instance.observe(t,{box:e.box}),function(){s.current&&s.current.instance.unobserve(t)}}),[e.box,i]),e.ref);return(0,n.useMemo)((function(){return{ref:d,width:l.width,height:l.height}}),[d,l.width,l.height])}},9771:e=>{"use strict";var t=function(){};e.exports=t},38721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIdentifierChar=u,t.isIdentifierName=function(e){let t=!0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(55296==(64512&n)&&r+1<e.length){const t=e.charCodeAt(++r);56320==(64512&t)&&(n=65536+((1023&n)<<10)+(1023&t))}if(t){if(t=!1,!c(n))return!1}else if(!u(n))return!1}return!t},t.isIdentifierStart=c;let r="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",n="-----------------------------------------------------------------------------------------------------------------------------------------------------";const o=new RegExp("["+r+"]"),i=new RegExp("["+r+n+"]");r=n=null;const s=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],a=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function l(e,t){let r=65536;for(let n=0,o=t.length;n<o;n+=2){if(r+=t[n],r>e)return!1;if(r+=t[n+1],r>=e)return!0}return!1}function c(e){return e<65?36===e:e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&o.test(String.fromCharCode(e)):l(e,s)))}function u(e){return e<48?36===e:e<58||!(e<65)&&(e<=90||(e<97?95===e:e<=122||(e<=65535?e>=170&&i.test(String.fromCharCode(e)):l(e,s)||l(e,a))))}},61e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"wb",{enumerable:!0,get:function(){return o.isKeyword}}),Object.defineProperty(t,"wh",{enumerable:!0,get:function(){return o.isStrictReservedWord}});var n=r(38721),o=r(43115)},43115:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyword=function(e){return o.has(e)},t.isReservedWord=a,t.isStrictBindOnlyReservedWord=c,t.isStrictBindReservedWord=function(e,t){return l(e,t)||c(e)},t.isStrictReservedWord=l;const r=["implements","interface","let","package","private","protected","public","static","yield"],n=["eval","arguments"],o=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"]),i=new Set(r),s=new Set(n);function a(e,t){return t&&"await"===e||"enum"===e}function l(e,t){return a(e,t)||i.has(e)}function c(e){return s.has(e)}},53359:e=>{var t,r,n,o,i,s,a,l,c,u,f,d,h,p,y,m,g,v,b;h=/\/(?![*\/])(?:\[(?:[^\]\\\n\r\u2028\u2029]+|\\.)*\]|[^\/\\\n\r\u2028\u2029]+|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/uy,d=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,t=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]+|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/uy,y=/(['"])(?:[^'"\\\n\r]+|(?!\1)['"]|\\(?:\r\n|[^]))*(\1)?/y,f=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,m=/[`}](?:[^`\\$]+|\\[^]|\$(?!\{))*(`|\$\{)?/y,b=/[\t\v\f\ufeff\p{Zs}]+/uy,l=/\r?\n|[\r\u2028\u2029]/y,c=/\/\*(?:[^*]+|\*(?!\/))*(\*\/)?/y,p=/\/\/.*/y,n=/[<>.:={}]|\/(?![\/*])/y,r=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/uy,o=/(['"])(?:[^'"]+|(?!\1)['"])*(\1)?/y,i=/[^<>{}]+/y,v=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,g=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,a=/^(?:return|throw|yield)$/,u=RegExp(l.source),e.exports=function*(e,{jsx:w=!1}={}){var _,x,S,E,k,A,T,P,O,C,R,I,M,D;for(({length:A}=e),E=0,k="",D=[{tag:"JS"}],_=[],R=0,I=!1;E<A;){switch((P=D[D.length-1]).tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if("/"===e[E]&&(v.test(k)||s.test(k))&&(h.lastIndex=E,T=h.exec(e))){E=h.lastIndex,k=T[0],I=!0,yield{type:"RegularExpressionLiteral",value:T[0],closed:void 0!==T[1]&&"\\"!==T[1]};continue}if(d.lastIndex=E,T=d.exec(e)){switch(M=T[0],O=d.lastIndex,C=M,M){case"(":"?NonExpressionParenKeyword"===k&&D.push({tag:"JSNonExpressionParen",nesting:R}),R++,I=!1;break;case")":R--,I=!0,"JSNonExpressionParen"===P.tag&&R===P.nesting&&(D.pop(),C="?NonExpressionParenEnd",I=!1);break;case"{":d.lastIndex=0,S=!g.test(k)&&(v.test(k)||s.test(k)),_.push(S),I=!1;break;case"}":switch(P.tag){case"InterpolationInTemplate":if(_.length===P.nesting){m.lastIndex=E,T=m.exec(e),E=m.lastIndex,k=T[0],"${"===T[1]?(k="?InterpolationInTemplate",I=!1,yield{type:"TemplateMiddle",value:T[0]}):(D.pop(),I=!0,yield{type:"TemplateTail",value:T[0],closed:"`"===T[1]});continue}break;case"InterpolationInJSX":if(_.length===P.nesting){D.pop(),E+=1,k="}",yield{type:"JSXPunctuator",value:"}"};continue}}C=(I=_.pop())?"?ExpressionBraceEnd":"}";break;case"]":I=!0;break;case"++":case"--":C=I?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(w&&(v.test(k)||s.test(k))){D.push({tag:"JSXTag"}),E+=1,k="<",yield{type:"JSXPunctuator",value:M};continue}I=!1;break;default:I=!1}E=O,k=C,yield{type:"Punctuator",value:M};continue}if(t.lastIndex=E,T=t.exec(e)){switch(E=t.lastIndex,C=T[0],T[0]){case"for":case"if":case"while":case"with":"."!==k&&"?."!==k&&(C="?NonExpressionParenKeyword")}k=C,I=!s.test(T[0]),yield{type:"#"===T[1]?"PrivateIdentifier":"IdentifierName",value:T[0]};continue}if(y.lastIndex=E,T=y.exec(e)){E=y.lastIndex,k=T[0],I=!0,yield{type:"StringLiteral",value:T[0],closed:void 0!==T[2]};continue}if(f.lastIndex=E,T=f.exec(e)){E=f.lastIndex,k=T[0],I=!0,yield{type:"NumericLiteral",value:T[0]};continue}if(m.lastIndex=E,T=m.exec(e)){E=m.lastIndex,k=T[0],"${"===T[1]?(k="?InterpolationInTemplate",D.push({tag:"InterpolationInTemplate",nesting:_.length}),I=!1,yield{type:"TemplateHead",value:T[0]}):(I=!0,yield{type:"NoSubstitutionTemplate",value:T[0],closed:"`"===T[1]});continue}break;case"JSXTag":case"JSXTagEnd":if(n.lastIndex=E,T=n.exec(e)){switch(E=n.lastIndex,C=T[0],T[0]){case"<":D.push({tag:"JSXTag"});break;case">":D.pop(),"/"===k||"JSXTagEnd"===P.tag?(C="?JSX",I=!0):D.push({tag:"JSXChildren"});break;case"{":D.push({tag:"InterpolationInJSX",nesting:_.length}),C="?InterpolationInJSX",I=!1;break;case"/":"<"===k&&(D.pop(),"JSXChildren"===D[D.length-1].tag&&D.pop(),D.push({tag:"JSXTagEnd"}))}k=C,yield{type:"JSXPunctuator",value:T[0]};continue}if(r.lastIndex=E,T=r.exec(e)){E=r.lastIndex,k=T[0],yield{type:"JSXIdentifier",value:T[0]};continue}if(o.lastIndex=E,T=o.exec(e)){E=o.lastIndex,k=T[0],yield{type:"JSXString",value:T[0],closed:void 0!==T[2]};continue}break;case"JSXChildren":if(i.lastIndex=E,T=i.exec(e)){E=i.lastIndex,k=T[0],yield{type:"JSXText",value:T[0]};continue}switch(e[E]){case"<":D.push({tag:"JSXTag"}),E++,k="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":D.push({tag:"InterpolationInJSX",nesting:_.length}),E++,k="?InterpolationInJSX",I=!1,yield{type:"JSXPunctuator",value:"{"};continue}}b.lastIndex=E,(T=b.exec(e))?(E=b.lastIndex,yield{type:"WhiteSpace",value:T[0]}):(l.lastIndex=E,(T=l.exec(e))?(E=l.lastIndex,I=!1,a.test(k)&&(k="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:T[0]}):(c.lastIndex=E,(T=c.exec(e))?(E=c.lastIndex,u.test(T[0])&&(I=!1,a.test(k)&&(k="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:T[0],closed:void 0!==T[1]}):(p.lastIndex=E,(T=p.exec(e))?(E=p.lastIndex,I=!1,yield{type:"SingleLineComment",value:T[0]}):(E+=(x=String.fromCodePoint(e.codePointAt(E))).length,k=x,I=!1,yield{type:P.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:x}))))}}},38630:(e,t,r)=>{var n;!function(e){!function(){var t="object"==typeof globalThis?globalThis:"object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:function(){try{return Function("return this;")()}catch(e){}}()||function(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}(),n=o(e);function o(e,t){return function(r,n){Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0!==t.Reflect&&(n=o(t.Reflect,n)),function(e,t){var r=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,o=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,l=!s&&!a,c={create:s?function(){return fe(Object.create(null))}:a?function(){return fe({__proto__:null})}:function(){return fe({})},has:l?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:l?function(e,t){return r.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),f="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:le(),d="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:ce(),h="function"==typeof WeakMap?WeakMap:ue(),p=n?Symbol.for("@reflect-metadata:registry"):void 0,y=oe(),m=ie(y);function g(e,t,r,n){if(j(r)){if(!q(e))throw new TypeError;if(!X(t))throw new TypeError;return T(e,t)}if(!q(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(n)&&!j(n)&&!$(n))throw new TypeError;return $(n)&&(n=void 0),P(e,t,r=H(r),n)}function v(e,t){function r(r,n){if(!L(r))throw new TypeError;if(!j(n)&&!Q(n))throw new TypeError;M(e,t,r,n)}return r}function b(e,t,r,n){if(!L(r))throw new TypeError;return j(n)||(n=H(n)),M(e,t,r,n)}function w(e,t,r){if(!L(t))throw new TypeError;return j(r)||(r=H(r)),O(e,t,r)}function _(e,t,r){if(!L(t))throw new TypeError;return j(r)||(r=H(r)),C(e,t,r)}function x(e,t,r){if(!L(t))throw new TypeError;return j(r)||(r=H(r)),R(e,t,r)}function S(e,t,r){if(!L(t))throw new TypeError;return j(r)||(r=H(r)),I(e,t,r)}function E(e,t){if(!L(e))throw new TypeError;return j(t)||(t=H(t)),D(e,t)}function k(e,t){if(!L(e))throw new TypeError;return j(t)||(t=H(t)),N(e,t)}function A(e,t,r){if(!L(t))throw new TypeError;if(j(r)||(r=H(r)),!L(t))throw new TypeError;j(r)||(r=H(r));var n=ae(t,r,!1);return!j(n)&&n.OrdinaryDeleteMetadata(e,t,r)}function T(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!j(n)&&!$(n)){if(!X(n))throw new TypeError;t=n}}return t}function P(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,r,n);if(!j(i)&&!$(i)){if(!L(i))throw new TypeError;n=i}}return n}function O(e,t,r){if(C(e,t,r))return!0;var n=re(t);return!$(n)&&O(e,n,r)}function C(e,t,r){var n=ae(t,r,!1);return!j(n)&&V(n.OrdinaryHasOwnMetadata(e,t,r))}function R(e,t,r){if(C(e,t,r))return I(e,t,r);var n=re(t);return $(n)?void 0:R(e,n,r)}function I(e,t,r){var n=ae(t,r,!1);if(!j(n))return n.OrdinaryGetOwnMetadata(e,t,r)}function M(e,t,r,n){ae(r,n,!0).OrdinaryDefineOwnMetadata(e,t,r,n)}function D(e,t){var r=N(e,t),n=re(e);if(null===n)return r;var o=D(n,t);if(o.length<=0)return r;if(r.length<=0)return o;for(var i=new d,s=[],a=0,l=r;a<l.length;a++){var c=l[a];i.has(c)||(i.add(c),s.push(c))}for(var u=0,f=o;u<f.length;u++){c=f[u];i.has(c)||(i.add(c),s.push(c))}return s}function N(e,t){var r=ae(e,t,!1);return r?r.OrdinaryOwnMetadataKeys(e,t):[]}function F(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function j(e){return void 0===e}function $(e){return null===e}function U(e){return"symbol"==typeof e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function z(e,t){switch(F(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=J(e,o);if(void 0!==n){var i=n.call(e,r);if(L(i))throw new TypeError;return i}return B(e,"default"===r?"number":r)}function B(e,t){if("string"===t){var r=e.toString;if(W(r))if(!L(o=r.call(e)))return o;if(W(n=e.valueOf))if(!L(o=n.call(e)))return o}else{var n;if(W(n=e.valueOf))if(!L(o=n.call(e)))return o;var o,i=e.toString;if(W(i))if(!L(o=i.call(e)))return o}throw new TypeError}function V(e){return!!e}function G(e){return""+e}function H(e){var t=z(e,3);return U(t)?t:G(t)}function q(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"function"==typeof e}function X(e){return"function"==typeof e}function Q(e){switch(F(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){return e===t||e!=e&&t!=t}function J(e,t){var r=e[t];if(null!=r){if(!W(r))throw new TypeError;return r}}function Y(e){var t=J(e,i);if(!W(t))throw new TypeError;var r=t.call(e);if(!L(r))throw new TypeError;return r}function Z(e){return e.value}function ee(e){var t=e.next();return!t.done&&t}function te(e){var t=e.return;t&&t.call(e)}function re(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o||o===e?t:o}function ne(){var e,r,n,o;j(p)||void 0===t.Reflect||p in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=se(t.Reflect));var i=new h,s={registerProvider:a,getProvider:c,setProvider:y};return s;function a(t){if(!Object.isExtensible(s))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case j(r):r=t;break;case r===t:break;case j(n):n=t;break;case n===t:break;default:void 0===o&&(o=new d),o.add(t)}}function l(t,i){if(!j(r)){if(r.isProviderFor(t,i))return r;if(!j(n)){if(n.isProviderFor(t,i))return r;if(!j(o))for(var s=Y(o);;){var a=ee(s);if(!a)return;var l=Z(a);if(l.isProviderFor(t,i))return te(s),l}}}if(!j(e)&&e.isProviderFor(t,i))return e}function c(e,t){var r,n=i.get(e);return j(n)||(r=n.get(t)),j(r)?(j(r=l(e,t))||(j(n)&&(n=new f,i.set(e,n)),n.set(t,r)),r):r}function u(e){if(j(e))throw new TypeError;return r===e||n===e||!j(o)&&o.has(e)}function y(e,t,r){if(!u(r))throw new Error("Metadata provider not registered.");var n=c(e,t);if(n!==r){if(!j(n))return!1;var o=i.get(e);j(o)&&(o=new f,i.set(e,o)),o.set(t,r)}return!0}}function oe(){var e;return!j(p)&&L(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[p]),j(e)&&(e=ne()),!j(p)&&L(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,p,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function ie(e){var t=new h,r={isProviderFor:function(e,r){var n=t.get(e);return!j(n)&&n.has(r)},OrdinaryDefineOwnMetadata:s,OrdinaryHasOwnMetadata:o,OrdinaryGetOwnMetadata:i,OrdinaryOwnMetadataKeys:a,OrdinaryDeleteMetadata:l};return y.registerProvider(r),r;function n(n,o,i){var s=t.get(n),a=!1;if(j(s)){if(!i)return;s=new f,t.set(n,s),a=!0}var l=s.get(o);if(j(l)){if(!i)return;if(l=new f,s.set(o,l),!e.setProvider(n,o,r))throw s.delete(o),a&&t.delete(n),new Error("Wrong provider for target.")}return l}function o(e,t,r){var o=n(t,r,!1);return!j(o)&&V(o.has(e))}function i(e,t,r){var o=n(t,r,!1);if(!j(o))return o.get(e)}function s(e,t,r,o){n(r,o,!0).set(e,t)}function a(e,t){var r=[],o=n(e,t,!1);if(j(o))return r;for(var i=Y(o.keys()),s=0;;){var a=ee(i);if(!a)return r.length=s,r;var l=Z(a);try{r[s]=l}catch(e){try{te(i)}finally{throw e}}s++}}function l(e,r,o){var i=n(r,o,!1);if(j(i))return!1;if(!i.delete(e))return!1;if(0===i.size){var s=t.get(r);j(s)||(s.delete(o),0===s.size&&t.delete(s))}return!0}}function se(e){var t=e.defineMetadata,r=e.hasOwnMetadata,n=e.getOwnMetadata,o=e.getOwnMetadataKeys,i=e.deleteMetadata,s=new h;return{isProviderFor:function(e,t){var r=s.get(e);return!(j(r)||!r.has(t))||!!o(e,t).length&&(j(r)&&(r=new d,s.set(e,r)),r.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:r,OrdinaryGetOwnMetadata:n,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:i}}function ae(e,t,r){var n=y.getProvider(e,t);if(!j(n))return n;if(r){if(y.setProvider(e,t,m))return m;throw new Error("Illegal state.")}}function le(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,K(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){if(!K(this._cacheKey,e)){this._cacheIndex=-1;for(var r=0;r<this._keys.length;r++)if(K(this._keys[r],e)){this._cacheIndex=r;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}function ce(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ue(){var e=16,t=c.create(),n=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+l()}while(c.has(t,e));return t[e]=!0,e}function i(e,t){if(!r.call(e,n)){if(!t)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function s(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):s(t,e),t}return s(new Array(e),e)}function l(){var t=a(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var r="",n=0;n<e;++n){var o=t[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}function fe(e){return e.__=void 0,delete e.__,e}e("decorate",g),e("metadata",v),e("defineMetadata",b),e("hasMetadata",w),e("hasOwnMetadata",_),e("getMetadata",x),e("getOwnMetadata",S),e("getMetadataKeys",E),e("getOwnMetadataKeys",k),e("deleteMetadata",A)}(n,t),void 0===t.Reflect&&(t.Reflect=e)}()}(n||(n={}))},77666:(e,t,r)=>{"use strict";r.d(t,{k:()=>m});var n=r(94626),o=r(6839),i=r(65215),s=r(81212),a=r(84824),l=r(73401),c=r(92922),u=r(11744),f=r(35051),d=r(9080),h=r(98609),p=r(45410),y=r(15737),m=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=(0,o.LV)(i.ct,{max:s.v["cache.fragmentQueryDocuments"]||1e3,cache:u.l})}return e.prototype.lookupFragment=function(e){return null},e.prototype.batch=function(e){var t,r=this,n="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(r)}),n),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){var r=this;return void 0===t&&(t=!!e.optimistic),!1!==globalThis.__DEV__&&(0,y.cc)(e,"canonizeResults","cache.readQuery"),(0,y.lz)("canonizeResults",(function(){return r.read((0,n.Cl)((0,n.Cl)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))}))},e.prototype.watchFragment=function(e){var t=this,r=e.fragment,o=e.fragmentName,i=e.from,s=e.optimistic,u=void 0===s||s,f=(0,n.Tt)(e,["fragment","fragmentName","from","optimistic"]),y=this.getFragmentDoc(r,o),m=void 0===i||"string"==typeof i?i:this.identify(i),g=!!e[Symbol.for("apollo.dataMasking")];if(!1!==globalThis.__DEV__){var v=o||(0,a.E4)(r).name.value;m||!1!==globalThis.__DEV__&&h.V1.warn(1,v)}var b,w=(0,n.Cl)((0,n.Cl)({},f),{returnPartialData:!0,id:m,query:y,optimistic:u});return new l.c((function(i){return t.watch((0,n.Cl)((0,n.Cl)({},w),{immediate:!0,callback:function(s){var a=g?(0,p.z)(s.result,r,t,o):s.result;if(!b||!(0,d.a)(y,{data:b.result},{data:a},e.variables)){var l={data:a,complete:!!s.complete};s.missing&&(l.missing=(0,c.IM)(s.missing.map((function(e){return e.missing})))),b=(0,n.Cl)((0,n.Cl)({},s),{result:a}),i.next(l)}}}))}))},e.prototype.readFragment=function(e,t){var r=this;return void 0===t&&(t=!!e.optimistic),!1!==globalThis.__DEV__&&(0,y.cc)(e,"canonizeResults","cache.readFragment"),(0,y.lz)("canonizeResults",(function(){return r.read((0,n.Cl)((0,n.Cl)({},e),{query:r.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))}))},e.prototype.writeQuery=function(e){var t=e.id,r=e.data,o=(0,n.Tt)(e,["id","data"]);return this.write(Object.assign(o,{dataId:t||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(e){var t=e.id,r=e.data,o=e.fragment,i=e.fragmentName,s=(0,n.Tt)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(o,i),dataId:t,result:r}))},e.prototype.updateQuery=function(e,t){return!1!==globalThis.__DEV__&&(0,y.cc)(e,"canonizeResults","cache.updateQuery"),this.batch({update:function(r){var o=(0,y.lz)("canonizeResults",(function(){return r.readQuery(e)})),i=t(o);return null==i?o:(r.writeQuery((0,n.Cl)((0,n.Cl)({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return!1!==globalThis.__DEV__&&(0,y.cc)(e,"canonizeResults","cache.updateFragment"),this.batch({update:function(r){var o=(0,y.lz)("canonizeResults",(function(){return r.readFragment(e)})),i=t(o);return null==i?o:(r.writeFragment((0,n.Cl)((0,n.Cl)({},e),{data:i})),i)}})},e}();!1!==globalThis.__DEV__&&(m.prototype.getMemoryInternals=f.tQ)},23304:(e,t,r)=>{"use strict";r.d(t,{R:()=>ve});var n=r(94626),o=r(98609),i=r(91188),s=i.C.execute,a=r(10435),l=r(34132),c=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,(0,l.$)(t).request)||this;return r.options=t,r}return(0,n.C6)(t,e),t}(i.C),u=r(15381),f=r(56453),d=r(91250),h=r(3902),p=r(65215),y=r(96269),m=r(32453),g=r(2619),v=r(84824),b=r(11744),w=r(6839),_=r(81212);function x(e){return e}var S=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=g.En?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(x,{cache:!1})},e.split=function(t,r,n){return void 0===n&&(n=e.identity()),Object.assign(new e((function(e){return(t(e)?r:n).transformDocument(e)}),{cache:!1}),{left:r,right:n})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new m.b(g.et);this.performWork=(0,w.LV)(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var n=t.getCacheKey(e);if(n)return(0,o.V1)(Array.isArray(n),105),r.lookupArray(n)},max:_.v["documentTransform.cache"],cache:b.l})}},e.prototype.performWork=function(e){return(0,v.sw)(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var r=this;return Object.assign(new e((function(e){return t.transformDocument(r.transformDocument(e))}),{cache:!1}),{left:this,right:t})},e}(),E=r(73401);function k(e,t,r){return new E.c((function(n){var o={then:function(e){return new Promise((function(t){return t(e())}))}};function i(e,t){return function(r){if(e){var i=function(){return n.closed?0:e(r)};o=o.then(i,i).then((function(e){return n.next(e)}),(function(e){return n.error(e)}))}else n[t](r)}}var s={next:i(t,"next"),error:i(r,"error"),complete:function(){o.then((function(){return n.complete()}))}},a=e.subscribe(s);return function(){return a.unsubscribe()}}))}var A=r(45636);function T(e){var t=P(e);return(0,A.E)(t)}function P(e){var t=(0,A.E)(e.errors)?e.errors.slice(0):[];return(0,f.ST)(e)&&(0,A.E)(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}var O=r(67194),C=r(12456),R=r(98170);function I(e,t,r){var n=[];e.forEach((function(e){return e[t]&&n.push(e)})),n.forEach((function(e){return e[t](r)}))}function M(e){function t(t){Object.defineProperty(e,t,{value:E.c})}return g.ol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function D(e){return e&&"function"==typeof e.then}var N=function(e){function t(t){var r=e.call(this,(function(e){return r.addObserver(e),function(){return r.removeObserver(e)}}))||this;return r.observers=new Set,r.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),r.handlers={next:function(e){null!==r.sub&&(r.latest=["next",e],r.notify("next",e),I(r.observers,"next",e))},error:function(e){var t=r.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),r.sub=null,r.latest=["error",e],r.reject(e),r.notify("error",e),I(r.observers,"error",e))},complete:function(){var e=r,t=e.sub,n=e.sources;if(null!==t){var o=(void 0===n?[]:n).shift();o?D(o)?o.then((function(e){return r.sub=e.subscribe(r.handlers)}),r.handlers.error):r.sub=o.subscribe(r.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),I(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(e){r.reject(e),r.sources=[],r.handlers.error(e)},r.promise.catch((function(e){})),"function"==typeof t&&(t=[new E.c(t)]),D(t)?t.then((function(e){return r.start(e)}),r.handlers.error):r.start(t),r}return(0,n.C6)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],r=e[t];r&&r.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach((function(r){return r(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(r,n){t||(t=!0,e(r,n))}))},t}(E.c);M(N);var F,j=r(9211);function $(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(F||(F={}));var U=r(87945),L=Object.prototype.toString;function z(e){return B(e)}function B(e,t){switch(L.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach((function(e,n){r[n]=B(e,t)})),r;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach((function(r){n[r]=B(e[r],t)})),n;default:return e}}var V=r(9080),G=r(15737),H=Object.assign,q=Object.hasOwnProperty,W=function(e){function t(r){var o=r.queryManager,i=r.queryInfo,s=r.options,a=this,l=t.inactiveOnCreation.getValue();(a=e.call(this,(function(e){a._getOrCreateQuery();try{var t=e._subscription._observer;t&&!t.error&&(t.error=X)}catch(e){}var r=!a.observers.size;a.observers.add(e);var n=a.last;return n&&n.error?e.error&&e.error(n.error):n&&n.result&&e.next&&e.next(a.maskResult(n.result)),r&&a.reobserve().catch((function(){})),function(){a.observers.delete(e)&&!a.observers.size&&a.tearDownQuery()}}))||this).observers=new Set,a.subscriptions=new Set,a.dirty=!1,a._getOrCreateQuery=function(){return l&&(o.queries.set(a.queryId,i),l=!1),a.queryManager.getOrCreateQuery(a.queryId)},a.queryInfo=i,a.queryManager=o,a.waitForOwnResult=K(s.fetchPolicy),a.isTornDown=!1,a.subscribeToMore=a.subscribeToMore.bind(a),a.maskResult=a.maskResult.bind(a);var c=o.defaultOptions.watchQuery,u=(void 0===c?{}:c).fetchPolicy,f=void 0===u?"cache-first":u,d=s.fetchPolicy,h=void 0===d?f:d,p=s.initialFetchPolicy,y=void 0===p?"standby"===h?f:h:p;a.options=(0,n.Cl)((0,n.Cl)({},s),{initialFetchPolicy:y,fetchPolicy:h}),a.queryId=i.queryId||o.generateQueryId();var m=(0,v.Vu)(a.query);return a.queryName=m&&m.name&&m.name.value,a}return(0,n.C6)(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return!1!==globalThis.__DEV__&&(0,G.S2)("observableQuery.result",(function(){!1!==globalThis.__DEV__&&o.V1.warn(23)})),new Promise((function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:r},o=e.subscribe(n)}))},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(e){var t=this;void 0===e&&(e=!0);var r=(0,G.lz)("getLastResult",(function(){return t.getLastResult(!0)})),o=this.queryInfo.networkStatus||r&&r.networkStatus||F.ready,i=(0,n.Cl)((0,n.Cl)({},r),{loading:$(o),networkStatus:o}),s=this.options.fetchPolicy,a=void 0===s?"cache-first":s;if(K(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(i.data=l.result),(0,u.L)(i.data,{})&&(i.data=void 0),l.complete?(delete i.partial,!l.complete||i.networkStatus!==F.loading||"cache-first"!==a&&"cache-only"!==a||(i.networkStatus=F.ready,i.loading=!1)):i.partial=!0,i.networkStatus===F.ready&&(i.error||i.errors)&&(i.networkStatus=F.error),!1===globalThis.__DEV__||l.complete||this.options.partialRefetch||i.loading||i.data||i.error||Q(l.missing)}return e&&this.updateLastResult(i),i},t.prototype.getCurrentResult=function(e){return void 0===e&&(e=!0),this.maskResult(this.getCurrentFullResult(e))},t.prototype.isDifferentFromLastResult=function(e,t){if(!this.last)return!0;var r=this.queryManager.getDocumentInfo(this.query),n=this.queryManager.dataMasking,o=n?r.nonReactiveQuery:this.query;return(n||r.hasNonreactiveDirective?!(0,V.a)(o,this.last.result,e,this.variables):!(0,u.L)(this.last.result,e))||t&&!(0,u.L)(this.last.variables,t)},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||(0,u.L)(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return!1!==globalThis.__DEV__&&(0,G.S2)("getLastResult",(function(){!1!==globalThis.__DEV__&&o.V1.warn(24)})),this.getLast("result",e)},t.prototype.getLastError=function(e){return!1!==globalThis.__DEV__&&(0,G.S2)("getLastError",(function(){!1!==globalThis.__DEV__&&o.V1.warn(25)})),this.getLast("error",e)},t.prototype.resetLastResults=function(){!1!==globalThis.__DEV__&&(0,G.S2)("resetLastResults",(function(){!1!==globalThis.__DEV__&&o.V1.warn(26)})),delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&o.V1.warn(27),this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0},i=this.options.fetchPolicy;if(r.fetchPolicy="no-cache"===i?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&q.call(e,"variables")){var s=(0,v.AT)(this.query),a=s.variableDefinitions;a&&a.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&o.V1.warn(28,e,(null===(t=s.name)||void 0===t?void 0:t.value)||s)}return e&&!(0,u.L)(this.options.variables,e)&&(r.variables=this.options.variables=(0,n.Cl)((0,n.Cl)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,F.refetch)},t.prototype.fetchMore=function(e){var t=this,r=(0,n.Cl)((0,n.Cl)({},e.query?e:(0,n.Cl)((0,n.Cl)((0,n.Cl)((0,n.Cl)({},this.options),{query:this.options.query}),e),{variables:(0,n.Cl)((0,n.Cl)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var i=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=F.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var l=new Set,c=null==e?void 0:e.updateQuery,u="no-cache"!==this.options.fetchPolicy;return u||(0,o.V1)(c,29),this.queryManager.fetchQuery(i,r,F.fetchMore).then((function(o){if(t.queryManager.removeQuery(i),s.networkStatus===F.fetchMore&&(s.networkStatus=a),u)t.queryManager.cache.batch({update:function(n){var i=e.updateQuery;i?n.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return i(e,{fetchMoreResult:o.data,variables:r.variables})})):n.writeQuery({query:r.query,variables:r.variables,data:o.data})},onWatchUpdated:function(e){l.add(e.query)}});else{var f=t.getLast("result"),d=c(f.data,{fetchMoreResult:o.data,variables:r.variables});t.reportResult((0,n.Cl)((0,n.Cl)({},f),{networkStatus:a,loading:$(a),data:d}),t.variables)}return t.maskResult(o)})).finally((function(){u&&!l.has(t.query)&&t.reobserveCacheFirst()}))},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var o=e.updateQuery;o&&t.updateQuery((function(e,t){return o(e,(0,n.Cl)({subscriptionData:r},t))}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&o.V1.error(30,t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return!1!==globalThis.__DEV__&&((0,G.cc)(e,"canonizeResults","setOptions"),(0,G.S2)("setOptions",(function(){!1!==globalThis.__DEV__&&o.V1.warn(31)}))),this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=(0,U.o)(this.options,e||{});H(this.options,t)},t.prototype.setVariables=function(e){var t=this;return(0,u.L)(this.variables,e)?this.observers.size?(0,G.lz)("observableQuery.result",(function(){return t.result()})):Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},F.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,r=t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),n=r.result,o=r.complete,i=e(n,{variables:this.variables,complete:!!o,previousData:n});i&&(t.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,n=void 0===r?"cache-first":r,o=t.initialFetchPolicy,i=void 0===o?n:o;"standby"===n||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(n,{reason:e,options:t,observable:this,initialFetchPolicy:i}):t.fetchPolicy="variables-changed"===e?i:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,r){var n=this._getOrCreateQuery();return n.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(n,e,t,r)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(r&&this.hasObservers()){if(!t||t.interval!==r){(0,o.V1)(r,32),(t||(this.pollingInfo={})).interval=r;var n=function(){var t,r;e.pollingInfo&&($(e.queryInfo.networkStatus)||(null===(r=(t=e.options).skipPollAttempt)||void 0===r?void 0:r.call(t))?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},F.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){var r=this;void 0===t&&(t=this.variables);var o=(0,G.lz)("getLastError",(function(){return r.getLastError()}));return o&&this.last&&!(0,u.L)(t,this.last.variables)&&(o=void 0),this.last=(0,n.Cl)({result:this.queryManager.assumeImmutableResults?e:z(e),variables:t},o?{error:o}:null)},t.prototype.reobserveAsConcast=function(e,t){var r=this;this.isTornDown=!1;var o=t===F.refetch||t===F.fetchMore||t===F.poll,i=this.options.variables,s=this.options.fetchPolicy,a=(0,U.o)(this.options,e||{}),l=o?a:H(this.options,a),c=this.transformDocument(l.query);this.lastQuery=c,o||(this.updatePolling(),!e||!e.variables||(0,u.L)(e.variables,i)||"standby"===l.fetchPolicy||l.fetchPolicy!==s&&"function"!=typeof l.nextFetchPolicy||(this.applyNextFetchPolicy("variables-changed",l),void 0===t&&(t=F.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=K(l.fetchPolicy));var f=function(){r.concast===p&&(r.waitForOwnResult=!1)},d=l.variables&&(0,n.Cl)({},l.variables),h=this.fetch(l,t,c),p=h.concast,y=h.fromLink,m={next:function(e){(0,u.L)(r.variables,d)&&(f(),r.reportResult(e,d))},error:function(e){(0,u.L)(r.variables,d)&&((0,j.Mn)(e)||(e=new j.K4({networkError:e})),f(),r.reportError(e,d))}};return o||!y&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=p,this.observer=m),p.addObserver(m),p},t.prototype.reobserve=function(e,t){return(r=this.reobserveAsConcast(e,t).promise.then(this.maskResult)).catch((function(){})),r;var r},t.prototype.resubscribeAfterError=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.last;(0,G.lz)("resetLastResults",(function(){return e.resetLastResults()}));var o=this.subscribe.apply(this,t);return this.last=n,o},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this,n=(0,G.lz)("getLastError",(function(){return r.getLastError()})),o=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||o)&&I(this.observers,"next",this.maskResult(e))},t.prototype.reportError=function(e,t){var r=this,o=(0,n.Cl)((0,n.Cl)({},(0,G.lz)("getLastResult",(function(){return r.getLastResult()}))),{error:e,errors:e.graphQLErrors,networkStatus:F.error,loading:!1});this.updateLastResult(o,t),I(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t.prototype.maskResult=function(e){return e&&"data"in e?(0,n.Cl)((0,n.Cl)({},e),{data:this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):e},t.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},t.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},t.prototype.scheduleNotify=function(){var e=this;this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return e.notify()}),0)))},t.prototype.notify=function(){(this.cancelNotifyTimeout(),this.dirty)&&("cache-only"!=this.options.fetchPolicy&&"cache-and-network"!=this.options.fetchPolicy&&$(this.queryInfo.networkStatus)||(this.queryInfo.getDiff().fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()));this.dirty=!1},t.prototype.reobserveCacheFirst=function(){var e=this.options,t=e.fetchPolicy,r=e.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,n){return this.nextFetchPolicy=r,"function"==typeof this.nextFetchPolicy?this.nextFetchPolicy(e,n):t}}):this.reobserve()},t.inactiveOnCreation=new w.DX,t}(E.c);function X(e){!1!==globalThis.__DEV__&&o.V1.error(33,e.message,e.stack)}function Q(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&o.V1.debug(34,e)}function K(e){return"network-only"===e||"no-cache"===e||"standby"===e}M(W);var J=r(92922),Y=new(g.et?WeakMap:Map);function Z(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return Y.set(e,(Y.get(e)+1)%1e15),r.apply(this,arguments)})}var ee=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var r=this.cache=e.cache;Y.has(r)||(Y.set(r,0),Z(r,"evict"),Z(r,"modify"),Z(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||F.loading;return this.variables&&this.networkStatus!==F.loading&&!(0,u.L)(this.variables,e.variables)&&(t=F.setVariables),(0,u.L)(e.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this,t=this.getDiffOptions();if(this.lastDiff&&(0,u.L)(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var r=this.observableQuery;if(r&&"no-cache"===r.options.fetchPolicy)return{complete:!1};var n=(0,G.lz)("canonizeResults",(function(){return e.cache.diff(t)}));return this.updateLastDiff(n,t),n},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,r=this,n=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(0,G.lz)("getLastError",(function(){var e;return null===(e=r.observableQuery)||void 0===e?void 0:e.getLastError()}))||(this.updateLastDiff(e),(0,u.L)(n&&n.result,e&&e.result)||null===(t=this.observableQuery)||void 0===t||t.scheduleNotify())},e.prototype.setObservableQuery=function(e){e!==this.observableQuery&&(this.observableQuery=e,e&&(e.queryInfo=this))},e.prototype.stop=function(){var e;if(!this.stopped){this.stopped=!0,null===(e=this.observableQuery)||void 0===e||e.resetNotifications(),this.cancel();var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){var e;null===(e=this.cancelWatch)||void 0===e||e.call(this),this.cancelWatch=void 0},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var o=(0,n.Cl)((0,n.Cl)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&(0,u.L)(o,this.lastWatch)||(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=o))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===Y.get(this.cache)&&(0,u.L)(t,r.variables)&&(0,u.L)(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,n){var o,i=this,s=new J.ZI,a=(0,A.E)(e.errors)?e.errors.slice(0):[];if(null===(o=this.observableQuery)||void 0===o||o.resetNotifications(),"incremental"in e&&(0,A.E)(e.incremental)){var l=(0,f.bd)(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=s.merge(c.result,e.data)}this.graphQLErrors=a,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==n&&(te(e,r.errorPolicy)?this.cache.performTransaction((function(o){if(i.shouldWrite(e,r.variables))o.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===n}),i.lastWrite={result:e,variables:r.variables,dmCount:Y.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var s=i.getDiffOptions(r.variables),a=(0,G.lz)("canonizeResults",(function(){return o.diff(s)}));!i.stopped&&(0,u.L)(i.variables,r.variables)&&i.updateWatch(r.variables),i.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=F.ready},e.prototype.markError=function(e){var t;return this.networkStatus=F.error,this.lastWrite=void 0,null===(t=this.observableQuery)||void 0===t||t.resetNotifications(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function te(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,n=!T(e);return!n&&r&&e.data&&(n=!0),n}var re=r(47397),ne=r(599),oe=r(7588),ie=r(60857);var se=r(45410),ae=Object.prototype.hasOwnProperty,le=Object.create(null),ce=function(){function e(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new ne.A(_.v["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new m.b(!1),this.noCacheWarningsByQueryId=new Set;var r=new S((function(e){return t.cache.transformDocument(e)}),{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var n=e.documentTransform;this.documentTransform=n?r.concat(n).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,r){e.stopQueryNoBroadcast(r)})),this.cancelPendingFetches((0,o.vA)(35))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return(0,n.sH)(this,arguments,void 0,(function(e){var t,r,i,s,a,l,c,u=e.mutation,f=e.variables,d=e.optimisticResponse,h=e.updateQueries,p=e.refetchQueries,y=void 0===p?[]:p,m=e.awaitRefetchQueries,g=void 0!==m&&m,v=e.update,b=e.onQueryUpdated,w=e.fetchPolicy,_=void 0===w?(null===(l=this.defaultOptions.mutate)||void 0===l?void 0:l.fetchPolicy)||"network-only":w,x=e.errorPolicy,S=void 0===x?(null===(c=this.defaultOptions.mutate)||void 0===c?void 0:c.errorPolicy)||"none":x,E=e.keepRootFields,A=e.context;return(0,n.YH)(this,(function(e){switch(e.label){case 0:return(0,o.V1)(u,36),(0,o.V1)("network-only"===_||"no-cache"===_,37),t=this.generateMutationId(),u=this.cache.transformForLink(this.transform(u)),r=this.getDocumentInfo(u).hasClientExports,f=this.getVariables(u,f),r?[4,this.localState.addExportedVariables(u,f,A)]:[3,2];case 1:f=e.sent(),e.label=2;case 2:return i=this.mutationStore&&(this.mutationStore[t]={mutation:u,variables:f,loading:!0,error:null}),s=d&&this.markMutationOptimistic(d,{mutationId:t,document:u,variables:f,fetchPolicy:_,errorPolicy:S,context:A,updateQueries:h,update:v,keepRootFields:E}),this.broadcastQueries(),a=this,[2,new Promise((function(e,r){return k(a.getObservableFromLink(u,(0,n.Cl)((0,n.Cl)({},A),{optimisticResponse:s?d:void 0}),f,{},!1),(function(e){if(T(e)&&"none"===S)throw new j.K4({graphQLErrors:P(e)});i&&(i.loading=!1,i.error=null);var r=(0,n.Cl)({},e);return"function"==typeof y&&(y=y(r)),"ignore"===S&&T(r)&&delete r.errors,a.markMutationResult({mutationId:t,result:r,document:u,variables:f,fetchPolicy:_,errorPolicy:S,context:A,update:v,updateQueries:h,awaitRefetchQueries:g,refetchQueries:y,removeOptimistic:s?t:void 0,onQueryUpdated:b,keepRootFields:E})})).subscribe({next:function(r){a.broadcastQueries(),"hasNext"in r&&!1!==r.hasNext||e((0,n.Cl)((0,n.Cl)({},r),{data:a.maskOperation({document:u,data:r.data,fetchPolicy:_,id:t})}))},error:function(e){i&&(i.loading=!1,i.error=e),s&&a.cache.removeOptimistic(t),a.broadcastQueries(),r(e instanceof j.K4?e:new j.K4({networkError:e}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var o=e.result,i=[],s="no-cache"===e.fetchPolicy;if(!s&&te(o,e.errorPolicy)){if((0,f.ST)(o)||i.push({result:o.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),(0,f.ST)(o)&&(0,A.E)(o.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;a.result&&(l=(0,f.bd)(a.result,o)),void 0!==l&&(o.data=l,i.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach((function(e,n){var s=e.observableQuery,a=s&&s.queryName;if(a&&ae.call(c,a)){var l=c[a],u=r.queries.get(n),f=u.document,d=u.variables,h=t.diff({query:f,variables:d,returnPartialData:!0,optimistic:!1}),p=h.result;if(h.complete&&p){var y=l(p,{mutationResult:o,queryName:f&&(0,v.n4)(f)||void 0,queryVariables:d});y&&i.push({result:y,dataId:"ROOT_QUERY",query:f,variables:d})}}}))}if(i.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(t){s||i.forEach((function(e){return t.write(e)}));var a=e.update,l=!(0,f.YX)(o)||(0,f.ST)(o)&&!o.hasNext;if(a){if(!s){var c=t.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(o=(0,n.Cl)((0,n.Cl)({},o),{data:c.result}))&&delete o.incremental,"hasNext"in o&&delete o.hasNext)}l&&a(t,o,{context:e.context,variables:e.variables})}s||e.keepRootFields||!l||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,n=t.DELETE;return"__typename"===r?e:n}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return u.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then((function(){return o}))}return Promise.resolve(o)},e.prototype.markMutationOptimistic=function(e,t){var r=this,i="function"==typeof e?e(t.variables,{IGNORE:le}):e;return i!==le&&(this.cache.recordOptimisticTransaction((function(e){try{r.markMutationResult((0,n.Cl)((0,n.Cl)({},t),{result:{data:i}}),e)}catch(e){!1!==globalThis.__DEV__&&o.V1.error(e)}}),t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(this.getOrCreateQuery(e),t,r).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:(0,d.f2)(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:(0,d.d8)(["nonreactive"],e),nonReactiveQuery:(0,h.x3)(e),clientQuery:this.localState.clientQuery(e),serverQuery:(0,h.iz)([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:(0,v.wY)((0,v.Vu)(e)),asQuery:(0,n.Cl)((0,n.Cl)({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,n.Cl)((0,n.Cl)({},e),{operation:"query"}):e}))})};t.set(e,r)}return t.get(e)},e.prototype.getVariables=function(e,t){return(0,n.Cl)((0,n.Cl)({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=(0,n.Cl)((0,n.Cl)({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=new ee(this),o=new W({queryManager:this,queryInfo:r,options:e});return o.lastQuery=t,W.inactiveOnCreation.getValue()||this.queries.set(o.queryId,r),r.init({document:t,observableQuery:o,variables:o.variables}),o},e.prototype.query=function(e,t){var r=this;void 0===t&&(t=this.generateQueryId()),(0,o.V1)(e.query,38),(0,o.V1)("Document"===e.query.kind,39),(0,o.V1)(!e.returnPartialData,40),(0,o.V1)(!e.pollInterval,41);var i=this.transform(e.query);return this.fetchQuery(t,(0,n.Cl)((0,n.Cl)({},e),{query:i})).then((function(o){return o&&(0,n.Cl)((0,n.Cl)({},o),{data:r.maskOperation({document:i,data:o.data,fetchPolicy:e.fetchPolicy,id:t})})})).finally((function(){return r.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches((0,o.vA)(42)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=F.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,i=new Map,s=new Map,a=new Set;return Array.isArray(e)&&e.forEach((function(e){if("string"==typeof e)i.set(e,e),s.set(e,!1);else if((0,O.Kc)(e)){var r=(0,re.y)(t.transform(e));i.set(r,(0,v.n4)(e)),s.set(r,!1)}else(0,C.U)(e)&&e.query&&a.add(e)})),this.queries.forEach((function(t,n){var o=t.observableQuery,i=t.document;if(o){if("all"===e)return void r.set(n,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&s.has(a)||i&&s.has((0,re.y)(i)))&&(r.set(n,o),a&&s.set(a,!0),i&&s.set((0,re.y)(i),!0))}})),a.size&&a.forEach((function(e){var i=(0,R.v)("legacyOneTimeQuery"),s=t.getOrCreateQuery(i).init({document:e.query,variables:e.variables}),a=new W({queryManager:t,queryInfo:s,options:(0,n.Cl)((0,n.Cl)({},e),{fetchPolicy:"network-only"})});(0,o.V1)(a.queryId===i),s.setObservableQuery(a),r.set(i,a)})),!1!==globalThis.__DEV__&&s.size&&s.forEach((function(e,t){if(!e){var r=i.get(t);r?!1!==globalThis.__DEV__&&o.V1.warn(43,r):!1!==globalThis.__DEV__&&o.V1.warn(44)}})),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach((function(n,o){var i=n.options.fetchPolicy;(0,G.lz)("resetLastResults",(function(){return n.resetLastResults()})),(e||"standby"!==i&&"cache-only"!==i)&&r.push(n.refetch()),(t.queries.get(o)||n.queryInfo).setDiff(null)})),this.broadcastQueries(),Promise.all(r)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.variables,o=e.fetchPolicy,i=e.errorPolicy,s=void 0===i?"none":i,a=e.context,l=void 0===a?{}:a,c=e.extensions,u=void 0===c?{}:c;r=this.transform(r),n=this.getVariables(r,n);var f=function(e){return t.getObservableFromLink(r,l,e,u).map((function(n){"no-cache"!==o&&(te(n,s)&&t.cache.write({query:r,result:n.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var i=T(n),a=(0,j.uR)(n);if(i||a){var l={};if(i&&(l.graphQLErrors=n.errors),a&&(l.protocolErrors=n.extensions[j.K$]),"none"===s||a)throw new j.K4(l)}return"ignore"===s&&delete n.errors,n}))};if(this.getDocumentInfo(r).hasClientExports){var d=this.localState.addExportedVariables(r,n,l).then(f);return new E.c((function(e){var t=null;return d.then((function(r){return t=r.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return f(n)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){var t;this.fetchCancelFns.delete(e),this.queries.has(e)&&(null===(t=this.queries.get(e))||void 0===t||t.stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){var t;return null===(t=e.observableQuery)||void 0===t?void 0:t.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,o,i){var a,l,c=this;void 0===i&&(i=null!==(a=null==t?void 0:t.queryDeduplication)&&void 0!==a?a:this.queryDeduplication);var u=this.getDocumentInfo(e),f=u.serverQuery,d=u.clientQuery;if(f){var h=this.inFlightLinkObservables,p=this.link,m={query:f,variables:r,operationName:(0,v.n4)(f)||void 0,context:this.prepareContext((0,n.Cl)((0,n.Cl)({},t),{forceFetch:!i})),extensions:o};if(t=m.context,i){var g=(0,re.y)(f),b=(0,y.M)(r),w=h.lookup(g,b);if(!(l=w.observable)){var _=new N([s(p,m)]);l=w.observable=_,_.beforeNext((function e(t,r){"next"===t&&"hasNext"in r&&r.hasNext?_.beforeNext(e):h.remove(g,b)}))}}else l=new N([s(p,m)])}else l=new N([E.c.of({data:{}})]),t=this.prepareContext(t);return d&&(l=k(l,(function(e){return c.localState.runResolvers({document:d,remoteResult:e,context:t,variables:r})}))),l},e.prototype.getResultsFromLink=function(e,t,r){var n=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(r.query);return k(this.getObservableFromLink(o,r.context,r.variables),(function(i){var s=P(i),a=s.length>0,l=r.errorPolicy;if(n>=e.lastRequestId){if(a&&"none"===l)throw e.markError(new j.K4({graphQLErrors:s}));e.markResult(i,o,r,t),e.markReady()}var c={data:i.data,loading:!1,networkStatus:F.ready};return a&&"none"===l&&(c.data=void 0),a&&"ignore"!==l&&(c.errors=s,c.networkStatus=F.error),c}),(function(t){var r=(0,j.Mn)(t)?t:new j.K4({networkError:t});throw n>=e.lastRequestId&&e.markError(r),r}))},e.prototype.fetchConcastWithInfo=function(e,t,r,n){var o=this;void 0===r&&(r=F.loading),void 0===n&&(n=t.query);var i,s,a=this.getVariables(n,t.variables),l=this.defaultOptions.watchQuery,c=t.fetchPolicy,u=void 0===c?l&&l.fetchPolicy||"cache-first":c,f=t.errorPolicy,d=void 0===f?l&&l.errorPolicy||"none":f,h=t.returnPartialData,p=void 0!==h&&h,y=t.notifyOnNetworkStatusChange,m=void 0!==y&&y,g=t.context,v=void 0===g?{}:g,b=Object.assign({},t,{query:n,variables:a,fetchPolicy:u,errorPolicy:d,returnPartialData:p,notifyOnNetworkStatusChange:m,context:v}),w=function(n){b.variables=n;var i=o.fetchQueryByPolicy(e,b,r);return"standby"!==b.fetchPolicy&&i.sources.length>0&&e.observableQuery&&e.observableQuery.applyNextFetchPolicy("after-fetch",t),i},_=function(){return o.fetchCancelFns.delete(e.queryId)};if(this.fetchCancelFns.set(e.queryId,(function(e){_(),setTimeout((function(){return i.cancel(e)}))})),this.getDocumentInfo(b.query).hasClientExports)i=new N(this.localState.addExportedVariables(b.query,b.variables,b.context).then(w).then((function(e){return e.sources}))),s=!0;else{var x=w(b.variables);s=x.fromLink,i=new N(x.sources)}return i.promise.then(_,_),{concast:i,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,n=e.include,o=e.optimistic,i=void 0!==o&&o,s=e.removeOptimistic,a=void 0===s?i?(0,R.v)("refetchQueries"):void 0:s,l=e.onQueryUpdated,c=new Map;n&&this.getObservableQueries(n).forEach((function(e,r){c.set(r,{oq:e,lastDiff:(t.queries.get(r)||e.queryInfo).getDiff()})}));var u=new Map;return r&&this.cache.batch({update:r,optimistic:i&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,r){var n=e.watcher instanceof ee&&e.watcher.observableQuery;if(n){if(l){c.delete(n.queryId);var o=l(n,t,r);return!0===o&&(o=n.refetch()),!1!==o&&u.set(n,o),o}null!==l&&c.set(n.queryId,{oq:n,lastDiff:r,diff:t})}}}),c.size&&c.forEach((function(e,r){var n,o=e.oq,i=e.lastDiff,s=e.diff;l&&(s||(s=(0,G.lz)("canonizeResults",(function(){return t.cache.diff(o.queryInfo.getDiffOptions())}))),n=l(o,s,i)),l&&!0!==n||(n=o.refetch()),!1!==n&&u.set(o,n),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)})),a&&this.cache.removeOptimistic(a),u},e.prototype.maskOperation=function(e){var t,r,n,i=e.document,s=e.data;if(!1!==globalThis.__DEV__){var a=e.fetchPolicy,l=e.id,c=null===(t=(0,v.Vu)(i))||void 0===t?void 0:t.operation,u=(null!==(r=null==c?void 0:c[0])&&void 0!==r?r:"o")+l;!this.dataMasking||"no-cache"!==a||(0,p.s6)(i)||this.noCacheWarningsByQueryId.has(u)||(this.noCacheWarningsByQueryId.add(u),!1!==globalThis.__DEV__&&o.V1.warn(45,null!==(n=(0,v.n4)(i))&&void 0!==n?n:"Unnamed ".concat(null!=c?c:"operation")))}return this.dataMasking?function(e,t,r){var n;if(!r.fragmentMatches)return!1!==globalThis.__DEV__&&(0,ie.Ki)(),e;var i=(0,v.Vu)(t);return(0,o.V1)(i,63),null==e?e:(0,oe.S)(e,i.selectionSet,{operationType:i.operation,operationName:null===(n=i.name)||void 0===n?void 0:n.value,fragmentMap:(0,p.JG)((0,v.zK)(t)),cache:r,mutableTargets:new ie.jq,knownChanged:new ie.xm})}(s,i,this.cache):s},e.prototype.maskFragment=function(e){var t=e.data,r=e.fragment,n=e.fragmentName;return this.dataMasking?(0,se.z)(t,r,this.cache,n):t},e.prototype.fetchQueryByPolicy=function(e,t,r){var o=this,i=t.query,s=t.variables,a=t.fetchPolicy,l=t.refetchWritePolicy,c=t.errorPolicy,f=t.returnPartialData,d=t.context,h=t.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:i,variables:s,networkStatus:r});var y=function(){return e.getDiff()},m=function(t,r){void 0===r&&(r=e.networkStatus||F.loading);var a=t.result;!1===globalThis.__DEV__||f||(0,u.L)(a,{})||Q(t.missing);var l=function(e){return E.c.of((0,n.Cl)({data:e,loading:$(r),networkStatus:r},t.complete?null:{partial:!0}))};return a&&o.getDocumentInfo(i).hasForcedResolvers?o.localState.runResolvers({document:i,remoteResult:{data:a},context:d,variables:s,onlyRunForcedResolvers:!0}).then((function(e){return l(e.data||void 0)})):"none"===c&&r===F.refetch&&Array.isArray(t.missing)?l(void 0):l(a)},g="no-cache"===a?0:r===F.refetch&&"merge"!==l?1:2,v=function(){return o.getResultsFromLink(e,g,{query:i,variables:s,context:d,fetchPolicy:a,errorPolicy:c})},b=h&&"number"==typeof p&&p!==r&&$(r);switch(a){default:case"cache-first":return(w=y()).complete?{fromLink:!1,sources:[m(w,e.markReady())]}:f||b?{fromLink:!0,sources:[m(w),v()]}:{fromLink:!0,sources:[v()]};case"cache-and-network":var w;return(w=y()).complete||f||b?{fromLink:!0,sources:[m(w),v()]}:{fromLink:!0,sources:[v()]};case"cache-only":return{fromLink:!1,sources:[m(y(),e.markReady())]};case"network-only":return b?{fromLink:!0,sources:[m(y()),v()]}:{fromLink:!0,sources:[v()]};case"no-cache":return b?{fromLink:!0,sources:[m(e.getDiff()),v()]}:{fromLink:!0,sources:[v()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getOrCreateQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new ee(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,n.Cl)((0,n.Cl)((0,n.Cl)({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}(),ue=r(84705),fe=r(43298);function de(e){return e.kind===fe.b.FIELD||e.kind===fe.b.FRAGMENT_SPREAD||e.kind===fe.b.INLINE_FRAGMENT}var he=new w.DX;new WeakMap;var pe=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=(0,J.D9)(t.resolvers,e)})):this.resolvers=(0,J.D9)(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return(0,n.sH)(this,arguments,void 0,(function(e){var t=e.document,r=e.remoteResult,o=e.context,i=e.variables,s=e.onlyRunForcedResolvers,a=void 0!==s&&s;return(0,n.YH)(this,(function(e){return t?[2,this.resolveDocument(t,r.data,o,i,this.fragmentMatcher,a).then((function(e){return(0,n.Cl)((0,n.Cl)({},r),{data:e.result})}))]:[2,r]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return(0,d.d8)(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return(0,h.er)(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,n.Cl)((0,n.Cl)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return(0,n.sH)(this,arguments,void 0,(function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),(0,n.YH)(this,(function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then((function(e){return(0,n.Cl)((0,n.Cl)({},t),e.exportedVariables)}))]:[2,(0,n.Cl)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return(0,ue.YR)(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return ue.sP}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:(0,h.zc)(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return(0,n.sH)(this,arguments,void 0,(function(e,t,r,o,i,s){var a,l,c,u,f,d,h,y,m,g;return void 0===r&&(r={}),void 0===o&&(o={}),void 0===i&&(i=function(){return!0}),void 0===s&&(s=!1),(0,n.YH)(this,(function(b){return a=(0,v.Vn)(e),l=(0,v.zK)(e),c=(0,p.JG)(l),u=this.collectSelectionsToResolve(a,c),f=a.operation,d=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",y=(h=this).cache,m=h.client,g={fragmentMap:c,context:(0,n.Cl)((0,n.Cl)({},r),{cache:y,client:m}),variables:o,fragmentMatcher:i,defaultOperationType:d,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:s},[2,this.resolveSelectionSet(a.selectionSet,false,t,g).then((function(e){return{result:e,exportedVariables:g.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,r,i){return(0,n.sH)(this,void 0,void 0,(function(){var s,a,l,c,u,f=this;return(0,n.YH)(this,(function(h){return s=i.fragmentMap,a=i.context,l=i.variables,c=[r],u=function(e){return(0,n.sH)(f,void 0,void 0,(function(){var u,f;return(0,n.YH)(this,(function(n){return(t||i.selectionsToResolve.has(e))&&(0,d.MS)(e,l)?(0,O.dt)(e)?[2,this.resolveField(e,t,r,i).then((function(t){var r;void 0!==t&&c.push(((r={})[(0,O.ue)(e)]=t,r))}))]:((0,O.kd)(e)?u=e:(u=s[e.name.value],(0,o.V1)(u,21,e.name.value)),u&&u.typeCondition&&(f=u.typeCondition.name.value,i.fragmentMatcher(r,f,a))?[2,this.resolveSelectionSet(u.selectionSet,t,r,i).then((function(e){c.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return(0,J.IM)(c)}))]}))}))},e.prototype.resolveField=function(e,t,r,o){return(0,n.sH)(this,void 0,void 0,(function(){var i,s,a,l,c,u,f,d,h,p=this;return(0,n.YH)(this,(function(n){return r?(i=o.variables,s=e.name.value,a=(0,O.ue)(e),l=s!==a,c=r[a]||r[s],u=Promise.resolve(c),o.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(f=r.__typename||o.defaultOperationType,(d=this.resolvers&&this.resolvers[f])&&(h=d[l?s:a])&&(u=Promise.resolve(he.withValue(this.cache,h,[r,(0,O.MB)(e,i),o.context,{field:e,fragmentMap:o.fragmentMap}])))),[2,u.then((function(r){var n,i;if(void 0===r&&(r=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(o.exportedVariables[e.value.value]=r)}))})),!e.selectionSet)return r;if(null==r)return r;var s=null!==(i=null===(n=e.directives)||void 0===n?void 0:n.some((function(e){return"client"===e.name.value})))&&void 0!==i&&i;return Array.isArray(r)?p.resolveSubSelectedArray(e,t||s,r,o):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t||s,r,o):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,r,n){var o=this;return Promise.all(r.map((function(r){return null===r?null:Array.isArray(r)?o.resolveSubSelectedArray(e,t,r,n):e.selectionSet?o.resolveSelectionSet(e.selectionSet,t,r,n):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var r=function(e){return!Array.isArray(e)},n=this.selectionsToResolveCache;return function e(i){if(!n.has(i)){var s=new Set;n.set(i,s),(0,ue.YR)(i,{Directive:function(e,t,n,o,i){"client"===e.name.value&&i.forEach((function(e){r(e)&&de(e)&&s.add(e)}))},FragmentSpread:function(n,i,a,l,c){var u=t[n.name.value];(0,o.V1)(u,22,n.name.value);var f=e(u);f.size>0&&(c.forEach((function(e){r(e)&&de(e)&&s.add(e)})),s.add(n),f.forEach((function(e){s.add(e)})))}})}return n.get(i)}(e)},e}();function ye(e,t){return(0,U.o)(e,t,t.variables&&{variables:(0,U.o)((0,n.Cl)((0,n.Cl)({},e&&e.variables),t.variables))})}var me=r(35051),ge=!1,ve=function(){function e(e){var t,r,s,l=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw(0,o.vA)(16);var u=e.uri,f=e.credentials,d=e.headers,h=e.cache,p=e.documentTransform,y=e.ssrMode,m=void 0!==y&&y,g=e.ssrForceFetchDelay,v=void 0===g?0:g,b=e.connectToDevTools,w=e.queryDeduplication,_=void 0===w||w,x=e.defaultOptions,S=e.defaultContext,E=e.assumeImmutableResults,k=void 0===E?h.assumeImmutableResults:E,A=e.resolvers,T=e.typeDefs,P=e.fragmentMatcher,O=e.clientAwareness,C=e.name,R=e.version,I=e.devtools,M=e.dataMasking;!1!==globalThis.__DEV__&&((0,G.cc)(e,"connectToDevTools","ApolloClient","Please use `devtools.enabled` instead."),(0,G.cc)(e,"uri","ApolloClient","Please initialize an instance of `HttpLink` with `uri` instead."),(0,G.cc)(e,"credentials","ApolloClient","Please initialize an instance of `HttpLink` with `credentials` instead."),(0,G.cc)(e,"headers","ApolloClient","Please initialize an instance of `HttpLink` with `headers` instead."),(0,G.cc)(e,"name","ApolloClient","Please use the `clientAwareness.name` option instead."),(0,G.cc)(e,"version","ApolloClient","Please use the `clientAwareness.version` option instead."),(0,G.cc)(e,"typeDefs","ApolloClient"),e.link||!1!==globalThis.__DEV__&&o.V1.warn(17));var D=e.link;D||(D=u?new c({uri:u,credentials:f,headers:d}):i.C.empty()),this.link=D,this.cache=h,this.disableNetworkFetches=m||v>0,this.queryDeduplication=_,this.defaultOptions=x||Object.create(null),this.typeDefs=T,this.devtoolsConfig=(0,n.Cl)((0,n.Cl)({},I),{enabled:null!==(t=null==I?void 0:I.enabled)&&void 0!==t?t:b}),void 0===this.devtoolsConfig.enabled&&(this.devtoolsConfig.enabled=!1!==globalThis.__DEV__),v&&setTimeout((function(){return l.disableNetworkFetches=!1}),v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=a.r,this.localState=new pe({cache:h,client:this,resolvers:A,fragmentMatcher:P}),this.queryManager=new ce({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:S,documentTransform:p,queryDeduplication:_,ssrMode:m,dataMasking:!!M,clientAwareness:{name:null!==(r=null==O?void 0:O.name)&&void 0!==r?r:C,version:null!==(s=null==O?void 0:O.version)&&void 0!==s?s:R},localState:this.localState,assumeImmutableResults:k,onBroadcast:this.devtoolsConfig.enabled?function(){l.devToolsHookCb&&l.devToolsHookCb({action:{},state:{queries:l.queryManager.getQueryStore(),mutations:l.queryManager.mutationStore||{}},dataWithOptimisticResults:l.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return Object.defineProperty(e.prototype,"prioritizeCacheValues",{get:function(){return this.disableNetworkFetches},set:function(e){this.disableNetworkFetches=e},enumerable:!1,configurable:!0}),e.prototype.connectToDevTools=function(){if("undefined"!=typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this,ge||!1===globalThis.__DEV__||(ge=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout((function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,r=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?r="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(r="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),r&&!1!==globalThis.__DEV__&&o.V1.log("Download the Apollo DevTools for a better development experience: %s",r)}}),1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=ye(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,n.Cl)((0,n.Cl)({},e),{fetchPolicy:"cache-first"})),!1!==globalThis.__DEV__&&((0,G.cc)(e,"canonizeResults","client.watchQuery"),(0,G.cc)(e,"partialRefetch","client.watchQuery")),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=ye(this.defaultOptions.query,e)),(0,o.V1)("cache-and-network"!==e.fetchPolicy,18),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,n.Cl)((0,n.Cl)({},e),{fetchPolicy:"cache-first"})),!1!==globalThis.__DEV__&&((0,G.cc)(e,"canonizeResults","client.query"),(0,G.cc)(e,"notifyOnNetworkStatusChange","client.query","This option does not affect `client.query` and can be safely removed."),"standby"===e.fetchPolicy&&!1!==globalThis.__DEV__&&o.V1.warn(19)),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=ye(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){var t=this,r=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map((function(o){return(0,n.Cl)((0,n.Cl)({},o),{data:t.queryManager.maskOperation({document:e.query,data:o.data,fetchPolicy:e.fetchPolicy,id:r})})}))},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){var t;return this.cache.watchFragment((0,n.Cl)((0,n.Cl)({},e),((t={})[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,t)))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return s(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],n=[];t.forEach((function(e,t){r.push(t),n.push(e)}));var i=Promise.all(n);return i.queries=r,i.results=n,i.catch((function(e){!1!==globalThis.__DEV__&&o.V1.debug(20,e)})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(ve.prototype.getMemoryInternals=me.ep)},9080:(e,t,r)=>{"use strict";r.d(t,{a:()=>c});var n=r(94626),o=r(15381),i=r(84824),s=r(65215),a=r(91250),l=r(67194);function c(e,t,r,a){var l=t.data,c=(0,n.Tt)(t,["data"]),f=r.data,d=(0,n.Tt)(r,["data"]);return(0,o.A)(c,d)&&u((0,i.Vn)(e).selectionSet,l,f,{fragmentMap:(0,s.JG)((0,i.zK)(e)),variables:a})}function u(e,t,r,n){if(t===r)return!0;var i=new Set;return e.selections.every((function(e){if(i.has(e))return!0;if(i.add(e),!(0,a.MS)(e,n.variables))return!0;if(f(e))return!0;if((0,l.dt)(e)){var c=(0,l.ue)(e),d=t&&t[c],h=r&&r[c],p=e.selectionSet;if(!p)return(0,o.A)(d,h);var y=Array.isArray(d),m=Array.isArray(h);if(y!==m)return!1;if(y&&m){var g=d.length;if(h.length!==g)return!1;for(var v=0;v<g;++v)if(!u(p,d[v],h[v],n))return!1;return!0}return u(p,d,h,n)}var b=(0,s.HQ)(e,n.fragmentMap);return b?!!f(b)||u(b.selectionSet,t,r,n):void 0}))}function f(e){return!!e.directives&&e.directives.some(d)}function d(e){return"nonreactive"===e.name.value}},9211:(e,t,r)=>{"use strict";r.d(t,{K$:()=>i,K4:()=>l,Mn:()=>a,uR:()=>s});var n=r(94626),o=(r(98609),r(12456)),i=Symbol();function s(e){return!!e.extensions&&Array.isArray(e.extensions[i])}function a(e){return e.hasOwnProperty("graphQLErrors")}var l=function(e){function t(r){var i,s,a=r.graphQLErrors,l=r.protocolErrors,c=r.clientErrors,u=r.networkError,f=r.errorMessage,d=r.extraInfo,h=e.call(this,f)||this;return h.name="ApolloError",h.graphQLErrors=a||[],h.protocolErrors=l||[],h.clientErrors=c||[],h.networkError=u||null,h.message=f||(i=h,s=(0,n.fX)((0,n.fX)((0,n.fX)([],i.graphQLErrors,!0),i.clientErrors,!0),i.protocolErrors,!0),i.networkError&&s.push(i.networkError),s.map((function(e){return(0,o.U)(e)&&e.message||"Error message not found."})).join("\n")),h.extraInfo=d,h.cause=(0,n.fX)((0,n.fX)((0,n.fX)([u],a||[],!0),l||[],!0),c||[],!0).find((function(e){return!!e}))||null,h.__proto__=t.prototype,h}return(0,n.C6)(t,e),t}(Error)},82460:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(94626),o=r(91188),i=r(73401);function s(e){return new o.C((function(t,r){var o=(0,n.Tt)(t,[]);return new i.c((function(n){var i,s=!1;return Promise.resolve(o).then((function(r){return e(r,t.getContext())})).then(t.setContext).then((function(){s||(i=r(t).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}))})).catch(n.error.bind(n)),function(){s=!0,i&&i.unsubscribe()}}))}))}},91188:(e,t,r)=>{"use strict";r.d(t,{C:()=>f});var n=r(98609),o=r(73401),i=r(94626);var s=r(84824);var a=r(15737);function l(e,t){return t?t(e):o.c.of()}function c(e){return"function"==typeof e?new f(e):e}function u(e){return e.request.length<=1}var f=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return o.c.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(c).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,r,n){var i,s=c(r),a=c(n||new e(l));return i=u(s)&&u(a)?new e((function(e){return t(e)?s.request(e)||o.c.of():a.request(e)||o.c.of()})):new e((function(e,r){return t(e)?s.request(e,r)||o.c.of():a.request(e,r)||o.c.of()})),Object.assign(i,{left:s,right:a})},e.execute=function(e,t){return e.request(function(e,t){var r=(0,i.Cl)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){r="function"==typeof e?(0,i.Cl)((0,i.Cl)({},r),e(r)):(0,i.Cl)((0,i.Cl)({},r),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,i.Cl)({},r)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?(0,s.n4)(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];if(t.indexOf(i)<0)throw(0,n.vA)(58,i)}return e}(t))))||o.c.of()},e.concat=function(t,r){var i=c(t);if(u(i))return!1!==globalThis.__DEV__&&n.V1.warn(47,i),i;var s,a=c(r);return s=u(a)?new e((function(e){return i.request(e,(function(e){return a.request(e)||o.c.of()}))||o.c.of()})):new e((function(e,t){return i.request(e,(function(e){return a.request(e,t)||o.c.of()}))||o.c.of()})),Object.assign(s,{left:i,right:a})},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(l)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw(0,n.vA)(48)},e.prototype.onError=function(e,t){if(!1!==globalThis.__DEV__&&(0,a.S2)("onError",(function(){!1!==globalThis.__DEV__&&n.V1.warn(49)})),t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&n.V1.warn(50),this.onError=e,this},e}()},34132:(e,t,r)=>{"use strict";r.d(t,{$:()=>P});var n=r(94626),o=r(98609),i=r(91188),s=r(91250),a=r(73401),l=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=(0,o.vA)(54,t,e.message);throw n.parseError=e,n}return r},c=r(2619);function u(e){var t=null,r=null,n=!1,o=[],i=[];function s(e){if(!r){if(i.length){var t=i.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}o.push(e)}}function a(e){r=e,i.slice().forEach((function(t){t[1](e)})),!t||t()}function l(){n=!0,i.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",s),e.on("error",a),e.on("end",l),e.on("finish",l),e.on("close",l);var u={next:function(){return new Promise((function(e,t){return r?t(r):o.length?e({value:o.shift(),done:!1}):n?e({value:void 0,done:!0}):void i.push([e,t])}))}};return c.uJ&&(u[Symbol.asyncIterator]=function(){return this}),u}function f(e){var t={next:function(){return e.read()}};return c.uJ&&(t[Symbol.asyncIterator]=function(){return this}),t}function d(e){var t,r,n=e;if(e.body&&(n=e.body),function(e){return!(!c.uJ||!e[Symbol.asyncIterator])}(n))return r=n[Symbol.asyncIterator](),(t={next:function(){return r.next()}})[Symbol.asyncIterator]=function(){return this},t;if(function(e){return!!e.getReader}(n))return f(n.getReader());if(function(e){return!!e.stream}(n))return f(n.stream().getReader());if(function(e){return!!e.arrayBuffer}(n))return function(e){var t=!1,r={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,r){e.then((function(e){t({value:e,done:!1})})).catch(r)})))}};return c.uJ&&(r[Symbol.asyncIterator]=function(){return this}),r}(n.arrayBuffer());if(function(e){return!!e.pipe}(n))return u(n);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var h=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},p=r(9211),y=r(56453),m=Object.prototype.hasOwnProperty;function g(e){var t={};return e.split("\n").forEach((function(e){var r=e.indexOf(":");if(r>-1){var n=e.slice(0,r).trim().toLowerCase(),o=e.slice(r+1).trim();t[n]=o}})),t}function v(e,t){if(e.status>=300){h(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(n){var r=n;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}var b=r(47397),w={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},_=function(e,t){return t(e)};function x(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i={},s={};r.forEach((function(e){i=(0,n.Cl)((0,n.Cl)((0,n.Cl)({},i),e.options),{headers:(0,n.Cl)((0,n.Cl)({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),s=(0,n.Cl)((0,n.Cl)({},s),e.http)})),i.headers&&(i.headers=function(e,t){if(!t){var r={};return Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]=e[t]})),r}var n={};Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]={originalName:t,value:e[t]}}));var o={};return Object.keys(n).forEach((function(e){o[n[e].originalName]=n[e].value})),o}(i.headers,s.preserveHeaderCase));var a=e.operationName,l=e.extensions,c=e.variables,u=e.query,f={operationName:a,variables:c};return s.includeExtensions&&(f.extensions=l),s.includeQuery&&(f.query=t(u,b.y)),{options:i,body:f}}function S(e){return new a.c((function(t){t.error(e)}))}var E=r(84705);var k=r(3902),A=r(84824),T=(0,o.no)((function(){return fetch})),P=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,c=e.fetch,u=e.print,f=void 0===u?_:u,b=e.includeExtensions,P=e.preserveHeaderCase,O=e.useGETForQueries,C=e.includeUnusedVariables,R=void 0!==C&&C,I=(0,n.Tt)(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw(0,o.vA)(51)}(c||T);var M={http:{includeExtensions:b,preserveHeaderCase:P},options:I.fetchOptions,credentials:I.credentials,headers:I.headers};return new i.C((function(e){var t=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")}(e,r),i=e.getContext(),u={};if(i.clientAwareness){var b=i.clientAwareness,_=b.name,P=b.version;_&&(u["apollographql-client-name"]=_),P&&(u["apollographql-client-version"]=P)}var C=(0,n.Cl)((0,n.Cl)({},u),i.headers),I={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:C};if((0,s.d8)(["client"],e.query)){!1!==globalThis.__DEV__&&!1!==globalThis.__DEV__&&o.V1.warn(52);var D=(0,k.er)(e.query);if(!D)return S(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=D}var N,F,j,$,U,L=x(e,f,w,M,I),z=L.options,B=L.body;B.variables&&!R&&(B.variables=(N=B.variables,F=e.query,j=(0,n.Cl)({},N),$=new Set(Object.keys(N)),(0,E.YR)(F,{Variable:function(e,t,r){r&&"VariableDefinition"!==r.kind&&$.delete(e.name.value)}}),$.forEach((function(e){delete j[e]})),j)),z.signal||"undefined"==typeof AbortController||(U=new AbortController,z.signal=U.signal);var V,G="OperationDefinition"===(V=(0,A.Vn)(e.query)).kind&&"subscription"===V.operation,H=(0,s.d8)(["defer"],e.query);if(O&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(z.method="GET"),H||G){z.headers=z.headers||{};var q="multipart/mixed;";G&&H&&!1!==globalThis.__DEV__&&o.V1.warn(53),G?q+="boundary=graphql;subscriptionSpec=1.0,application/json":H&&(q+="deferSpec=20220824,application/json"),z.headers.accept=q}if("GET"===z.method){var W=function(e,t){var r=[],n=function(e,t){r.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var o=void 0;try{o=l(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",o)}if(t.extensions){var i=void 0;try{i=l(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",i)}var s="",a=e,c=e.indexOf("#");-1!==c&&(s=e.substr(c),a=e.substr(0,c));var u=-1===a.indexOf("?")?"?":"&";return{newURI:a+u+r.join("&")+s}}(t,B),X=W.newURI,Q=W.parseError;if(Q)return S(Q);t=X}else try{z.body=l(B,"Payload")}catch(Q){return S(Q)}return new a.c((function(r){var i=c||(0,o.no)((function(){return fetch}))||T,s=r.next.bind(r);return i(t,z).then((function(t){var r;e.setContext({response:t});var o,i=null===(r=t.headers)||void 0===r?void 0:r.get("content-type");return null!==i&&/^multipart\/mixed/i.test(i)?function(e,t){return(0,n.sH)(this,void 0,void 0,(function(){var r,o,i,s,a,l,c,u,f,h,m,b,w,_,x,S,E,k,A,T,P,O,C,R;return(0,n.YH)(this,(function(I){switch(I.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),o=null===(R=e.headers)||void 0===R?void 0:R.get("content-type"),i="boundary=",s=(null==o?void 0:o.includes(i))?null==o?void 0:o.substring((null==o?void 0:o.indexOf(i))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a="\r\n--".concat(s),l="",c=d(e),u=!0,I.label=1;case 1:return u?[4,c.next()]:[3,3];case 2:for(f=I.sent(),h=f.value,m=f.done,b="string"==typeof h?h:r.decode(h),w=l.length-a.length+1,u=!m,_=(l+=b).indexOf(a,w);_>-1;){if(x=void 0,O=[l.slice(0,_),l.slice(_+a.length)],l=O[1],S=(x=O[0]).indexOf("\r\n\r\n"),E=g(x.slice(0,S)),(k=E["content-type"])&&-1===k.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(A=x.slice(S))if(T=v(e,A),Object.keys(T).length>1||"data"in T||"incremental"in T||"errors"in T||"payload"in T)if((0,y.Nw)(T)){if(P={},"payload"in T){if(1===Object.keys(T).length&&null===T.payload)return[2];P=(0,n.Cl)({},T.payload)}"errors"in T&&(P=(0,n.Cl)((0,n.Cl)({},P),{extensions:(0,n.Cl)((0,n.Cl)({},"extensions"in P?P.extensions:null),(C={},C[p.K$]=T.errors,C))})),t(P)}else t(T);else if(1===Object.keys(T).length&&"hasNext"in T&&!T.hasNext)return[2];_=l.indexOf(a)}return[3,1];case 3:return[2]}}))}))}(t,s):(o=e,function(e){return e.text().then((function(t){return v(e,t)})).then((function(t){return Array.isArray(t)||m.call(t,"data")||m.call(t,"errors")||h(e,t,"Server response was missing for query '".concat(Array.isArray(o)?o.map((function(e){return e.operationName})):o.operationName,"'.")),t}))})(t).then(s)})).then((function(){U=void 0,r.complete()})).catch((function(e){U=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,r)})),function(){U&&U.abort()}}))}))}},41231:(e,t,r)=>{"use strict";r.d(t,{e:()=>p});var n=r(94626),o=r(98609),i=r(47397),s=r(91188),a=r(45636),l=r(87945),c=r(73401),u=r(599),f=r(81212);function d(e){var t=Object.create(null),r=Object.create(null);return(0,a.E)(e)&&e.forEach((function(e){var n;t[e.message]=e,"string"==typeof(null===(n=e.extensions)||void 0===n?void 0:n.code)&&(r[e.extensions.code]=e)})),{persistedQueryNotSupported:!(!t.PersistedQueryNotSupported&&!r.PERSISTED_QUERY_NOT_SUPPORTED),persistedQueryNotFound:!(!t.PersistedQueryNotFound&&!r.PERSISTED_QUERY_NOT_FOUND)}}var h={disable:function(e){return e.meta.persistedQueryNotSupported},retry:function(e){var t=e.meta;return t.persistedQueryNotSupported||t.persistedQueryNotFound},useGETForHashedQueries:!1};var p=function(e){var t;function r(){t=void 0}(0,o.V1)(e&&("function"==typeof e.sha256||"function"==typeof e.generateHash),55);var p=(0,l.o)(h,e),y=p.sha256,m=p.generateHash,g=void 0===m?function(e){return Promise.resolve(y((0,i.y)(e)))}:m,v=p.disable,b=p.retry,w=p.useGETForHashedQueries,_=!0,x=function(e){return new Promise((function(t){return t(g(e))}))};return Object.assign(new s.C((function(e,i){(0,o.V1)(i,56);var s=e.query;return new c.c((function(o){var l,c,h=!1,p=!1,y=function(t,n){var o=t.response,s=t.networkError;if(!h&&(o&&o.errors||s)){h=!0;var u=[],f=o&&o.errors;(0,a.E)(f)&&u.push.apply(u,f);var y=void 0;"string"!=typeof(null==s?void 0:s.result)&&(y=s&&s.result&&s.result.errors),(0,a.E)(y)&&u.push.apply(u,y);var g={response:o,networkError:s,operation:e,graphQLErrors:(0,a.E)(u)?u:void 0,meta:d(u)};if((_=!v(g))||r(),b(g))return l&&l.unsubscribe(),e.setContext({http:{includeQuery:!0,includeExtensions:_},fetchOptions:{method:"POST"}}),p&&e.setContext({fetchOptions:c}),void(l=i(e).subscribe(m))}n()},m={next:function(e){y({response:e},(function(){return o.next(e)}))},error:function(e){y({networkError:e},(function(){return o.error(e)}))},complete:o.complete.bind(o)};return e.setContext({http:{includeQuery:!_,includeExtensions:_}}),w&&_&&!function(e){return e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))}(e)&&(e.setContext((function(e){var t=e.fetchOptions,r=void 0===t?{}:t;return c=r,{fetchOptions:(0,n.Cl)((0,n.Cl)({},r),{method:"GET"})}})),p=!0),_?function(e){if(!e||"object"!=typeof e)return x(e);t||(t=new u.A(f.v["PersistedQueryLink.persistedQueryHashes"]||2e3));var r=t.get(e);return r||t.set(e,r=x(e)),r}(s).then((function(t){e.extensions.persistedQuery={version:1,sha256Hash:t},l=i(e).subscribe(m)})).catch(o.error.bind(o)):l=i(e).subscribe(m),function(){l&&l.unsubscribe()}}))})),{resetHashCache:r},!1!==globalThis.__DEV__?{getMemoryInternals:function(){var e;return{PersistedQueryLink:{persistedQueryHashes:null!==(e=null==t?void 0:t.size)&&void 0!==e?e:0}}}}:{})}},7588:(e,t,r)=>{"use strict";r.d(t,{S:()=>u});var n=r(43298),o=r(12456);function i(e){var t=new Set([e]);return t.forEach((function(e){(0,o.U)(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(r){(0,o.U)(e[r])&&t.add(e[r])}))})),e}var s=r(67194),a=r(91250),l=r(60857),c=r(98609);function u(e,t,r){return l.yV.withValue(!0,(function(){var n,o=f(e,t,r,!1);return Object.isFrozen(e)&&(n=o,!1!==globalThis.__DEV__&&i(n)),o}))}function f(e,t,r,o,i){var l,u=r.knownChanged,h=function(e,t){if(t.has(e))return t.get(e);var r=Array.isArray(e)?[]:Object.create(null);return t.set(e,r),r}(e,r.mutableTargets);if(Array.isArray(e)){for(var p=0,y=Array.from(e.entries());p<y.length;p++){var m=y[p],g=m[0],v=m[1];if(null!==v){var b=f(v,t,r,o,!1!==globalThis.__DEV__?"".concat(i||"","[").concat(g,"]"):void 0);u.has(b)&&u.add(h),h[g]=b}else h[g]=null}return u.has(h)?h:e}for(var w=0,_=t.selections;w<_.length;w++){var x=_[w],S=void 0;if(o&&u.add(h),x.kind===n.b.FIELD){var E=(0,s.ue)(x),k=x.selectionSet;if(void 0===(S=h[E]||e[E]))continue;if(k&&null!==S){b=f(e[E],k,r,o,!1!==globalThis.__DEV__?"".concat(i||"",".").concat(E):void 0);u.has(b)&&(S=b)}!1===globalThis.__DEV__&&(h[E]=S),!1!==globalThis.__DEV__&&(o&&"__typename"!==E&&!(null===(l=Object.getOwnPropertyDescriptor(h,E))||void 0===l?void 0:l.value)?Object.defineProperty(h,E,d(E,S,i||"",r.operationName,r.operationType)):(delete h[E],h[E]=S))}if(x.kind!==n.b.INLINE_FRAGMENT||x.typeCondition&&!r.cache.fragmentMatches(x,e.__typename)||(S=f(e,x.selectionSet,r,o,i)),x.kind===n.b.FRAGMENT_SPREAD){var A=x.name.value,T=r.fragmentMap[A]||(r.fragmentMap[A]=r.cache.lookupFragment(A));(0,c.V1)(T,59,A);var P=(0,a.s7)(x);"mask"!==P&&(S=f(e,T.selectionSet,r,"migrate"===P,i))}u.has(S)&&u.add(h)}return"__typename"in e&&!("__typename"in h)&&(h.__typename=e.__typename),Object.keys(h).length!==Object.keys(e).length&&u.add(h),u.has(h)?h:e}function d(e,t,r,n,o){var i=function(){return l.yV.getValue()||(!1!==globalThis.__DEV__&&c.V1.warn(60,n?"".concat(o," '").concat(n,"'"):"anonymous ".concat(o),"".concat(r,".").concat(e).replace(/^\./,"")),i=function(){return t}),t};return{get:function(){return i()},set:function(e){i=function(){return e}},enumerable:!0,configurable:!0}}},45410:(e,t,r)=>{"use strict";r.d(t,{z:()=>u});var n=r(43298),o=r(60857),i=r(98609),s=r(15381),a=r(7588),l=r(65215),c=r(84824);function u(e,t,r,u){if(!r.fragmentMatches)return!1!==globalThis.__DEV__&&(0,o.Ki)(),e;var f=t.definitions.filter((function(e){return e.kind===n.b.FRAGMENT_DEFINITION}));void 0===u&&((0,i.V1)(1===f.length,61,f.length),u=f[0].name.value);var d=f.find((function(e){return e.name.value===u}));return(0,i.V1)(!!d,62,u),null==e||(0,s.A)(e,{})?e:(0,a.S)(e,d.selectionSet,{operationType:"fragment",operationName:d.name.value,fragmentMap:(0,l.JG)((0,c.zK)(t)),cache:r,mutableTargets:new o.jq,knownChanged:new o.xm})}},60857:(e,t,r)=>{"use strict";r.d(t,{Ki:()=>u,jq:()=>s,xm:()=>a,yV:()=>l});var n=r(6839),o=r(98609),i=r(2619),s=i.et?WeakMap:Map,a=i.En?WeakSet:Set,l=new n.DX,c=!1;function u(){c||(c=!0,!1!==globalThis.__DEV__&&o.V1.warn(64))}},599:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,V:()=>l});var n=r(11744),o=r(37783),i=new WeakSet;function s(e){e.size<=(e.max||-1)||i.has(e)||(i.add(e),setTimeout((function(){e.clean(),i.delete(e)}),100))}var a=function(e,t){var r=new n.l(e,t);return r.set=function(e,t){var r=n.l.prototype.set.call(this,e,t);return s(this),r},r},l=function(e,t){var r=new o.C(e,t);return r.set=function(e,t){var r=o.C.prototype.set.call(this,e,t);return s(this),r},r}},35051:(e,t,r)=>{"use strict";r.d(t,{D_:()=>s,ep:()=>a,tQ:()=>l});var n=r(94626),o=r(81212),i={};function s(e,t){i[e]=t}var a=!1!==globalThis.__DEV__?function(){var e,t,r,s,a;if(!1===globalThis.__DEV__)throw new Error("only supported in development mode");return{limits:Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map((function(e){var t=e[0],r=e[1];return[t,o.v[t]||r]}))),sizes:(0,n.Cl)({print:null===(e=i.print)||void 0===e?void 0:e.call(i),parser:null===(t=i.parser)||void 0===t?void 0:t.call(i),canonicalStringify:null===(r=i.canonicalStringify)||void 0===r?void 0:r.call(i),links:p(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:d(this.queryManager.documentTransform)}},null===(a=(s=this.cache).getMemoryInternals)||void 0===a?void 0:a.call(s))}}:void 0,l=(globalThis.__DEV__,!1!==globalThis.__DEV__?c:void 0);function c(){return{cache:{fragmentQueryDocuments:u(this.getFragmentDoc)}}}function u(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function f(e){return null!=e}function d(e){return h(e).map((function(e){return{cache:e}}))}function h(e){return e?(0,n.fX)((0,n.fX)([u(null==e?void 0:e.performWork)],h(null==e?void 0:e.left),!0),h(null==e?void 0:e.right),!0).filter(f):[]}function p(e){var t;return e?(0,n.fX)((0,n.fX)([null===(t=null==e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],p(null==e?void 0:e.left),!0),p(null==e?void 0:e.right),!0).filter(f):[]}},81212:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(94626),o=r(98609),i=Symbol.for("apollo.cacheSize"),s=(0,n.Cl)({},o.Sf[i])},45636:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,c:()=>n});var n=Array.isArray;function o(e){return Array.isArray(e)&&e.length>0}},2619:(e,t,r)=>{"use strict";r.d(t,{En:()=>s,et:()=>i,ol:()=>a,uJ:()=>l});var n=r(98609),o="ReactNative"==(0,n.no)((function(){return navigator.product})),i="function"==typeof WeakMap&&!(o&&!global.HermesInternal),s="function"==typeof WeakSet,a="function"==typeof Symbol&&"function"==typeof Symbol.for,l=a&&Symbol.asyncIterator;(0,n.no)((function(){return window.document.createElement})),(0,n.no)((function(){return navigator.userAgent.indexOf("jsdom")>=0}))},96269:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var n,o=r(599),i=r(81212),s=r(35051),a=Object.assign((function(e){return JSON.stringify(e,l)}),{reset:function(){n=new o.V(i.v.canonicalStringify||1e3)}});function l(e,t){if(t&&"object"==typeof t){var r=Object.getPrototypeOf(t);if(r===Object.prototype||null===r){var o=Object.keys(t);if(o.every(c))return t;var i=JSON.stringify(o),s=n.get(i);if(!s){o.sort();var a=JSON.stringify(o);s=n.get(a)||o,n.set(i,s),n.set(a,s)}var l=Object.create(r);return s.forEach((function(e){l[e]=t[e]})),l}}return t}function c(e,t,r){return 0===t||r[t-1]<=e}!1!==globalThis.__DEV__&&(0,s.D_)("canonicalStringify",(function(){return n.size})),a.reset()},87945:(e,t,r)=>{"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(r[t]=n)}))})),r}r.d(t,{o:()=>n})},56453:(e,t,r)=>{"use strict";r.d(t,{Nw:()=>l,ST:()=>s,YX:()=>a,bd:()=>c});var n=r(12456),o=r(45636),i=r(92922);function s(e){return"incremental"in e}function a(e){return s(e)||function(e){return"hasNext"in e&&"data"in e}(e)}function l(e){return(0,n.U)(e)&&"payload"in e}function c(e,t){var r=e,n=new i.ZI;return s(t)&&(0,o.E)(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,o=e.path,i=o.length-1;i>=0;--i){var s=o[i],a=!isNaN(+s)?[]:{};a[s]=t,t=a}r=n.merge(r,t)})),r}},98170:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=new Map;function o(e){var t=n.get(e)||1;return n.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}},92922:(e,t,r)=>{"use strict";r.d(t,{D9:()=>s,IM:()=>a,ZI:()=>c});var n=r(94626),o=r(12456),i=Object.prototype.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)}function a(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new c,o=1;o<r;++o)t=n.merge(t,e[o]);return t}var l=function(e,t,r){return this.merge(e[r],t[r])},c=function(){function e(e){void 0===e&&(e=l),this.reconciler=e,this.isObject=o.U,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var r=this,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];return(0,o.U)(t)&&(0,o.U)(e)?(Object.keys(t).forEach((function(o){if(i.call(e,o)){var a=e[o];if(t[o]!==a){var l=r.reconciler.apply(r,(0,n.fX)([e,t,o],s,!1));l!==a&&((e=r.shallowCopyForMerge(e))[o]=l)}}else(e=r.shallowCopyForMerge(e))[o]=t[o]})),e):t},e.prototype.shallowCopyForMerge=function(e){return(0,o.U)(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):(0,n.Cl)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}()},12456:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e}r.d(t,{U:()=>n})},15737:(e,t,r)=>{"use strict";r.d(t,{S2:()=>f,cc:()=>u,lz:()=>c});var n=r(94626),o=r(6839),i=r(98609),s=Symbol.for("apollo.deprecations"),a=i.Sf,l=new o.DX;function c(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return l.withValue.apply(l,(0,n.fX)([Array.isArray(e)?e:[e]],t,!1))}function u(e,t,r,n){void 0===n&&(n="Please remove this option."),f(t,(function(){t in e&&!1!==globalThis.__DEV__&&i.V1.warn(104,r,t,n)}))}function f(e,t){(function(e){return a[s]||(l.getValue()||[]).includes(e)})(e)||t()}},98609:(e,t,r)=>{"use strict";r.d(t,{Sf:()=>p,V1:()=>g,no:()=>h,vA:()=>v});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};Object.create;Object.create;var o="Invariant Violation",i=Object.setPrototypeOf,s=void 0===i?function(e,t){return e.__proto__=t,e}:i,a=function(e){function t(r){void 0===r&&(r=o);var n=e.call(this,"number"==typeof r?o+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=o,s(n,t.prototype),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error);function l(e,t){if(!e)throw new a(t)}var c=["debug","log","warn","error","silent"],u=c.indexOf("log");function f(e){return function(){if(c.indexOf(e)>=u)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=f("debug"),e.log=f("log"),e.warn=f("warn"),e.error=f("error")}(l||(l={}));var d=r(10435);function h(e){try{return e()}catch(e){}}const p=h((function(){return globalThis}))||h((function(){return window}))||h((function(){return self}))||h((function(){return global}))||h((function(){return h.constructor("return this")()}));var y=r(98170);function m(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("number"==typeof t){var o=t;(t=_(o))||(t=x(o,r),r=[])}e.apply(void 0,[t].concat(r))}}var g=Object.assign((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e||l(e,_(t,r)||x(t,r))}),{debug:m(l.debug),log:m(l.log),warn:m(l.warn),error:m(l.error)});function v(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new a(_(e,t)||x(e,t))}var b=Symbol.for("ApolloErrorMessageHandler_"+d.r);function w(e){if("string"==typeof e)return e;try{return function(e,t){void 0===t&&(t=0);var r=(0,y.v)("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?r:t}),t).split(JSON.stringify(r)).join("<undefined>")}(e,2).slice(0,1e3)}catch(e){return"<non-serializable>"}}function _(e,t){if(void 0===t&&(t=[]),e)return p[b]&&p[b](e,t.map(w))}function x(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:d.r,message:e,args:t.map(w)})))}globalThis.__DEV__},91250:(e,t,r)=>{"use strict";r.d(t,{MS:()=>s,d8:()=>a,f2:()=>l,s7:()=>c});var n=r(98609),o=r(84705),i=r(43298);function s(e,t){var r=e.directives;return!r||!r.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var r=e.arguments,o=e.name.value;(0,n.V1)(r&&1===r.length,107,o);var i=r[0];(0,n.V1)(i.name&&"if"===i.name.value,108,o);var s=i.value;(0,n.V1)(s&&("Variable"===s.kind||"BooleanValue"===s.kind),109,o),t.push({directive:e,ifArgument:i})}}));return t}(r).every((function(e){var r=e.directive,o=e.ifArgument,i=!1;return"Variable"===o.value.kind?(i=t&&t[o.value.name.value],(0,n.V1)(void 0!==i,106,r.name.value)):i=o.value.value,"skip"===r.name.value?!i:i}))}function a(e,t,r){var n=new Set(e),i=n.size;return(0,o.YR)(t,{Directive:function(e){if(n.delete(e.name.value)&&(!r||!n.size))return o.sP}}),r?!n.size:n.size<i}function l(e){return e&&a(["client","export"],e,!0)}function c(e){var t,r,o=null===(t=e.directives)||void 0===t?void 0:t.find((function(e){return"unmask"===e.name.value}));if(!o)return"mask";var s=null===(r=o.arguments)||void 0===r?void 0:r.find((function(e){return"mode"===e.name.value}));return!1!==globalThis.__DEV__&&s&&(s.value.kind===i.b.VARIABLE?!1!==globalThis.__DEV__&&n.V1.warn(110):s.value.kind!==i.b.STRING?!1!==globalThis.__DEV__&&n.V1.warn(111):"migrate"!==s.value.value&&!1!==globalThis.__DEV__&&n.V1.warn(112,s.value.value)),s&&"value"in s.value&&"migrate"===s.value.value?"migrate":"unmask"}},65215:(e,t,r)=>{"use strict";r.d(t,{HQ:()=>l,JG:()=>a,ct:()=>s,s6:()=>c});var n=r(94626),o=r(98609),i=r(84705);function s(e,t){var r=t,i=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw(0,o.vA)(113,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&i.push(e)})),void 0===r&&((0,o.V1)(1===i.length,114,i.length),r=i[0].name.value),(0,n.Cl)((0,n.Cl)({},e),{definitions:(0,n.fX)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)})}function a(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function l(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var r=e.name.value;if("function"==typeof t)return t(r);var n=t&&t[r];return(0,o.V1)(n,115,r),n||null;default:return null}}function c(e){var t=!0;return(0,i.YR)(e,{FragmentSpread:function(e){if(!(t=!!e.directives&&e.directives.some((function(e){return"unmask"===e.name.value}))))return i.sP}}),t}},84824:(e,t,r)=>{"use strict";r.d(t,{AT:()=>c,E4:()=>u,Vn:()=>f,Vu:()=>s,n4:()=>a,sw:()=>i,wY:()=>d,zK:()=>l});var n=r(98609),o=r(67194);function i(e){(0,n.V1)(e&&"Document"===e.kind,116);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw(0,n.vA)(117,e.kind);return e}));return(0,n.V1)(t.length<=1,118,t.length),e}function s(e){return i(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function a(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function l(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function c(e){var t=s(e);return(0,n.V1)(t&&"query"===t.operation,119),t}function u(e){(0,n.V1)("Document"===e.kind,120),(0,n.V1)(e.definitions.length<=1,121);var t=e.definitions[0];return(0,n.V1)("FragmentDefinition"===t.kind,122),t}function f(e){var t;i(e);for(var r=0,o=e.definitions;r<o.length;r++){var s=o[r];if("OperationDefinition"===s.kind){var a=s.operation;if("query"===a||"mutation"===a||"subscription"===a)return s}"FragmentDefinition"!==s.kind||t||(t=s)}if(t)return t;throw(0,n.vA)(123)}function d(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach((function(e){e.defaultValue&&(0,o.J)(t,e.variable.name,e.defaultValue)})),t}},47397:(e,t,r)=>{"use strict";r.d(t,{y:()=>l});var n,o=r(11751),i=r(599),s=r(81212),a=r(35051),l=Object.assign((function(e){var t=n.get(e);return t||(t=(0,o.y)(e),n.set(e,t)),t}),{reset:function(){n=new i.A(s.v.print||2e3)}});l.reset(),!1!==globalThis.__DEV__&&(0,a.D_)("print",(function(){return n?n.size:0}))},67194:(e,t,r)=>{"use strict";r.d(t,{J:()=>a,Kc:()=>s,MB:()=>u,dt:()=>d,kd:()=>h,ue:()=>f});var n=r(98609),o=r(12456),i=r(96269);function s(e){return(0,o.U)(e)&&"Document"===e.kind&&Array.isArray(e.definitions)}function a(e,t,r,o){if(function(e){return"IntValue"===e.kind}(r)||function(e){return"FloatValue"===e.kind}(r))e[t.value]=Number(r.value);else if(function(e){return"BooleanValue"===e.kind}(r)||function(e){return"StringValue"===e.kind}(r))e[t.value]=r.value;else if(function(e){return"ObjectValue"===e.kind}(r)){var i={};r.fields.map((function(e){return a(i,e.name,e.value,o)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(r)){var s=(o||{})[r.name.value];e[t.value]=s}else if(function(e){return"ListValue"===e.kind}(r))e[t.value]=r.values.map((function(e){var r={};return a(r,t,e,o),r[t.value]}));else if(function(e){return"EnumValue"===e.kind}(r))e[t.value]=r.value;else{if(!function(e){return"NullValue"===e.kind}(r))throw(0,n.vA)(124,t.value,r.kind);e[t.value]=null}}var l=["connection","include","skip","client","rest","export","nonreactive"],c=i.M;Object.assign((function(e,t,r){if(t&&r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var o={};return n.forEach((function(e){o[e]=t[e]})),"".concat(r.connection.key,"(").concat(c(o),")")}return r.connection.key}var i=e;if(t){var s=c(t);i+="(".concat(s,")")}return r&&Object.keys(r).forEach((function(e){-1===l.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?i+="@".concat(e,"(").concat(c(r[e]),")"):i+="@".concat(e))})),i}),{setStringify:function(e){var t=c;return c=e,t}});function u(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach((function(e){var n=e.name,o=e.value;return a(r,n,o,t)})),r}return null}function f(e){return e.alias?e.alias.value:e.name.value}function d(e){return"Field"===e.kind}function h(e){return"InlineFragment"===e.kind}},3902:(e,t,r)=>{"use strict";r.d(t,{er:()=>v,iz:()=>m,x3:()=>b,zc:()=>g});var n=r(94626),o=r(98609),i=r(43298),s=r(84705),a=r(84824),l=r(67194),c=r(65215),u=r(45636),f={kind:i.b.FIELD,name:{kind:i.b.NAME,value:"__typename"}};function d(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===i.b.FRAGMENT_SPREAD&&d(t[e.name.value],t)}))}function h(e){return d((0,a.Vu)(e)||(0,a.E4)(e),(0,c.JG)((0,a.zK)(e)))?null:e}function p(e){var t=new Map,r=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&r.set(e.test,e))})),function(e){var n=t.get(e.name.value);return!n&&r.size&&r.forEach((function(t,r){r(e)&&(n=t)})),n}}function y(e){var t=new Map;return function(r){void 0===r&&(r=e);var n=t.get(r);return n||t.set(r,n={variables:new Set,fragmentSpreads:new Set}),n}}function m(e,t){(0,a.sw)(t);for(var r=y(""),l=y(""),c=function(e){for(var t=0,n=void 0;t<e.length&&(n=e[t]);++t)if(!(0,u.c)(n)){if(n.kind===i.b.OPERATION_DEFINITION)return r(n.name&&n.name.value);if(n.kind===i.b.FRAGMENT_DEFINITION)return l(n.name.value)}return!1!==globalThis.__DEV__&&o.V1.error(125),null},f=0,d=t.definitions.length-1;d>=0;--d)t.definitions[d].kind===i.b.OPERATION_DEFINITION&&++f;var m=p(e),g=function(e){return(0,u.E)(e)&&e.map(m).some((function(e){return e&&e.remove}))},v=new Map,b=!1,w={enter:function(e){if(g(e.directives))return b=!0,null}},_=(0,s.YR)(t,{Field:w,InlineFragment:w,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,r,n,o){var i=c(o);i&&i.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,r,n,o){if(g(e.directives))return b=!0,null;var i=c(o);i&&i.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,r,n){v.set(JSON.stringify(n),e)},leave:function(e,t,r,n){return e===v.get(JSON.stringify(n))?e:f>0&&e.selectionSet.selections.every((function(e){return e.kind===i.b.FIELD&&"__typename"===e.name.value}))?(l(e.name.value).removed=!0,b=!0,null):void 0}},Directive:{leave:function(e){if(m(e))return b=!0,null}}});if(!b)return t;var x=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){x(l(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},S=new Set;_.definitions.forEach((function(e){e.kind===i.b.OPERATION_DEFINITION?x(r(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){S.add(e)})):e.kind!==i.b.FRAGMENT_DEFINITION||0!==f||l(e.name.value).removed||S.add(e.name.value)})),S.forEach((function(e){x(l(e)).fragmentSpreads.forEach((function(e){S.add(e)}))}));var E={enter:function(e){if(t=e.name.value,!S.has(t)||l(t).removed)return null;var t}};return h((0,s.YR)(_,{FragmentSpread:E,FragmentDefinition:E,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=x(r(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return(0,n.Cl)((0,n.Cl)({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}Object.assign((function(e){return(0,s.YR)(e,{SelectionSet:{enter:function(e,t,r){if(!r||r.kind!==i.b.OPERATION_DEFINITION){var o=e.selections;if(o)if(!o.some((function(e){return(0,l.dt)(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var s=r;if(!((0,l.dt)(s)&&s.directives&&s.directives.some((function(e){return"export"===e.name.value}))))return(0,n.Cl)((0,n.Cl)({},e),{selections:(0,n.fX)((0,n.fX)([],o,!0),[f],!1)})}}}}})}),{added:function(e){return e===f}});function g(e){return"query"===(0,a.Vn)(e).operation?e:(0,s.YR)(e,{OperationDefinition:{enter:function(e){return(0,n.Cl)((0,n.Cl)({},e),{operation:"query"})}}})}function v(e){return(0,a.sw)(e),m([{test:function(e){return"client"===e.name.value},remove:!0}],e)}function b(e){return(0,a.sw)(e),(0,s.YR)(e,{FragmentSpread:function(e){var t;if(!(null===(t=e.directives)||void 0===t?void 0:t.some((function(e){return"unmask"===e.name.value}))))return(0,n.Cl)((0,n.Cl)({},e),{directives:(0,n.fX)((0,n.fX)([],e.directives||[],!0),[{kind:i.b.DIRECTIVE,name:{kind:i.b.NAME,value:"nonreactive"}}],!1)})}})}},10435:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n="3.14.0"},37783:(e,t,r)=>{"use strict";function n(){}r.d(t,{C:()=>o});class o{constructor(e=1/0,t=n){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}},11744:(e,t,r)=>{"use strict";function n(){}r.d(t,{l:()=>l});const o=n,i="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},s="undefined"!=typeof WeakMap?WeakMap:Map,a="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:n,unregister:n}};class l{constructor(e=1/0,t=o){this.max=e,this.dispose=t,this.map=new s,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const r=t.key;delete t.key,t.keyRef=new i(r),this.registry.register(r,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new a(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}},15381:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,L:()=>a});const{toString:n,hasOwnProperty:o}=Object.prototype,i=Function.prototype.toString,s=new Map;function a(e,t){try{return c(e,t)}finally{s.clear()}}const l=a;function c(e,t){if(e===t)return!0;const r=n.call(e);if(r!==n.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(h(e,t))return!0;const r=u(e),n=u(t),i=r.length;if(i!==n.length)return!1;for(let e=0;e<i;++e)if(!o.call(t,r[e]))return!1;for(let n=0;n<i;++n){const o=r[n];if(!c(e[o],t[o]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(h(e,t))return!0;const n=e.entries(),o="[object Map]"===r;for(;;){const e=n.next();if(e.done)break;const[r,i]=e.value;if(!t.has(r))return!1;if(o&&!c(i,t.get(r)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=i.call(e);return r===i.call(t)&&!function(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}(r,d)}}return!1}function u(e){return Object.keys(e).filter(f,e)}function f(e){return void 0!==this[e]}const d="{ [native code] }";function h(e,t){let r=s.get(e);if(r){if(r.has(t))return!0}else s.set(e,r=new Set);return r.add(t),!1}},32453:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});const n=()=>Object.create(null),{forEach:o,slice:i}=Array.prototype,{hasOwnProperty:s}=Object.prototype;class a{constructor(e=!0,t=n){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return o.call(e,(e=>t=t.getChildTrie(e))),s.call(t,"data")?t.data:t.data=this.makeData(i.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){const n=t.mapFor(e[r],!1);t=n&&n.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const r=e[0],n=this.mapFor(r,!1),o=n&&n.get(r);o&&(t=o.removeArray(i.call(e,1)),o.data||o.weak||o.strong&&o.strong.size||n.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let r=t.get(e);return r||t.set(e,r=new a(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}},40157:(e,t,r)=>{"use strict";r.d(t,{MZ:()=>o,a4:()=>n,fJ:()=>s,k_:()=>a,mP:()=>i,ro:()=>l,zn:()=>c});const n="async-injection:INJECTABLE",o="async-injection:INJECT",i="async-injection:POSTCONSTRUCT_SYNC",s="async-injection:POSTCONSTRUCT_ASYNC",a="async-injection:RELEASE",l="async-injection:OPTIONAL",c="design:paramtypes"},65945:(e,t,r)=>{"use strict";r.d(t,{mc:()=>_,y_:()=>y,_q:()=>p});var n=r(40157);function o(e){return!!e&&(e instanceof Error||e&&"string"==typeof e.message&&"string"==typeof e.stack)}function i(e){return!!e&&(e instanceof Promise||e&&"function"==typeof e.then)}function s(e){var t,r;const o=Reflect.getMetadata(n.k_,e.constructor);if(o&&e.constructor.prototype[o]&&"function"==typeof e.constructor.prototype[o]){const n=null===(r=(t=e[o]).bind)||void 0===r?void 0:r.call(t,e);if(n)return n(),!0}return!1}class a{constructor(){}resolveIfSingleton(e){if(null===this.singleton){const e=this.provideAsState();if(e.pending)return e.promise;if(e.rejected)return Promise.reject(e.rejected)}}releaseIfSingleton(){if(this.singleton){const e=this.provideAsState();e.pending?e.promise.then((e=>{this.singleton=null,s(e)})).catch((()=>{this.singleton=null})):(this.singleton=null,!e.rejected&&e.fulfilled&&s(e.fulfilled))}}}class l extends a{constructor(e,t,r){super(),this.injector=e,this.id=t,this.maker=r}makeBindAs(){const e={onError:e=>{this.errorHandler=e},onSuccess:t=>(this.successHandler=t,e),asSingleton:()=>(this.singleton=null,e)};return e}queryErrorHandler(e,t){if(this.errorHandler){const r=this.errorHandler(this.injector,this.id,this.maker,e,t);if(o(r))throw r;if(void 0===r)throw e;return r}throw e}makePromiseForObj(e,t){return new Promise(((r,n)=>{const i=(e,t)=>{if(this.errorHandler){const n=this.errorHandler(this.injector,this.id,this.maker,e,t);if(o(n))e=n;else if(void 0!==n)return void r(n)}n(e)};e.then((e=>{try{r(t(e))}catch(r){i(r,t(e))}})).catch((e=>{i(e,t(void 0))}))}))}}class c{static MakeState(e,t,r){const n=new c;return i(e)?(n._pending=!0,n._promise=e.then((e=>(n._fulfilled=e,n._pending=!1,e)),(e=>{throw n._rejected=e,n._pending=!1,e}))):(n._pending=!1,t?n._rejected=t:n._fulfilled=r,n._promise=null),n}constructor(){}get promise(){return this._promise}get pending(){return this._pending}get fulfilled(){return this._fulfilled}get rejected(){return this._rejected}}class u extends l{constructor(e,t,r){super(e,t,r)}provideAsState(){let e=this.singleton;return e||(e=c.MakeState(this.makePromiseForObj(this.maker(this.injector),(e=>e)))),null===this.singleton&&(this.singleton=e),e}}function f(e){let t;return e&&(t=e.name,!t&&e.constructor&&(t=e.constructor.name)),t}function d(e){return`index-${e}`}function h(e,t,r){const n=function(e,t,r){if(!function(e){return!("function"!=typeof e||!e.hasOwnProperty("prototype"))&&e.prototype.constructor===e}(t))throw new Error("@"+e+" is not valid here ["+f(t)+"]");return d(r)}(e,t,r);if(Reflect.hasOwnMetadata(e,t,n))throw new Error("@"+e+" applied multiple times ["+t.constructor.name+"]");return n}function p(){return function(e){if(Reflect.hasOwnMetadata(n.a4,e))throw new Error("@Injectable applied multiple times ["+f(e)+"]");Reflect.defineMetadata(n.a4,!0,e)}}function y(e){return function(t,r,o){if(void 0===e)throw new Error("Undefined id passed to @Inject ["+f(t)+"]");const i=h("Inject",t,o);Reflect.defineMetadata(n.MZ,e,t,i)}}function m(e,t){return Reflect.getMetadata(n.ro,e,d(t))}class g extends l{constructor(e,t,r){super(e,t,r)}provideAsState(){let e=this.singleton;return e||(e=this.provideAsStateImpl()),null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e||Reflect.getMetadata(n.fJ,this.maker))return super.resolveIfSingleton(!1)}makePostConstructState(e){var t,r;if("object"==typeof e&&!Array.isArray(e)&&e.constructor){let o,s=!1;if("function"==typeof this.successHandler)s=!0,o=()=>this.successHandler(e,this.injector,this.id,this.maker);else{let i=Reflect.getMetadata(n.mP,e.constructor);i||(s=!0,i=Reflect.getMetadata(n.fJ,e.constructor)),i&&e.constructor.prototype[i]&&"function"==typeof e.constructor.prototype[i]&&(o=null===(r=(t=e[i]).bind)||void 0===r?void 0:r.call(t,e))}if(o){let t;try{t=o()}catch(t){try{return e=this.queryErrorHandler(t,e),c.MakeState(null,void 0,e)}catch(e){return c.MakeState(null,e,void 0)}}if(t&&(t instanceof Promise||s&&i(t)))return c.MakeState(this.makePromiseForObj(t,(()=>e)))}}return c.MakeState(null,void 0,e)}getConstructorParameterStates(){const e=Reflect.getMetadata(n.zn,this.maker);return void 0!==e&&Array.isArray(e)?e.map(((e,t)=>{const r=(o=this.maker,i=t,Reflect.getMetadata(n.MZ,o,d(i)));var o,i;const s=void 0===r?e:r;if(void 0===s)throw new Error(`Injection error. Unable to determine parameter ${t} type/value of ${this.maker.toString()} constructor`);let a=this.injector.resolveState(s);if(!a.pending&&a.rejected){const e=m(this.maker,t);e&&(a=c.MakeState(null,void 0,e.value))}return a})):[]}provideAsStateImpl(){const e=this.getConstructorParameterStates(),t=e.find((e=>!e.pending&&e.rejected));if(t)return t;if(e.some((e=>e.pending))){const t=this.makePromiseForObj(Promise.all(e.map(((e,t)=>e.pending?e.promise.catch((e=>{const r=m(this.maker,t);if(!r)throw e;return r.value})):e.rejected?Promise.reject(e.rejected):Promise.resolve(e.fulfilled)))),(e=>{if(e)return Reflect.construct(this.maker,e)}));return c.MakeState(t.then((e=>{const t=this.makePostConstructState(e);return t.pending?t.promise:t.rejected?t.rejected:t.fulfilled})))}try{const t=Reflect.construct(this.maker,e.map((e=>e.fulfilled)));return this.makePostConstructState(t)}catch(e){try{return c.MakeState(null,void 0,this.queryErrorHandler(e))}catch(e){return c.MakeState(null,e,void 0)}}}}class v extends a{constructor(e){super(),this.singleton=c.MakeState(null,void 0,e)}provideAsState(){return this.singleton}}class b extends l{constructor(e,t,r){super(e,t,r)}provideAsState(){let e=this.singleton;if(!e)try{e=c.MakeState(null,void 0,this.maker(this.injector))}catch(t){try{e=c.MakeState(null,void 0,this.queryErrorHandler(t))}catch(t){e=c.MakeState(null,t,void 0)}}return null===this.singleton&&(this.singleton=e),e}resolveIfSingleton(e){if(!e)return super.resolveIfSingleton(!1)}}class w{constructor(e){this.reason=e}}class _{constructor(e){this.parent=e,this.providers=new Map}isIdKnown(e,t){return!!this.providers.get(e)||!(!t||!this.parent)&&this.parent.isIdKnown(e,!0)}get(e){const t=this.providers.get(e);if(!t){if(this.parent)return this.parent.get(e);throw new Error("Symbol not bound: "+e.toString())}const r=t.provideAsState();if(r.pending)throw new Error("Synchronous request on unresolved asynchronous dependency tree: "+e.toString());if(r.rejected)throw r.rejected;return r.fulfilled}resolve(e){const t=this.resolveState(e);return i(t.promise)?t.promise:t.rejected?Promise.reject(t.rejected):Promise.resolve(t.fulfilled)}removeBinding(e,t,r){var n;if(r){const t=this.providers.get(e);t&&t.releaseIfSingleton()}this.providers.delete(e),t&&this.parent&&(null===(n=this.parent)||void 0===n||n.removeBinding(e,!0,r))}bindConstant(e,t){return this.providers.set(e,new v(t)),t}bindClass(e,t){if(void 0===t&&(t=e),!Reflect.getMetadata(n.a4,t))throw new Error("Class not decorated with @Injectable ["+t.toString()+"]");const r=new g(this,e,t);return this.providers.set(e,r),r.makeBindAs()}bindFactory(e,t){const r=new b(this,e,t);return this.providers.set(e,r),r.makeBindAs()}bindAsyncFactory(e,t){const r=new u(this,e,t);return this.providers.set(e,r),r.makeBindAs()}resolveSingletons(e,t){var r;const n=()=>new Promise(((t,r)=>{const n=new Map;this.providers.forEach(((t,r)=>{const o=t.resolveIfSingleton(e);null!=o&&n.set(r,o)}));const o=Array.from(n.values()),i=Array.from(n.keys());Promise.all(o.map((e=>e.catch((e=>new w(e)))))).then((e=>{const n=new Map;e.forEach(((e,t)=>{e instanceof w&&n.set(i[t],e.reason)})),n.size>0?r(n):t()}))}));if(t&&"function"==typeof(null===(r=this.parent)||void 0===r?void 0:r.resolveSingletons)){return this.parent.resolveSingletons(e,t).then((()=>n().then((()=>this))))}return n().then((()=>this))}resolveState(e){const t=this.providers.get(e);if(!t){if(this.parent){if(this.parent instanceof _)return this.parent.resolveState(e);try{return c.MakeState(this.parent.resolve(e),void 0,void 0)}catch(e){return c.MakeState(null,e)}}return c.MakeState(null,new Error("Symbol not bound: "+e.toString()))}return t.provideAsState()}releaseSingletons(){this.providers.forEach((e=>{e.releaseIfSingleton()}))}clone(e){e||(e=_);const t=new e(this.parent);return this.providers.forEach(((e,r)=>{e instanceof l&&((e=Object.assign(Object.create(Object.getPrototypeOf(e)),e)).injector=t),t.providers.set(r,e)})),t}}},79680:(e,t,r)=>{"use strict";r.d(t,{G:()=>xt});const n=(e=0)=>t=>`[${t+e}m`,o=(e=0)=>t=>`[${38+e};5;${t}m`,i=(e=0)=>(t,r,n)=>`[${38+e};2;${t};${r};${n}m`,s={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(s.modifier),Object.keys(s.color),Object.keys(s.bgColor);const a=function(){const e=new Map;for(const[t,r]of Object.entries(s)){for(const[t,n]of Object.entries(r))s[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=s[t],e.set(n[0],n[1]);Object.defineProperty(s,t,{value:r,enumerable:!1})}return Object.defineProperty(s,"codes",{value:e,enumerable:!1}),s.color.close="[39m",s.bgColor.close="[49m",s.color.ansi=n(),s.color.ansi256=o(),s.color.ansi16m=i(),s.bgColor.ansi=n(10),s.bgColor.ansi256=o(10),s.bgColor.ansi16m=i(10),Object.defineProperties(s,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map((e=>e+e)).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:e=>s.rgbToAnsi256(...s.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,r,n;if(e>=232)t=(10*(e-232)+8)/255,r=t,n=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(o/6)/5,n=o%6/5}const o=2*Math.max(t,r,n);if(0===o)return 30;let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>s.ansi256ToAnsi(s.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>s.ansi256ToAnsi(s.hexToAnsi256(e)),enumerable:!1}}),s}(),l=a,c=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),u=0!==c&&{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3},f={stdout:u,stderr:u};function d(e,t,r){let n=e.indexOf(t);if(-1===n)return e;const o=t.length;let i=0,s="";do{s+=e.slice(i,n)+t+r,i=n+o,n=e.indexOf(t,i)}while(-1!==n);return s+=e.slice(i),s}const{stdout:h,stderr:p}=f,y=Symbol("GENERATOR"),m=Symbol("STYLER"),g=Symbol("IS_EMPTY"),v=["ansi","ansi","ansi256","ansi16m"],b=Object.create(null);const w=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=h?h.level:0;e.level=void 0===t.level?r:t.level})(t,e),Object.setPrototypeOf(t,_.prototype),t};function _(e){return w(e)}Object.setPrototypeOf(_.prototype,Function.prototype);for(const[e,t]of Object.entries(l))b[e]={get(){const r=A(this,k(t.open,t.close,this[m]),this[g]);return Object.defineProperty(this,e,{value:r}),r}};b.visible={get(){const e=A(this,this[m],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const x=(e,t,r,...n)=>"rgb"===e?"ansi16m"===t?l[r].ansi16m(...n):"ansi256"===t?l[r].ansi256(l.rgbToAnsi256(...n)):l[r].ansi(l.rgbToAnsi(...n)):"hex"===e?x("rgb",t,r,...l.hexToRgb(...n)):l[r][e](...n),S=["rgb","hex","ansi256"];for(const e of S){b[e]={get(){const{level:t}=this;return function(...r){const n=k(x(e,v[t],"color",...r),l.color.close,this[m]);return A(this,n,this[g])}}};b["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...r){const n=k(x(e,v[t],"bgColor",...r),l.bgColor.close,this[m]);return A(this,n,this[g])}}}}const E=Object.defineProperties((()=>{}),{...b,level:{enumerable:!0,get(){return this[y].level},set(e){this[y].level=e}}}),k=(e,t,r)=>{let n,o;return void 0===r?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},A=(e,t,r)=>{const n=(...e)=>T(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,E),n[y]=e,n[m]=t,n[g]=r,n},T=(e,t)=>{if(e.level<=0||!t)return e[g]?"":t;let r=e[m];if(void 0===r)return t;const{openAll:n,closeAll:o}=r;if(t.includes(""))for(;void 0!==r;)t=d(t,r.close,r.open),r=r.parent;const i=t.indexOf("\n");return-1!==i&&(t=function(e,t,r,n){let o=0,i="";do{const s="\r"===e[n-1];i+=e.slice(o,s?n-1:n)+t+(s?"\r\n":"\n")+r,o=n+1,n=e.indexOf("\n",o)}while(-1!==n);return i+=e.slice(o),i}(t,o,n,i)),n+t+o};Object.defineProperties(_.prototype,b);const P=_(),O=(_({level:p?p.level:0}),P),C="[",R="]",I="",M=";",D={cursorTo:(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?C+(e+1)+"G":C+(t+1)+";"+(e+1)+"H"},cursorMove:(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let r="";return e<0?r+=C+-e+"D":e>0&&(r+=C+e+"C"),t<0?r+=C+-t+"A":t>0&&(r+=C+t+"B"),r},cursorUp:(e=1)=>C+e+"A",cursorDown:(e=1)=>C+e+"B",cursorForward:(e=1)=>C+e+"C",cursorBackward:(e=1)=>C+e+"D",cursorLeft:"[G",cursorSavePosition:"[s",cursorRestorePosition:"[u",cursorGetPosition:"[6n",cursorNextLine:"[E",cursorPrevLine:"[F",cursorHide:"[?25l",cursorShow:"[?25h",eraseLines:e=>{let t="";for(let r=0;r<e;r++)t+=D.eraseLine+(r<e-1?D.cursorUp():"");return e&&(t+=D.cursorLeft),t},eraseEndLine:"[K",eraseStartLine:"[1K",eraseLine:"[2K",eraseDown:"[J",eraseUp:"[1J",eraseScreen:"[2J",scrollUp:"[S",scrollDown:"[T",clearScreen:"c"};D.clearTerminal=`${D.eraseScreen}${C}3J${C}H`,D.beep=I,D.link=(e,t)=>[R,"8",M,M,t,I,e,R,"8",M,M,I].join(""),D.image=(e,t={})=>{let r=`${R}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+I},D.iTerm={setCwd:(e=process.cwd())=>`${R}50;CurrentDir=${e}${I}`,annotation:(e,t={})=>{let r=`${R}1337;`;const n=void 0!==t.x,o=void 0!==t.y;if((n||o)&&(!n||!o||void 0===t.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+I}};const N=D;var F=r(98567);function j(e,t,{target:r="stdout",...n}={}){return F[r]?N.link(e,t):!1===n.fallback?e:"function"==typeof n.fallback?n.fallback(e,t):`${e} (${t})`}j.isSupported=F.stdout,j.stderr=(e,t,r={})=>j(e,t,{target:"stderr",...r}),j.stderr.isSupported=F.stderr;const{dim:$,red:U,blue:L,green:z,yellow:B,magenta:V,white:G}=O,H={title:U.bold,pathDescription:L.italic,expr:G.italic,type:L.bold,string:z,number:V,primitive:B,dimmed:$,good:z,operator:G,link:L,regex:V.italic},q={};for(const e of Object.keys(H))q[e]=t=>H[e](t);const W={support:Boolean(h&&h.hasBasic),terminalLink:j,style:q};var X=r(53359);const Q=(e=0)=>t=>`[${t+e}m`,K=(e=0)=>t=>`[${38+e};5;${t}m`,J=(e=0)=>(t,r,n)=>`[${38+e};2;${t};${r};${n}m`,Y={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Y.modifier),Object.keys(Y.color),Object.keys(Y.bgColor);const Z=function(){const e=new Map;for(const[t,r]of Object.entries(Y)){for(const[t,n]of Object.entries(r))Y[t]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[t]=Y[t],e.set(n[0],n[1]);Object.defineProperty(Y,t,{value:r,enumerable:!1})}return Object.defineProperty(Y,"codes",{value:e,enumerable:!1}),Y.color.close="[39m",Y.bgColor.close="[49m",Y.color.ansi=Q(),Y.color.ansi256=K(),Y.color.ansi16m=J(),Y.bgColor.ansi=Q(10),Y.bgColor.ansi256=K(10),Y.bgColor.ansi16m=J(10),Object.defineProperties(Y,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map((e=>e+e)).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:e=>Y.rgbToAnsi256(...Y.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,r,n;if(e>=232)t=(10*(e-232)+8)/255,r=t,n=t;else{const o=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(o/6)/5,n=o%6/5}const o=2*Math.max(t,r,n);if(0===o)return 30;let i=30+(Math.round(n)<<2|Math.round(r)<<1|Math.round(t));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>Y.ansi256ToAnsi(Y.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>Y.ansi256ToAnsi(Y.hexToAnsi256(e)),enumerable:!1}}),Y}(),ee=Z,te=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const e=navigator.userAgentData.brands.find((({brand:e})=>"Chromium"===e));if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),re=0!==te&&{level:te,hasBasic:!0,has256:te>=2,has16m:te>=3},ne={stdout:re,stderr:re};function oe(e,t,r){let n=e.indexOf(t);if(-1===n)return e;const o=t.length;let i=0,s="";do{s+=e.slice(i,n)+t+r,i=n+o,n=e.indexOf(t,i)}while(-1!==n);return s+=e.slice(i),s}const{stdout:ie,stderr:se}=ne,ae=Symbol("GENERATOR"),le=Symbol("STYLER"),ce=Symbol("IS_EMPTY"),ue=["ansi","ansi","ansi256","ansi16m"],fe=Object.create(null);class de{constructor(e){return he(e)}}const he=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=ie?ie.level:0;e.level=void 0===t.level?r:t.level})(t,e),Object.setPrototypeOf(t,pe.prototype),t};function pe(e){return he(e)}Object.setPrototypeOf(pe.prototype,Function.prototype);for(const[e,t]of Object.entries(ee))fe[e]={get(){const r=be(this,ve(t.open,t.close,this[le]),this[ce]);return Object.defineProperty(this,e,{value:r}),r}};fe.visible={get(){const e=be(this,this[le],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const ye=(e,t,r,...n)=>"rgb"===e?"ansi16m"===t?ee[r].ansi16m(...n):"ansi256"===t?ee[r].ansi256(ee.rgbToAnsi256(...n)):ee[r].ansi(ee.rgbToAnsi(...n)):"hex"===e?ye("rgb",t,r,...ee.hexToRgb(...n)):ee[r][e](...n),me=["rgb","hex","ansi256"];for(const e of me){fe[e]={get(){const{level:t}=this;return function(...r){const n=ve(ye(e,ue[t],"color",...r),ee.color.close,this[le]);return be(this,n,this[ce])}}};fe["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...r){const n=ve(ye(e,ue[t],"bgColor",...r),ee.bgColor.close,this[le]);return be(this,n,this[ce])}}}}const ge=Object.defineProperties((()=>{}),{...fe,level:{enumerable:!0,get(){return this[ae].level},set(e){this[ae].level=e}}}),ve=(e,t,r)=>{let n,o;return void 0===r?(n=e,o=t):(n=r.openAll+e,o=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:o,parent:r}},be=(e,t,r)=>{const n=(...e)=>we(n,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(n,ge),n[ae]=e,n[le]=t,n[ce]=r,n},we=(e,t)=>{if(e.level<=0||!t)return e[ce]?"":t;let r=e[le];if(void 0===r)return t;const{openAll:n,closeAll:o}=r;if(t.includes(""))for(;void 0!==r;)t=oe(t,r.close,r.open),r=r.parent;const i=t.indexOf("\n");return-1!==i&&(t=function(e,t,r,n){let o=0,i="";do{const s="\r"===e[n-1];i+=e.slice(o,s?n-1:n)+t+(s?"\r\n":"\n")+r,o=n+1,n=e.indexOf("\n",o)}while(-1!==n);return i+=e.slice(o),i}(t,o,n,i)),n+t+o};Object.defineProperties(pe.prototype,fe);pe(),pe({level:se?se.level:0});var _e=r(61e3);const xe=new Set(["as","async","from","get","of","set"]);const Se=/\r\n|[\n\r\u2028\u2029]/,Ee=/^[()[\]{}]$/;let ke;const Ae=function(e){if("IdentifierName"===e.type){if((0,_e.wb)(e.value)||(0,_e.wh)(e.value,!0)||xe.has(e.value))return"keyword";if(e.value[0]!==e.value[0].toLowerCase())return"capitalized"}if("Punctuator"===e.type&&Ee.test(e.value))return"uncolored";if("Invalid"===e.type&&("@"===e.value||"#"===e.value))return"punctuator";switch(e.type){case"NumericLiteral":return"number";case"StringLiteral":case"JSXString":case"NoSubstitutionTemplate":return"string";case"RegularExpressionLiteral":return"regex";case"Punctuator":case"JSXPunctuator":return"punctuator";case"MultiLineComment":case"SingleLineComment":return"comment";case"Invalid":case"JSXInvalid":return"invalid";case"JSXIdentifier":return"jsxIdentifier";default:return"uncolored"}};function Te(e){return!!ie||!!e.forceColor}function Pe(e){return e.forceColor?new de({level:1}):new de}function Oe(e,t={}){if(""!==e&&Te(t)){const r=function(e){return{keyword:e.cyan,capitalized:e.yellow,jsxIdentifier:e.yellow,punctuator:e.yellow,number:e.magenta,string:e.green,regex:e.magenta,comment:e.gray,invalid:e.white.bgRed.bold}}(Pe(t));return function(e,t){let r="";for(const{type:n,value:o}of ke(t)){const t=e[n];r+=t?o.split(Se).map((e=>t(e))).join("\n"):o}return r}(r,e)}return e}ke=function*(e){for(const t of X(e,{jsx:!0}))switch(t.type){case"TemplateHead":yield{type:"string",value:t.value.slice(0,-2)},yield{type:"punctuator",value:"${"};break;case"TemplateMiddle":yield{type:"punctuator",value:"}"},yield{type:"string",value:t.value.slice(1,-2)},yield{type:"punctuator",value:"${"};break;case"TemplateTail":yield{type:"punctuator",value:"}"},yield{type:"string",value:t.value.slice(1)};break;default:yield{type:Ae(t),value:t.value}}};const Ce=/\r\n|[\n\r\u2028\u2029]/;function Re(e,t,r={}){const n=(r.highlightCode||r.forceColor)&&Te(r),o=Pe(r),i=function(e){return{gutter:e.gray,marker:e.red.bold,message:e.red.bold}}(o),s=(e,t)=>n?e(t):t,a=e.split(Ce),{start:l,end:c,markerLines:u}=function(e,t,r){const n={column:0,line:-1,...e.start},o={...n,...e.end},{linesAbove:i=2,linesBelow:s=3}=r||{},a=n.line,l=n.column,c=o.line,u=o.column;let f=Math.max(a-(i+1),0),d=Math.min(t.length,c+s);-1===a&&(f=0),-1===c&&(d=t.length);const h=c-a,p={};if(h)for(let e=0;e<=h;e++){const r=e+a;if(l)if(0===e){const e=t[r-1].length;p[r]=[l,e-l+1]}else if(e===h)p[r]=[0,u];else{const n=t[r-e].length;p[r]=[0,n]}else p[r]=!0}else p[a]=l===u?!l||[l,0]:[l,u-l];return{start:f,end:d,markerLines:p}}(t,a,r),f=t.start&&"number"==typeof t.start.column,d=String(c).length;let h=(n?Oe(e,r):e).split(Ce,c).slice(l,c).map(((e,t)=>{const n=l+1+t,o=` ${` ${n}`.slice(-d)} |`,a=u[n],c=!u[n+1];if(a){let t="";if(Array.isArray(a)){const n=e.slice(0,Math.max(a[0]-1,0)).replace(/[^\t]/g," "),l=a[1]||1;t=["\n ",s(i.gutter,o.replace(/\d/g," "))," ",n,s(i.marker,"^").repeat(l)].join(""),c&&r.message&&(t+=" "+s(i.message,r.message))}return[s(i.marker,">"),s(i.gutter,o),e.length>0?` ${e}`:"",t].join("")}return` ${s(i.gutter,o)}${e.length>0?` ${e}`:""}`})).join("\n");return r.message&&!f&&(h=`${" ".repeat(d+1)}${r.message}\n${h}`),n?o.reset(h):h}function Ie(e){const t=e,r=e,n=e;if(t.path&&Array.isArray(t.path))return t.path;if("string"==typeof r.dotPath)return function(e){if(!e.startsWith(".")&&!e.startsWith("["))throw new SyntaxError(`parsePath(): Invalid dot-path, must begin with "." or "[": ${e}`);if("."===e)return[];const t=()=>{throw new Error(`parsePath(): Invalid dot-path: ${e}`)},r=[],n=(e,t)=>-1===e&&-1===t?-1:-1===e?t:-1===t||e<t?e:t;let o=0;for(;-1!==o&&o<e.length;)if("."===e.charAt(o))if("'"===e.charAt(o+1)){const n=e.indexOf("'",o+2);-1===n&&t(),r.push(e.slice(o+2,n)),o=n+1}else{const t=n(e.indexOf(".",o+1),e.indexOf("[",o+1));r.push(-1===t?e.slice(o+1):e.slice(o+1,t)),o=t}else if(e.charAt(o+1).match(/[0-9]/)){const n=e.indexOf("]",o+1);-1===n&&t(),r.push(e.slice(o+1,n)),o=n+1}else{"'"!==e.charAt(o+1)&&t();const n=e.indexOf("']",o+2);-1===n&&t(),r.push(e.slice(o+2,n)),o=n+2}return r}(r.dotPath);if("string"==typeof n.pointerPath)return function(e){if(!e.startsWith("/"))throw new SyntaxError(`parsePath(): Invalid pointer-path, must begin with "/": ${e}`);return"/"===e?[]:e.slice(1).split("/").map((e=>function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}(e)))}(n.pointerPath);throw new TypeError("parsePath(): Missing path argument")}function Me(e,t){t=Math.min(Math.max(t,0),e.length);const{count:r,lastPos:n}=function(e,t,r){let n=0,o=0,i=0;for(;i<t;){const s=e.indexOf(r,i);if(-1===s||s>=t)break;i=s+1,i<t&&(++n,o=s)}return{count:n,lastPos:o}}(e,t+1,"\n");return{offset:t,line:r+1,column:Math.max(1,t-n+(0===r?1:0))}}function De(e,t){const{jsonDoc:r,jsonString:n}=e,{markIdentifier:o=!1}=t,i=Ie(t).map((e=>`${e}`));if(!r){if(0===i.length)return{start:{offset:0,line:1,column:1},end:{offset:9,line:1,column:10}};throw new Error("No such path in undefined")}const s=e=>`${(e=>"."+i.slice(0,e).join("."))(e)} [query: ${i.join(".")}]`,a=i.reduce(((e,t,r)=>"object"===(null==e?void 0:e.kind)?(()=>{const n=e.children.find((e=>e.keyToken.value===t));if(!n)throw new Error(`No such property ${t} in ${s(r)}`);return o&&r===i.length-1?n:n.valueNode})():"array"===(null==e?void 0:e.kind)?(()=>{const n=Number(t);if(isNaN(n))throw new Error(`Invalid non-numeric array index "${t}" in array at ${s(r)}`);if(n<0||n>=e.children.length)throw new RangeError(`Index ${n} out-of-bounds in array of size ${e.children.length} at ${s(r)}`);return e.children[Number(t)].valueNode})():(()=>{throw new Error(`No such property ${t} in ${s(r)}`)})()),r.root),l="object-property"===a.kind?{start:a.keyToken.offset,end:a.keyToken.offset+a.keyToken.raw.length}:a.range;return{start:Me(n,l.start),end:Me(n,l.end)}}var Ne=r(37172);function Fe(e,t){const r=e[t];return"whitespace"===(null==r?void 0:r.type)?{inc:1,whitespaceToken:r}:{inc:0}}function je(e,t){const r=Fe(e,t),n=e[t+r.inc];return++r.inc,{whitespaceToken:r.whitespaceToken,consumedTokens:r.inc,token:n}}function $e(e,t){return e[t+Fe(e,t).inc]}function Ue(e){return{includeValueTokens:!1,...e}}function Le(e,t=e){return{start:e.offset,end:t.offset+t.raw.length}}function ze(e){return"string"===e.type?{kind:"string",token:e,range:Le(e)}:"number"===e.type?{kind:"number",token:e,range:Le(e)}:{kind:"literal",token:e,range:Le(e)}}function Be(e,t,r,n){const o=e[t];if(!o)throw new Error(`Failed to parse JSON as token pos ${t}`);if(o.type!==r)throw new Error(`Failed to parse JSON at pos ${o.offset}, expected ${r} got ${o.type}`);if(n&&o.value!==n)throw new Error(`Failed to parse JSON at pos ${o.offset} of type ${r}, expected punctuation ${n} got ${o.value}`)}function Ve(e,t){let r=t;const n=Fe(e,r);r+=n.inc,Be(e,r,"punctuator",":");const o=e[r++],i=Fe(e,r);return r+=i.inc,{node:{kind:"object-property-colon",range:Le(e[t],e[r-1]),whitespaceBefore:n.whitespaceToken,punctuatorToken:o,whitespaceAfter:i.whitespaceToken},consumedTokens:r-t}}function Ge(e,t,r){const n=e[t];if("string"===(o=n).type||"number"===o.type||"literal"===o.type)return{consumedTokens:1,node:ze(n)};if("punctuator"===n.type&&"{"===n.value)return function(e,t,r){var n;const o=[];let i,s=t;for(;s<e.length;){const t=e[s],a=$e(e,s);if("punctuator"===a.type&&"}"===a.value){const t=Fe(e,s);i=t.whitespaceToken,s+=t.inc+1;break}const l=Fe(e,s);s+=l.inc,Be(e,s,"string");const c=e[s++],u=Ve(e,s);s+=u.consumedTokens;const f=Ge(e,s,r),d=r.options.includeValueTokens?e.slice(s,s+f.consumedTokens):[];s+=f.consumedTokens;const h=$e(e,s),p="punctuator"===h.type&&","===h.value?je(e,s):{};s+=null!==(n=p.consumedTokens)&&void 0!==n?n:0,o.push({kind:"object-property",range:Le(t,e[s]),whitespaceBefore:l.whitespaceToken,keyToken:c,key:c.value,colon:u.node,valueTokens:d,whitespaceBeforeComma:p.whitespaceToken,comma:p.token,valueNode:f.node})}const a=s-t+1;return{node:{kind:"object",children:o,whitespaceAfterChildren:i,range:Le(e[t-1],e[s-1])},consumedTokens:a}}(e,t+1,r);if("punctuator"===n.type&&"["===n.value)return function(e,t,r){var n;const o=[];let i,s=t;for(;s<e.length;){const t=e[s],a=$e(e,s);if("punctuator"===a.type&&"]"===a.value){const t=Fe(e,s);i=t.whitespaceToken,s+=t.inc+1;break}const l=Fe(e,s);s+=l.inc;const c=Ge(e,s,r),u=r.options.includeValueTokens?e.slice(s,s+c.consumedTokens):[];s+=c.consumedTokens;const f=$e(e,s),d="punctuator"===f.type&&","===f.value?je(e,s):{};s+=null!==(n=d.consumedTokens)&&void 0!==n?n:0,o.push({kind:"array-element",range:Le(t,e[s]),whitespaceBefore:l.whitespaceToken,valueTokens:u,whitespaceBeforeComma:d.whitespaceToken,comma:d.token,valueNode:c.node})}const a=s-t+1;return{node:{kind:"array",children:o,whitespaceAfterChildren:i,range:Le(e[t-1],e[s-1])},consumedTokens:a}}(e,t+1,r);var o;throw new Error(`Failed to parse JSON at pos ${n.offset}`)}function He(e,t){const r=function(e,t){const r={options:Ue(t)};if(0===e.trim().length)throw new Error("Invalid JSON: must not be an empty string");const n=function(e){let t=0;return e.map((e=>{const r=e;return r.offset=t,t+=e.raw.length,r}))}(Ne(e));let o=0;const i=Fe(n,o);o+=i.inc;const{consumedTokens:s,node:a}=Ge(n,o,r),l=r.options.includeValueTokens?n.slice(o,o+s):[];o+=s;const c=Fe(n,o);return o+=c.inc,{root:a,whitespaceBefore:i.whitespaceToken,valueTokens:l,whitespaceAfter:c.whitespaceToken}}(e);return{json:t||JSON.parse(e),jsonString:e,jsonDoc:r}}function qe(e){return null==e?[]:Array.isArray(e)?[...e]:[e]}function We(e){var t;if(!(null!==(t=e.dataPath)&&void 0!==t?t:e.instancePath))return{path:[],simplePath:[]};const r=e.instancePath?Ie({pointerPath:e.instancePath}):(e=>"."===e.charAt(0)||"["===e.charAt(0))(e.dataPath)?Ie({dotPath:e.dataPath}):Ie({pointerPath:e.dataPath}),n=r.map((e=>"number"==typeof e?{key:`${e}`,type:"number"}:{key:e,type:"string"})).filter((e=>""!==e.key)),o=n.map((({key:e})=>e));return{path:n,simplePath:o}}const Xe={width:8,height:5,number:[["  ,--.  "," /    \\ ","|  ()  |"," \\    / ","  `--'  "],["   ,--. ","  /   | ","  `|  | ","   |  | ","   `--' "],["  ,---. "," '.-.  \\","  .-' .'"," /   '-."," '-----'"],[" ,----. "," '.-.  |","   .' < "," /'-'  |"," `----' "],["   ,---.","  /    |"," /  '  |"," '--|  |","    `--'"],[" ,-----."," |  .--'"," '--. `\\"," .--'  /"," `----' "],["   ,--. ","  /  .' "," |  .-. "," \\   o |","  `---' "],[" ,-----."," '--,  /","  .'  / "," /   /  "," `--'   "],["  ,---. "," |  o  |"," .'   '."," |  o  |","  `---' "],["  ,---. "," | o   \\"," `..'  |","  .'  / ","  `--'  "]]},Qe=e=>(""+~~e).length,Ke=" ".repeat(Xe.width);function Je(e){const t=null==e?-1:"number"==typeof e.maxNumber?Qe(e.maxNumber):e.maxWidth,r=t*Xe.width,n=" ".repeat(r);function o(e,r=" "){const n=null==(e=null==e?void 0:~~e)?0===r?-1===t?void 0:Array(t).fill("0").join(""):`${e}`:0===r?Array(t-Qe(e)).fill("0").join("")+e:`${e}`,o=-1===t?"":(e=>{if(e>t)throw new Error("Too wide text");return Ke.repeat(t-e)})(null==n?0:n.length);if(null==n)return Array(Xe.height).fill(o);const i=n.split("").map((e=>Xe.number[Number(e)]));return Array.from({length:Xe.height},((e,t)=>t)).map((e=>o+i.map((t=>t.filter(((t,r)=>r===e)))).join("")))}return{numberWidth:t,charWidth:r,emptyLine:n,print:o,printAsPrefix:function(e,t,r={}){const{fill:i,separator:s=""}=r,a=o(e,i),l=Math.max(a.length,t.length);return Array.from({length:l}).map(((e,r)=>{const o=a.length<=r?n:a[r],i=t.length<=r?"":t[r];return o+s+i}))}}}const Ye=e=>null===e?"null":typeof e,Ze=e=>null==e||"object"!=typeof e?{value:e,type:Ye(e),isSimple:!0}:Array.isArray(e)?{value:"[...]",type:"array",isSimple:!1}:{value:"{...}",type:"object",isSimple:!1},et=({type:e,value:t})=>e+"::"+t;function tt({support:e,style:t,terminalLink:r}){const n=e=>e.path.map((({key:e,type:r})=>"number"===r?t.operator("[")+t.number(e)+t.operator("]"):t.operator(".")+t.string(e))).join(""),o=(e,{untyped:r=!1,includeType:n=!1}={})=>{const o=e.type,i=`${e.value}`,s="string"===o?r?t.pathDescription(i):t.string(`"${i}"`):"number"===o?t.number(i):t.primitive(i);return!n&&e.isSimple?s:s+t.title(" (as ")+t.pathDescription(o)+t.title(")")};return{support:e,style:t,link:(e,n)=>r(t.link(e),n),ensureColorUsage:t=>null==t?e:t,formatDataPath:n,pathDescription:(e,r)=>{const{dataPath:o}=e;if(0===o.path.length)return["",t.expr("root object"),""];return(e=>1===e.path.length?["",n(e),` ${r}`]:[`${r} at `,n(e),""])(o)},printEnum:(e,{indent:t=0,bullet:r=!0}={})=>{const n=0===t?"":" ".repeat(t),o=r?" ":"";return e.map((e=>`${n}    ${o}${e}`))},printError:e=>e.title+"\n\n"+e.codeFrame,formatTypedValue:o,formatValue:(e,t)=>o(Ze(e),t)}}const rt={support:!1,terminalLink:(e,t)=>`${e} (${t})`,style:{title:e=>e,pathDescription:e=>e,expr:e=>e,type:e=>e,string:e=>e,number:e=>e,primitive:e=>e,dimmed:e=>e,good:e=>e,operator:e=>e,link:e=>e,regex:e=>e}};const nt=[],ot=[];function it(e,t){if(e===t)return 0;const r=e;e.length>t.length&&(e=t,t=r);let n=e.length,o=t.length;for(;n>0&&e.charCodeAt(~-n)===t.charCodeAt(~-o);)n--,o--;let i,s,a,l,c=0;for(;c<n&&e.charCodeAt(c)===t.charCodeAt(c);)c++;if(n-=c,o-=c,0===n)return o;let u=0,f=0;for(;u<n;)ot[u]=e.charCodeAt(c+u),nt[u]=++u;for(;f<o;)for(i=t.charCodeAt(c+f),a=f++,s=f,u=0;u<n;u++)l=i===ot[u]?a:a+1,a=nt[u],s=nt[u]=a>s?l>s?s+1:l:l>a?a+1:l;return s}const st=e=>e<3?1:e<5?2:3;function at(e,t,r={}){if(!t)return;e=`${e}`;const{length:n}=e,{limit:o=st,referenceValue:i}=r,s="number"==typeof o?o:o(n),a=[],l=[];t.map((e=>Ze(e))).map((t=>({...t,distance:t.isSimple?it(e,`${t.value}`):1/0}))).sort(((e,t)=>e.distance===t.distance?0:e.distance<t.distance?-1:1)).forEach((({distance:e,type:t,value:r,isSimple:n})=>{-1===s||e<=s?a.push({type:t,value:r,isSimple:n}):l.push({type:t,value:r,isSimple:n})})),l.sort(((e,t)=>`${e.value}`.localeCompare(`${t.value}`)));return{suggestions:a,rest:l,referenceValue:i,best:null==a?void 0:a[0]}}function lt(e,t,r={}){var n,o;if(!e)return"";const{styleManager:{style:i,formatTypedValue:s,printEnum:a}}=t,l=Array.isArray(null==e?void 0:e.rest)?e:void 0,c=null!==(n=null==l?void 0:l.rest)&&void 0!==n?n:[],u=null!==(o=null==l?void 0:l.suggestions)&&void 0!==o?o:e,{untyped:f,referenceValue:d=(null==l?void 0:l.referenceValue),isSuggestion:h,isConst:p=!1}=r,y=void 0===d?void 0:Ye(d),m=e=>void 0!==d&&y!==e.type,g=e=>s(e,{untyped:null!=f&&f,includeType:m(e)}),v=function(e,t){const r=new Set;return e.filter((e=>{const n=t(e);return!r.has(n)&&(r.add(n),!0)}))}(u,et),b=[...v,...c],w=1===b.length?g(b[0]):2===b.length?g(b[0])+i.title(" or ")+g(b[1]):i.title("any of:")+"\n"+a([...v.map((e=>g(e))),...0===c.length?[]:["other available values:",...a(c.map((e=>g(e))),{indent:2,bullet:!1})]]).join("\n"),_=1!==b.length&&!p;return(h?i.title(`, ${_?"did you mean":"it must be"} `):"")+w+(_&&h&&v.length<3?i.title("?"):"")}var ct=r(56239);function ut(e,t=e.dataPath.simplePath){return null===e.data||"object"!=typeof e.data?e.data:ct.get(e.data,function(e){return"/"+e.map((e=>function(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}(e))).join("/")}(t))}function ft(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{keyword:i,typeErrors:s=[]}}=e,[a,l,c]=r(e,"value"),u=ut(e),f=s.map((e=>e.params.type)),d=function(e,t,r){return"string"==typeof e&&t.includes("number")?{type:"number",value:r.styleManager.formatTypedValue({value:e,type:"number",isSimple:!0})}:"number"==typeof e&&t.includes("string")?{type:"string",value:r.styleManager.formatTypedValue({value:`${e}`,type:"string",isSimple:!0})}:void 0}(u,f,e),h=0===s.length?"unknown":lt(f.map((e=>({value:e,type:"string",isSimple:!0}))),e,{untyped:!0});return{title:t.title(`The type of the ${a}`)+l+t.title(`${c} should `)+("not"===i?t.title("NOT be ")+t.pathDescription(Ze(u).type):t.title("be ")+h),codeFrame:n("not"===i?"change this type":"change this value"+(d?" to "+d.value+" (as "+t.pathDescription(d.type)+") perhaps?":""),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}}function dt(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{keyword:i,params:{limit:s}}}=e,[a,l,c]=r(e,"array"),u=ut(e),f=(e,t=Math.abs(u.length-s))=>e+(t>1?"s":""),d=("maxItems"===i?t.expr("should NOT have more than "):t.expr("should have at least "))+t.number(`${s}`)+t.expr(f(" item",s));return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+d,codeFrame:n("maxItems"===i?t.title("Remove ")+t.number(""+(u.length-s))+t.title(f(" item")):t.title("Ensure the array has ")+t.number(""+(s-u.length))+t.title(f(" more item")),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}}function ht(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{params:{comparison:i,limit:s}}}=e,[a,l,c]=r(e,"value"),u=("<="===i?t.expr("less than or equal to"):"<"===i?t.expr("strictly less than"):">="===i?t.expr("greater than or equal to"):">"===i?t.expr("strictly greater than"):t.operator(`${i}`))+t.number(` ${s}`);return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+u,codeFrame:n("Ensure this is "+u,e.parsedJson,{path:o.simplePath,markIdentifier:!1})}}function pt(e){const{styleManager:{style:t,pathDescription:r,formatValue:n,formatTypedValue:o},printCode:i,dataPath:s,error:{params:{allowedValue:a,allowedValues:l}}}=e,c=null!=l?l:[a],u=ut(e),[f,d,h]=r(e,"value"),p=at(u,c,{referenceValue:u}),y=1===c.length&&(null===c[0]||"object"!=typeof c[0]),m=t.title(`The ${f}`)+d+t.title(`${h} cannot be `)+n(u)+lt(p,e,{isSuggestion:!0,isConst:y}),g=i("replace this with "+(y?o(Ze(c[0])):"an allowed value"+(p.best?" e.g. "+function({best:e,referenceValue:t},r){if(!e)return;const n=void 0!==t&&Ye(t)!==e.type;return r.styleManager.formatTypedValue(e,{untyped:!1,includeType:n})}(p,e):"")),e.parsedJson,{path:s.simplePath,markIdentifier:!1});return{title:m,codeFrame:g}}const yt="https://json-schema.org/understanding-json-schema/reference/string.html#format",mt={dateTime:{title:"RFC3339 Section 5.6",url:"https://tools.ietf.org/html/rfc3339#section-5.6"},email:{title:"RFC5322 Section 3.4.1",url:"https://tools.ietf.org/html/rfc5322#section-3.4.1"},idnEmail:{title:"RFC6531",url:"https://tools.ietf.org/html/rfc6531"},hostname:{title:"RFC1034 Section 3.1",url:"https://tools.ietf.org/html/rfc1034#section-3.1"},idnHostname:{title:"RFC5890 Section 2.3.2.3",url:"https://tools.ietf.org/html/rfc5890#section-2.3.2.3"},ipv4:{title:"RFC2673 Section 3.2",url:"https://tools.ietf.org/html/rfc2673#section-3.2"},ipv6:{title:"RFC2373 Section 2.2",url:"https://tools.ietf.org/html/rfc2373#section-2.2"},uri:{title:"RFC3986",url:"https://tools.ietf.org/html/rfc3986"},uriReference:{title:"RFC3986 Section 4.1",url:"https://tools.ietf.org/html/rfc3986#section-4.1"},iri:{title:"RFC3987",url:"https://tools.ietf.org/html/rfc3987"},uriTemplate:{title:"RFC6570",url:"https://tools.ietf.org/html/rfc6570"},jsonPointer:{title:"RFC6901",url:"https://tools.ietf.org/html/rfc6901"},relativeJsonPointer:{title:"Relative JSON Pointers",url:"https://tools.ietf.org/html/draft-handrews-relative-json-pointer-01"},regex:{title:"ECMA 262",url:"https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf"}},gt={"date-time":mt.dateTime,time:mt.dateTime,date:mt.dateTime,email:mt.email,"idn-email":mt.idnEmail,hostname:mt.hostname,"idn-hostname":mt.idnHostname,ipv4:mt.ipv4,ipv6:mt.ipv6,uri:mt.uri,"uri-reference":mt.uriReference,iri:mt.iri,"iri-reference":mt.iri,"uri-template":mt.uriTemplate,"json-pointer":mt.jsonPointer,"relative-json-pointer":mt.relativeJsonPointer,regex:mt.regex};function vt(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{keyword:i,params:{limit:s}}}=e,[a,l,c]=r(e,"string"),u=`${"maxLength"===i?t.expr("at most"):"minLength"===i?t.expr("at least"):"{unknown}"} `+t.number(`${s}`)+t.expr(" characters long");return{title:t.title(`The ${a}`)+l+t.title(`${c} should be `)+u,codeFrame:n("Ensure this is "+u,e.parsedJson,{path:o.simplePath,markIdentifier:!1})}}const bt={unknownError:function(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{message:i,keyword:s}}=e,[a,l,c]=r(e,"property");return{title:t.expr(`[${s}] `)+t.title(`The ${a}`)+l+t.title(`${c} ${i}`),codeFrame:n(i,e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},additionalProperties:function(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{params:{additionalProperty:i}}}=e,[s,a,l]=r(e,"object"),c=function(e,t){let r=e;for(const e of t.path){if(!r.properties||r.type&&"object"!==r.type)return;r="number"===e.type?r.items[Number(e.key)]:r.properties[e.key]}if(r&&"object"==typeof r.properties)return Object.keys(r.properties)}(e.schema,o);return{title:t.title(`The ${s}`)+a+t.title(`${l} should not have the property `)+t.pathDescription(i)+lt(at(i,c),e,{untyped:!0,isSuggestion:!0}),codeFrame:n("remove or rename "+t.pathDescription(`"${i}"`),e.parsedJson,{path:[...o.simplePath,i],markIdentifier:!0})}},anyOf:ft,not:ft,maxItems:dt,minItems:dt,maximum:ht,exclusiveMaximum:ht,minimum:ht,exclusiveMinimum:ht,const:pt,enum:pt,format:function(e){const{styleManager:{style:t,pathDescription:r,link:n},printCode:o,dataPath:i,error:{params:{format:s}}}=e,[a,l,c]=r(e,"value"),u=gt[s],f=u?t.title(" according to ")+n(u.title,u.url)+" ":t.title(", check the ")+n("JSON Schema specification",yt);return{title:t.title(`The ${a}`)+l+t.title(`${c} is not valid `)+t.pathDescription(s)+f,codeFrame:o("ensure this is "+(u?"valid "+n(u.title,u.url):"a valid "+t.pathDescription(s)),e.parsedJson,{path:i.simplePath,markIdentifier:!1})}},if:function(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{params:{failingKeyword:i}}}=e,[s,a,l]=r(e,"value");return{title:t.title("The conditional ")+t.expr(`if/${i}`)+t.title(` on ${s}`)+a+t.title(`${l} is not satisfied (showed in separate error)`)+"\n"+t.title("The ")+t.expr("if")+t.title(" clause references:"),codeFrame:n("Ensure the corresponding "+t.expr(i)+" clause is satisfied",e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},multipleOf:function(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{params:{multipleOf:i}}}=e,[s,a,l]=r(e,"value"),c=t.title("multiple of ")+t.number(`${i}`);return{title:t.title(`The ${s}`)+a+t.title(`${l} should be a `)+c+" "+t.title("(e.g. ")+[0,1,2,3].map((e=>t.number(""+e*i))).concat([t.title("etc")]).join(t.operator(", "))+t.title(")"),codeFrame:n("Ensure this is a "+c,e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},pattern:function(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{params:{pattern:i}}}=e,[s,a,l]=r(e,"string");return{title:t.title(`The ${s}`)+a+t.title(`${l} must match `)+t.regex(i),codeFrame:n("Ensure this matches the regex pattern",e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},required:function(e){const{styleManager:{style:t,pathDescription:r},printCode:n,dataPath:o,error:{params:{missingProperty:i}}}=e,[s,a,l]=r(e,"value");return{title:t.title(`The ${s}`)+a+t.title(`${l} is missing required property `)+t.pathDescription(i),codeFrame:n("add missing property "+t.pathDescription(i),e.parsedJson,{path:o.simplePath,markIdentifier:!1})}},maxLength:vt,minLength:vt,type:function(e){const{styleManager:{style:t,pathDescription:r,formatTypedValue:n},printCode:o,dataPath:i,error:{params:{type:s}}}=e,a=ut(e),[l,c,u]=r(e,"value"),f=function(e,t){const{isSimple:r,type:n}=Ze(e);if(!r)return;const o=(()=>{if("null"===n){if("string"===t)return"null";if("number"===t)return 0;if("boolean"===t)return!1}else if("boolean"===n){if("string"===t)return`${e}`;if("number"===t)return e?1:0;if("null"===t)return e?void 0:null}else if("number"===n){if("string"===t)return`${e}`;if("boolean"===t)return 0!==e&&(1===e||void 0);if("null"===t)return 0===e?null:void 0}else if("string"===n){if("number"===t)return isNaN(Number(e))?void 0:Number(e);if("boolean"===t)return"true"===e||"false"!==e&&void 0;if("null"===t)return"null"===e?null:void 0}})();return void 0!==o?Ze(o):void 0}(a,s),d=void 0===f?"":n(f,{includeType:!0});return{title:t.title(`The type of the ${l}`)+c+t.title(`${u} should be `)+t.pathDescription(s)+(d?t.title(", e.g. ")+d:""),codeFrame:o("Replace this"+(d?" with e.g. "+d:""),e.parsedJson,{path:i.simplePath,markIdentifier:!1})}},uniqueItems:function(e){const{styleManager:{style:t,pathDescription:r,formatValue:n},printCode:o,dataPath:i,error:{params:{i:s,j:a}}}=e,[l,c]=[s,a].sort(),u=ut(e,[...i.simplePath,`${l}`]),[f,d,h]=r(e,"array");return{title:t.title(`The ${f}`)+d+t.title(`${h} should have unique items, but element `)+t.number(`${l}`)+t.title(" and ")+t.number(`${c}`)+t.title(" are identical: ")+n(u),codeFrame:o("Remove element "+t.number(`${l}`)+" or "+t.number(`${c}`),e.parsedJson,{path:i.simplePath,markIdentifier:!1})}}},wt=bt;function _t(e){const t=function(e){var t,r;const n=null!==(t=e.location)&&void 0!==t?t:"node"===e.environment,o=n&&(null!==(r=e.bigNumbers)&&void 0!==r?r:"node"===e.environment),i=function(e,t,r){return(n,o,i)=>e?r(n,o,{colors:t,...i}):""}(n,e.styleManager.support,e.printCode);return{...e,location:n,bigNumbers:o,printCode:i}}(e),{styleManager:r,printCode:n,bigNumbers:o}=t,i=function(e){const t=new Set;return e.filter((e=>"anyOf"===e.keyword)).forEach((r=>{r.typeErrors=e.filter((e=>e.dataPath===r.dataPath&&"type"===e.keyword)),r.typeErrors.forEach((e=>{t.add(e)}))})),e.filter((e=>!t.has(e)))}(qe(t.errors));if(0===i.length)return r.style.good("No errors");const s=function(e,t=4){const r=He(JSON.stringify(null!=e?e:null,null,t));return void 0===e&&(r.json=void 0,r.jsonString="undefined",r.jsonDoc=void 0),r}(t.data,2),a=Je({maxNumber:i.length+1});return i.map(((e,l)=>{const c=function(e){return e.styleManager.printError(function(e){const t=wt[e.error.keyword];return t?t(e):wt.unknownError(e)}(e))}({errors:t.errors,schema:t.schema,data:t.data,styleManager:r,printCode:n,error:e,dataPath:We(e),parsedJson:s}).split("\n");return o&&1!==i.length?a.printAsPrefix(l+1,c,{separator:"  "}).join("\n"):c.join("\n")})).join("\n\n")}const xt=function(e,t,r){const n=tt(e),o=tt(rt),i=e=>n.ensureColorUsage(e)?n:o;return function(e,n){if("function"==typeof e){const o=i(null==n?void 0:n.colors);return _t({errors:qe(e.errors),schema:e.schema,data:null==n?void 0:n.data,styleManager:o,printCode:t,location:null==n?void 0:n.location,bigNumbers:null==n?void 0:n.bigNumbers,environment:r})}{const n=i(null==e?void 0:e.colors);return _t({location:void 0,bigNumbers:void 0,...e,styleManager:n,printCode:t,environment:r})}}}(W,((e,t,{path:r,markIdentifier:n,linesAbove:o=5,linesBelow:i=3,colors:s})=>{const{start:a,end:l}=De(t,{path:r,markIdentifier:n});return a?Re(t.jsonString,{start:a,end:l},{highlightCode:s,message:e,linesAbove:o,linesBelow:i}):`{The path ${r} cannot be found in json}`}),"node")},80129:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(57637);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=10,s=2;function a(e){return l(e,[])}function l(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var r=[].concat(t,[e]),o=function(e){var t=e[String(n.A)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==o){var a=o.call(e);if(a!==e)return"string"==typeof a?a:l(a,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>s)return"[Array]";for(var r=Math.min(i,e.length),n=e.length-r,o=[],a=0;a<r;++a)o.push(l(e[a],t));1===n?o.push("... 1 more item"):n>1&&o.push("... ".concat(n," more items"));return"["+o.join(", ")+"]"}(e,r);return function(e,t){var r=Object.keys(e);if(0===r.length)return"{}";if(t.length>s)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var r=e.constructor.name;if("string"==typeof r&&""!==r)return r}return t}(e)+"]";var n=r.map((function(r){return r+": "+l(e[r],t)}));return"{ "+n.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}},57637:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0},73559:(e,t,r)=>{"use strict";r.d(t,{aZ:()=>i,ou:()=>s,Ll:()=>a});var n=r(57637);function o(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,n.A&&(e.prototype[n.A]=t)}var i=function(){function e(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();o(i);var s=function(){function e(e,t,r,n,o,i,s){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=o,this.value=s,this.prev=i,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function a(e){return null!=e&&"string"==typeof e.kind}o(s)},75995:(e,t,r)=>{"use strict";function n(e){var t=e.split(/\r\n|[\n\r]/g),r=function(e){for(var t,r=!0,n=!0,o=0,i=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:r=!1,n=!0,o=0;break;case 9:case 32:++o;break;default:n&&!r&&(null===i||o<i)&&(i=o),n=!1}return null!==(t=i)&&void 0!==t?t:0}(e);if(0!==r)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var i=0;i<t.length&&o(t[i]);)++i;for(var s=t.length;s>i&&o(t[s-1]);)--s;return t.slice(i,s).join("\n")}function o(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],s="\\"===e[e.length-1],a=!n||i||s||r,l="";return!a||n&&o||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,a&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}r.d(t,{i$:()=>n,yo:()=>i})},43298:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});var n=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"})},11751:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(84705),o=r(75995);function i(e){return(0,n.YR)(e,{leave:s})}var s={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return l(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=u("(",l(e.variableDefinitions,", "),")"),o=l(e.directives," "),i=e.selectionSet;return r||o||n||"query"!==t?l([t,l([r,n]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue,o=e.directives;return t+": "+r+u(" = ",n)+u(" ",l(o," "))},SelectionSet:function(e){return c(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,o=e.directives,i=e.selectionSet,s=u("",t,": ")+r,a=s+u("(",l(n,", "),")");return a.length>80&&(a=s+u("(\n",f(l(n,"\n")),"\n)")),l([a,l(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+u(" ",l(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return l(["...",u("on ",t),l(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(u("(",l(n,", "),")")," ")+"on ".concat(r," ").concat(u("",l(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?(0,o.yo)(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+l(e.values,", ")+"]"},ObjectValue:function(e){return"{"+l(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+u("(",l(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:a((function(e){var t=e.directives,r=e.operationTypes;return l(["schema",l(t," "),c(r)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:a((function(e){return l(["scalar",e.name,l(e.directives," ")]," ")})),ObjectTypeDefinition:a((function(e){var t=e.name,r=e.interfaces,n=e.directives,o=e.fields;return l(["type",t,u("implements ",l(r," & ")),l(n," "),c(o)]," ")})),FieldDefinition:a((function(e){var t=e.name,r=e.arguments,n=e.type,o=e.directives;return t+(h(r)?u("(\n",f(l(r,"\n")),"\n)"):u("(",l(r,", "),")"))+": "+n+u(" ",l(o," "))})),InputValueDefinition:a((function(e){var t=e.name,r=e.type,n=e.defaultValue,o=e.directives;return l([t+": "+r,u("= ",n),l(o," ")]," ")})),InterfaceTypeDefinition:a((function(e){var t=e.name,r=e.interfaces,n=e.directives,o=e.fields;return l(["interface",t,u("implements ",l(r," & ")),l(n," "),c(o)]," ")})),UnionTypeDefinition:a((function(e){var t=e.name,r=e.directives,n=e.types;return l(["union",t,l(r," "),n&&0!==n.length?"= "+l(n," | "):""]," ")})),EnumTypeDefinition:a((function(e){var t=e.name,r=e.directives,n=e.values;return l(["enum",t,l(r," "),c(n)]," ")})),EnumValueDefinition:a((function(e){return l([e.name,l(e.directives," ")]," ")})),InputObjectTypeDefinition:a((function(e){var t=e.name,r=e.directives,n=e.fields;return l(["input",t,l(r," "),c(n)]," ")})),DirectiveDefinition:a((function(e){var t=e.name,r=e.arguments,n=e.repeatable,o=e.locations;return"directive @"+t+(h(r)?u("(\n",f(l(r,"\n")),"\n)"):u("(",l(r,", "),")"))+(n?" repeatable":"")+" on "+l(o," | ")})),SchemaExtension:function(e){var t=e.directives,r=e.operationTypes;return l(["extend schema",l(t," "),c(r)]," ")},ScalarTypeExtension:function(e){return l(["extend scalar",e.name,l(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,o=e.fields;return l(["extend type",t,u("implements ",l(r," & ")),l(n," "),c(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,o=e.fields;return l(["extend interface",t,u("implements ",l(r," & ")),l(n," "),c(o)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return l(["extend union",t,l(r," "),n&&0!==n.length?"= "+l(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return l(["extend enum",t,l(r," "),c(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return l(["extend input",t,l(r," "),c(n)]," ")}};function a(e){return function(t){return l([t.description,e(t)],"\n")}}function l(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(r))&&void 0!==t?t:""}function c(e){return u("{\n",f(l(e,"\n")),"\n}")}function u(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function f(e){return u("  ",e.replace(/\n/g,"\n  "))}function d(e){return-1!==e.indexOf("\n")}function h(e){return null!=e&&e.some(d)}},84705:(e,t,r)=>{"use strict";r.d(t,{YR:()=>a,sP:()=>s});var n=r(80129),o=r(73559),i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},s=Object.freeze({});function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=void 0,c=Array.isArray(e),u=[e],f=-1,d=[],h=void 0,p=void 0,y=void 0,m=[],g=[],v=e;do{var b=++f===u.length,w=b&&0!==d.length;if(b){if(p=0===g.length?void 0:m[m.length-1],h=y,y=g.pop(),w){if(c)h=h.slice();else{for(var _={},x=0,S=Object.keys(h);x<S.length;x++){var E=S[x];_[E]=h[E]}h=_}for(var k=0,A=0;A<d.length;A++){var T=d[A][0],P=d[A][1];c&&(T-=k),c&&null===P?(h.splice(T,1),k++):h[T]=P}}f=a.index,u=a.keys,d=a.edits,c=a.inArray,a=a.prev}else{if(p=y?c?f:u[f]:void 0,null==(h=y?y[p]:v))continue;y&&m.push(p)}var O,C=void 0;if(!Array.isArray(h)){if(!(0,o.Ll)(h))throw new Error("Invalid AST Node: ".concat((0,n.A)(h),"."));var R=l(t,h.kind,b);if(R){if((C=R.call(t,h,p,y,m,g))===s)break;if(!1===C){if(!b){m.pop();continue}}else if(void 0!==C&&(d.push([p,C]),!b)){if(!(0,o.Ll)(C)){m.pop();continue}h=C}}}if(void 0===C&&w&&d.push([p,h]),b)m.pop();else a={inArray:c,index:f,keys:u,edits:d,prev:a},u=(c=Array.isArray(h))?h:null!==(O=r[h.kind])&&void 0!==O?O:[],f=-1,d=[],y&&g.push(y),y=h}while(void 0!==a);return 0!==d.length&&(v=d[d.length-1][1]),v}function l(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var o=r?n.leave:n.enter;if("function"==typeof o)return o}else{var i=r?e.leave:e.enter;if(i){if("function"==typeof i)return i;var s=i[t];if("function"==typeof s)return s}}}},6839:(e,t,r)=>{"use strict";r.d(t,{DX:()=>f,LV:()=>$});var n=r(32453),o=r(37783);let i=null;const s={};let a=1;function l(e){try{return e()}catch(e){}}const c="@wry/context:Slot",u=l((()=>globalThis))||l((()=>global))||Object.create(null),f=u[c]||Array[c]||function(e){try{Object.defineProperty(u,c,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",a++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=i;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===s)break;return e!==i&&(i.slots[this.id]=t),!0}return i&&(i.slots[this.id]=s),!1}getValue(){if(this.hasValue())return i.slots[this.id]}withValue(e,t,r,n){const o={__proto__:null,[this.id]:e},s=i;i={parent:s,slots:o};try{return t.apply(n,r)}finally{i=s}}static bind(e){const t=i;return function(){const r=i;try{return i=t,e.apply(this,arguments)}finally{i=r}}}static noContext(e,t,r){if(!i)return e.apply(r,t);{const n=i;try{return i=null,e.apply(r,t)}finally{i=n}}}}),{bind:d,noContext:h}=f;const p=new f;const{hasOwnProperty:y}=Object.prototype,m=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function g(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const v=[];function b(e,t){if(!e)throw new Error(t||"assertion failure")}function w(e,t){const r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function _(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function x(e){return e.slice(0)}class S{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++S.count}peek(){if(1===this.value.length&&!A(this))return E(this),this.value[0]}recompute(e){return b(!this.recomputing,"already recomputing"),E(this),A(this)?function(e,t){M(e),p.withValue(e,k,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{g(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,A(e))return;P(e)}(e);return _(e.value)}(this,e):_(this.value)}setDirty(){this.dirty||(this.dirty=!0,T(this),g(this))}dispose(){this.setDirty(),M(this),O(this,((e,t)=>{e.setDirty(),D(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=v.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(m(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),v.push(this.deps),this.deps=null)}}function E(e){const t=p.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),A(e)?C(t,e):R(t,e),t}function k(e,t){e.recomputing=!0;const{normalizeResult:r}=e;let n;r&&1===e.value.length&&(n=x(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),r&&n&&!w(n,e.value))try{e.value[0]=r(e.value[0],n[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function A(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function T(e){O(e,C)}function P(e){O(e,R)}function O(e,t){const r=e.parents.size;if(r){const n=m(e.parents);for(let o=0;o<r;++o)t(n[o],e)}}function C(e,t){b(e.childValues.has(t)),b(A(t));const r=!A(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=v.pop()||new Set;e.dirtyChildren.add(t),r&&T(e)}function R(e,t){b(e.childValues.has(t)),b(!A(t));const r=e.childValues.get(t);0===r.length?e.childValues.set(t,x(t.value)):w(r,t.value)||e.setDirty(),I(e,t),A(e)||P(e)}function I(e,t){const r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(v.length<100&&v.push(r),e.dirtyChildren=null))}function M(e){e.childValues.size>0&&e.childValues.forEach(((t,r)=>{D(e,r)})),e.forgetDeps(),b(null===e.dirtyChildren)}function D(e,t){t.parents.delete(e),e.childValues.delete(t),I(e,t)}S.count=0;let N;function F(...e){return(N||(N=new n.b("function"==typeof WeakMap))).lookupArray(e)}const j=new Set;function $(e,{max:t=Math.pow(2,16),keyArgs:r,makeCacheKey:n=F,normalizeResult:i,subscribe:s,cache:a=o.C}=Object.create(null)){const l="function"==typeof a?new a(t,(e=>e.dispose())):a,c=function(){const t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let o=l.get(t);o||(l.set(t,o=new S(e)),o.normalizeResult=i,o.subscribe=s,o.forget=()=>l.delete(t));const a=o.recompute(Array.prototype.slice.call(arguments));return l.set(t,o),j.add(l),p.hasValue()||(j.forEach((e=>e.clean())),j.clear()),a};function u(e){const t=e&&l.get(e);t&&t.setDirty()}function f(e){const t=e&&l.get(e);if(t)return t.peek()}function d(e){return!!e&&l.delete(e)}return Object.defineProperty(c,"size",{get:()=>l.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:t,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:s,cache:l}),c.dirtyKey=u,c.dirty=function(){u(n.apply(null,arguments))},c.peekKey=f,c.peek=function(){return f(n.apply(null,arguments))},c.forgetKey=d,c.forget=function(){return d(n.apply(null,arguments))},c.makeCacheKey=n,c.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(c)}},82807:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});class n{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,r]of e)this.onEviction(t,r.value)}_deleteIfExpired(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const r=t.get(e);return this._getItemValue(e,r)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,r]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,r)&&(yield e)}}for(const e of this.cache){const[t,r]=e;!1===this._deleteIfExpired(t,r)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:r=(this.maxAge===Number.POSITIVE_INFINITY?void 0:Date.now()+this.maxAge)}={}){this.cache.has(e)?this.cache.set(e,{value:t,maxAge:r}):this._set(e,{value:t,expiry:r})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],r=t.length-e;r<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(r>0&&this._emitEvictions(t.slice(0,r)),this.oldCache=new Map(t.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,r]=e;!1===this._deleteIfExpired(t,r)&&(yield[t,r.value])}for(const e of this.oldCache){const[t,r]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,r)&&(yield[t,r.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const r=e[t],[n,o]=r;!1===this._deleteIfExpired(n,o)&&(yield[n,o.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const r=e[t],[n,o]=r;if(!this.cache.has(n)){!1===this._deleteIfExpired(n,o)&&(yield[n,o.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}},61728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DRACOLoader:()=>i});var n=r(68909);const o=new WeakMap;class i extends n.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,o){const i=new n.FileLoader(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{this.parse(e,t,o)}),r,o)}parse(e,t,r=()=>{}){this.decodeDracoFile(e,t,null,null,n.SRGBColorSpace,r).catch(r)}decodeDracoFile(e,t,r,o,i=n.LinearSRGBColorSpace,s=()=>{}){const a={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:i};return this.decodeGeometry(e,a).then(t).catch(s)}decodeGeometry(e,t){const r=JSON.stringify(t);if(o.has(e)){const t=o.get(e);if(t.key===r)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n;const i=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(i,s).then((r=>(n=r,new Promise(((r,o)=>{n._callbacks[i]={resolve:r,reject:o},n.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{n&&i&&this._releaseTask(n,i)})),o.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new n.BufferGeometry;e.index&&t.setIndex(new n.BufferAttribute(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const o=e.attributes[r],i=o.name,s=o.array,a=o.itemSize,l=new n.BufferAttribute(s,a);"color"===i&&(this._assignVertexColorSpace(l,o.vertexColorSpace),l.normalized=s instanceof Float32Array==!1),t.setAttribute(i,l)}return t}_assignVertexColorSpace(e,t){if(t!==n.SRGBColorSpace)return;const r=new n.Color;for(let t=0,o=e.count;t<o;t++)r.fromBufferAttribute(e,t),n.ColorManagement.toWorkingColorSpace(r,n.SRGBColorSpace),e.setXYZ(t,r.r,r.g,r.b)}_loadLibrary(e,t){const r=new n.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise(((t,n)=>{r.load(e,t,void 0,n)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const r=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const n=s.toString(),o=["/* draco decoder */",r,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([o]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const r=t.data;switch(r.type){case"decode":e._callbacks[r.id].resolve(r);break;case"error":e._callbacks[r.id].reject(r);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}function s(){let e,t;function r(e,t,r,n,o,i){const s=i.num_components(),a=r.num_points()*s,l=a*o.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,o),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(r,i,c,l,u);const f=new o(e.HEAPF32.buffer,u,a).slice();return e._free(u),{name:n,array:f,itemSize:s}}onmessage=function(n){const o=n.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const n=o.buffer,i=o.taskConfig;t.then((e=>{const t=e.draco,s=new t.Decoder;try{const e=function(e,t,n,o){const i=o.attributeIDs,s=o.attributeTypes;let a,l;const c=t.GetEncodedGeometryType(n);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,l=t.DecodeArrayToMesh(n,n.byteLength,a);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,l=t.DecodeArrayToPointCloud(n,n.byteLength,a)}if(!l.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const n in i){const l=self[s[n]];let c,f;if(o.useUniqueIDs)f=i[n],c=t.GetAttributeByUniqueId(a,f);else{if(f=t.GetAttributeId(a,e[i[n]]),-1===f)continue;c=t.GetAttribute(a,f)}const d=r(e,t,a,n,l,c);"color"===n&&(d.vertexColorSpace=o.vertexColorSpace),u.attributes.push(d)}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,r){const n=r.num_faces(),o=3*n,i=4*o,s=e._malloc(i);t.GetTrianglesUInt32Array(r,i,s);const a=new Uint32Array(e.HEAPF32.buffer,s,o).slice();return e._free(s),{array:a,itemSize:1}}(e,t,a));return e.destroy(a),u}(t,s,new Int8Array(n),i),a=e.attributes.map((e=>e.array.buffer));e.index&&a.push(e.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:e},a)}catch(e){console.error(e),self.postMessage({type:"error",id:o.id,error:e.message})}finally{t.destroy(s)}}))}}}},17888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GLTFLoader:()=>i});var n=r(68909),o=r(51566);class i extends n.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new f(e)})),this.register((function(e){return new d(e)})),this.register((function(e){return new _(e)})),this.register((function(e){return new x(e)})),this.register((function(e){return new S(e)})),this.register((function(e){return new p(e)})),this.register((function(e){return new y(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new v(e)})),this.register((function(e){return new h(e)})),this.register((function(e){return new w(e)})),this.register((function(e){return new b(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new E(e)})),this.register((function(e){return new k(e)}))}load(e,t,r,o){const i=this;let s;if(""!==this.resourcePath)s=this.resourcePath;else if(""!==this.path){const t=n.LoaderUtils.extractUrlBase(e);s=n.LoaderUtils.resolveURL(t,this.path)}else s=n.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);const a=function(t){o?o(t):console.error(t),i.manager.itemError(e),i.manager.itemEnd(e)},l=new n.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(r){try{i.parse(r,s,(function(r){t(r),i.manager.itemEnd(e)}),a)}catch(e){a(e)}}),r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,n){let o;const i={},s={},l=new TextDecoder;if("string"==typeof e)o=JSON.parse(e);else if(e instanceof ArrayBuffer){if(l.decode(new Uint8Array(e,0,4))===A){try{i[a.KHR_BINARY_GLTF]=new O(e)}catch(e){return void(n&&n(e))}o=JSON.parse(i[a.KHR_BINARY_GLTF].content)}else o=JSON.parse(l.decode(e))}else o=e;if(void 0===o.asset||o.asset.version[0]<2)return void(n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const u=new ee(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](u);t.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[t.name]=t,i[t.name]=!0}if(o.extensionsUsed)for(let e=0;e<o.extensionsUsed.length;++e){const t=o.extensionsUsed[e],r=o.extensionsRequired||[];switch(t){case a.KHR_MATERIALS_UNLIT:i[t]=new c;break;case a.KHR_DRACO_MESH_COMPRESSION:i[t]=new C(o,this.dracoLoader);break;case a.KHR_TEXTURE_TRANSFORM:i[t]=new R;break;case a.KHR_MESH_QUANTIZATION:i[t]=new I;break;default:r.indexOf(t)>=0&&void 0===s[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}u.setExtensions(i),u.setPlugins(s),u.parse(r,n)}parseAsync(e,t){const r=this;return new Promise((function(n,o){r.parse(e,t,n,o)}))}}function s(){let e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const a={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class l{constructor(e){this.parser=e,this.name=a.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,n=t.length;r<n;r++){const n=t[r];n.extensions&&n.extensions[this.name]&&void 0!==n.extensions[this.name].light&&e._addNodeRef(this.cache,n.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let o=t.cache.get(r);if(o)return o;const i=t.json,s=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let a;const l=new n.Color(16777215);void 0!==s.color&&l.setRGB(s.color[0],s.color[1],s.color[2],n.LinearSRGBColorSpace);const c=void 0!==s.range?s.range:0;switch(s.type){case"directional":a=new n.DirectionalLight(l),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new n.PointLight(l),a.distance=c;break;case"spot":a=new n.SpotLight(l),a.distance=c,s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,a.angle=s.spot.outerConeAngle,a.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+s.type)}return a.position.set(0,0,0),X(a,s),void 0!==s.intensity&&(a.intensity=s.intensity),a.name=t.createUniqueName(s.name||"light_"+e),o=Promise.resolve(a),t.cache.add(r,o),o}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,n=r.json.nodes[e],o=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then((function(e){return r._getNodeRef(t.cache,o,e)}))}}class c{constructor(){this.name=a.KHR_MATERIALS_UNLIT}getMaterialType(){return n.MeshBasicMaterial}extendParams(e,t,r){const o=[];e.color=new n.Color(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const t=i.baseColorFactor;e.color.setRGB(t[0],t[1],t[2],n.LinearSRGBColorSpace),e.opacity=t[3]}void 0!==i.baseColorTexture&&o.push(r.assignTexture(e,"map",i.baseColorTexture,n.SRGBColorSpace))}return Promise.all(o)}}class u{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name].emissiveStrength;return void 0!==n&&(t.emissiveIntensity=n),Promise.resolve()}}class f{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&i.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(i.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new n.Vector2(e,e)}return Promise.all(i)}}class d{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_DISPERSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name];return t.dispersion=void 0!==n.dispersion?n.dispersion:0,Promise.resolve()}}class h{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const o=[],i=n.extensions[this.name];return void 0!==i.iridescenceFactor&&(t.iridescence=i.iridescenceFactor),void 0!==i.iridescenceTexture&&o.push(r.assignTexture(t,"iridescenceMap",i.iridescenceTexture)),void 0!==i.iridescenceIor&&(t.iridescenceIOR=i.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==i.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),void 0!==i.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),void 0!==i.iridescenceThicknessTexture&&o.push(r.assignTexture(t,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(o)}}class p{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new n.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=o.extensions[this.name];if(void 0!==s.sheenColorFactor){const e=s.sheenColorFactor;t.sheenColor.setRGB(e[0],e[1],e[2],n.LinearSRGBColorSpace)}return void 0!==s.sheenRoughnessFactor&&(t.sheenRoughness=s.sheenRoughnessFactor),void 0!==s.sheenColorTexture&&i.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,n.SRGBColorSpace)),void 0!==s.sheenRoughnessTexture&&i.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(i)}}class y{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const o=[],i=n.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&o.push(r.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(o)}}class m{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];t.thickness=void 0!==s.thicknessFactor?s.thicknessFactor:0,void 0!==s.thicknessTexture&&i.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return t.attenuationColor=(new n.Color).setRGB(a[0],a[1],a[2],n.LinearSRGBColorSpace),Promise.all(i)}}class g{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const n=r.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}class v{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const i=[],s=o.extensions[this.name];t.specularIntensity=void 0!==s.specularFactor?s.specularFactor:1,void 0!==s.specularTexture&&i.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return t.specularColor=(new n.Color).setRGB(a[0],a[1],a[2],n.LinearSRGBColorSpace),void 0!==s.specularColorTexture&&i.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,n.SRGBColorSpace)),Promise.all(i)}}class b{constructor(e){this.parser=e,this.name=a.EXT_MATERIALS_BUMP}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const o=[],i=n.extensions[this.name];return t.bumpScale=void 0!==i.bumpFactor?i.bumpFactor:1,void 0!==i.bumpTexture&&o.push(r.assignTexture(t,"bumpMap",i.bumpTexture)),Promise.all(o)}}class w{constructor(e){this.parser=e,this.name=a.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const o=[],i=n.extensions[this.name];return void 0!==i.anisotropyStrength&&(t.anisotropy=i.anisotropyStrength),void 0!==i.anisotropyRotation&&(t.anisotropyRotation=i.anisotropyRotation),void 0!==i.anisotropyTexture&&o.push(r.assignTexture(t,"anisotropyMap",i.anisotropyTexture)),Promise.all(o)}}class _{constructor(e){this.parser=e,this.name=a.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const o=n.extensions[this.name],i=t.options.ktx2Loader;if(!i){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,i)}}class x{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_WEBP}loadTexture(e){const t=this.name,r=this.parser,n=r.json,o=n.textures[e];if(!o.extensions||!o.extensions[t])return null;const i=o.extensions[t],s=n.images[i.source];let a=r.textureLoader;if(s.uri){const e=r.options.manager.getHandler(s.uri);null!==e&&(a=e)}return r.loadTextureImage(e,i.source,a)}}class S{constructor(e){this.parser=e,this.name=a.EXT_TEXTURE_AVIF}loadTexture(e){const t=this.name,r=this.parser,n=r.json,o=n.textures[e];if(!o.extensions||!o.extensions[t])return null;const i=o.extensions[t],s=n.images[i.source];let a=r.textureLoader;if(s.uri){const e=r.options.manager.getHandler(s.uri);null!==e&&(a=e)}return r.loadTextureImage(e,i.source,a)}}class E{constructor(e){this.name=a.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const e=r.extensions[this.name],n=this.parser.getDependency("buffer",e.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return n.then((function(t){const r=e.byteOffset||0,n=e.byteLength||0,i=e.count,s=e.byteStride,a=new Uint8Array(t,r,n);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(i,s,a,e.mode,e.filter).then((function(e){return e.buffer})):o.ready.then((function(){const t=new ArrayBuffer(i*s);return o.decodeGltfBuffer(new Uint8Array(t),i,s,a,e.mode,e.filter),t}))}))}return null}}class k{constructor(e){this.name=a.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;const o=t.meshes[r.mesh];for(const e of o.primitives)if(e.mode!==F.TRIANGLES&&e.mode!==F.TRIANGLE_STRIP&&e.mode!==F.TRIANGLE_FAN&&void 0!==e.mode)return null;const i=r.extensions[this.name].attributes,s=[],a={};for(const e in i)s.push(this.parser.getDependency("accessor",i[e]).then((t=>(a[e]=t,a[e]))));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then((e=>{const t=e.pop(),r=t.isGroup?t.children:[t],o=e[0].count,i=[];for(const e of r){const t=new n.Matrix4,r=new n.Vector3,s=new n.Quaternion,l=new n.Vector3(1,1,1),c=new n.InstancedMesh(e.geometry,e.material,o);for(let e=0;e<o;e++)a.TRANSLATION&&r.fromBufferAttribute(a.TRANSLATION,e),a.ROTATION&&s.fromBufferAttribute(a.ROTATION,e),a.SCALE&&l.fromBufferAttribute(a.SCALE,e),c.setMatrixAt(e,t.compose(r,s,l));for(const t in a)if("_COLOR_0"===t){const e=a[t];c.instanceColor=new n.InstancedBufferAttribute(e.array,e.itemSize,e.normalized)}else"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,a[t]);n.Object3D.prototype.copy.call(c,e),this.parser.assignFinalMaterial(c),i.push(c)}return t.isGroup?(t.clear(),t.add(...i),t):i[0]})))}}const A="glTF",T=1313821514,P=5130562;class O{constructor(e){this.name=a.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==A)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,o=new DataView(e,12);let i=0;for(;i<n;){const t=o.getUint32(i,!0);i+=4;const n=o.getUint32(i,!0);if(i+=4,n===T){const n=new Uint8Array(e,12+i,t);this.content=r.decode(n)}else if(n===P){const r=12+i;this.body=e.slice(r,r+t)}i+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class C{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=a.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,o=this.dracoLoader,i=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const e in s){const t=z[e]||e.toLowerCase();a[t]=s[e]}for(const t in e.attributes){const n=z[t]||t.toLowerCase();if(void 0!==s[t]){const o=r.accessors[e.attributes[t]],i=j[o.componentType];c[n]=i.name,l[n]=!0===o.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t,r){o.decodeDracoFile(e,(function(e){for(const t in e.attributes){const r=e.attributes[t],n=l[t];void 0!==n&&(r.normalized=n)}t(e)}),a,c,n.LinearSRGBColorSpace,r)}))}))}}class R{constructor(){this.name=a.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&t.texCoord!==e.channel||void 0!==t.offset||void 0!==t.rotation||void 0!==t.scale?(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0,e):e}}class I{constructor(){this.name=a.KHR_MESH_QUANTIZATION}}class M extends n.Interpolant{constructor(e,t,r,n){super(e,t,r,n)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,o=e*n*3+n;for(let e=0;e!==n;e++)t[e]=r[o+e];return t}interpolate_(e,t,r,n){const o=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=2*s,l=3*s,c=n-t,u=(r-t)/c,f=u*u,d=f*u,h=e*l,p=h-l,y=-2*d+3*f,m=d-f,g=1-y,v=m-f+u;for(let e=0;e!==s;e++){const t=i[p+e+s],r=i[p+e+a]*c,n=i[h+e+s],l=i[h+e]*c;o[e]=g*t+v*r+y*n+m*l}return o}}const D=new n.Quaternion;class N extends M{interpolate_(e,t,r,n){const o=super.interpolate_(e,t,r,n);return D.fromArray(o).normalize().toArray(o),o}}const F={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},j={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},U={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},L={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},B={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},V={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},G="OPAQUE",H="MASK",q="BLEND";function W(e,t,r){for(const n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function X(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Q(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){const r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(let t=0,n=r.length;t<n;t++)e.morphTargetDictionary[r[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function K(e){let t;const r=e.extensions&&e.extensions[a.KHR_DRACO_MESH_COMPRESSION];if(t=r?"draco:"+r.bufferView+":"+r.indices+":"+J(r.attributes):e.indices+":"+J(e.attributes)+":"+e.mode,void 0!==e.targets)for(let r=0,n=e.targets.length;r<n;r++)t+=":"+J(e.targets[r]);return t}function J(e){let t="";const r=Object.keys(e).sort();for(let n=0,o=r.length;n<o;n++)t+=r[n]+":"+e[r[n]]+";";return t}function Y(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Z=new n.Matrix4;class ee{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new s,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=-1,i=!1,a=-1;if("undefined"!=typeof navigator){const e=navigator.userAgent;r=!0===/^((?!chrome|android).)*safari/i.test(e);const t=e.match(/Version\/(\d+)/);o=r&&t?parseInt(t[1],10):-1,i=e.indexOf("Firefox")>-1,a=i?e.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||r&&o<17||i&&a<98?this.textureLoader=new n.TextureLoader(this.options.manager):this.textureLoader=new n.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,n=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(t){const i={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};return W(o,i,n),X(i,n),Promise.all(r._invokeAll((function(e){return e.afterRoot&&e.afterRoot(i)}))).then((function(){for(const e of i.scenes)e.updateMatrixWorld();e(i)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let r=0,n=t.length;r<n;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let t=0,n=e.length;t<n;t++){const n=e[t];void 0!==n.mesh&&(this._addNodeRef(this.meshCache,n.mesh),void 0!==n.skin&&(r[n.mesh].isSkinnedMesh=!0)),void 0!==n.camera&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const n=r.clone(),o=(e,t)=>{const r=this.associations.get(e);null!=r&&this.associations.set(t,r);for(const[r,n]of e.children.entries())o(n,t.children[r])};return o(r,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const n=e(t[r]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let n=0;n<t.length;n++){const o=e(t[n]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne((function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)})),!n)throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[a.KHR_BINARY_GLTF].body);const o=this.options;return new Promise((function(e,i){r.load(n.LoaderUtils.resolveURL(t.uri,o.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))}loadAccessor(e){const t=this,r=this.json,o=this.json.accessors[e];if(void 0===o.bufferView&&void 0===o.sparse){const e=L[o.type],t=j[o.componentType],r=!0===o.normalized,i=new t(o.count*e);return Promise.resolve(new n.BufferAttribute(i,e,r))}const i=[];return void 0!==o.bufferView?i.push(this.getDependency("bufferView",o.bufferView)):i.push(null),void 0!==o.sparse&&(i.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(i).then((function(e){const i=e[0],s=L[o.type],a=j[o.componentType],l=a.BYTES_PER_ELEMENT,c=l*s,u=o.byteOffset||0,f=void 0!==o.bufferView?r.bufferViews[o.bufferView].byteStride:void 0,d=!0===o.normalized;let h,p;if(f&&f!==c){const e=Math.floor(u/f),r="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+e+":"+o.count;let c=t.cache.get(r);c||(h=new a(i,e*f,o.count*f/l),c=new n.InterleavedBuffer(h,f/l),t.cache.add(r,c)),p=new n.InterleavedBufferAttribute(c,s,u%f/l,d)}else h=null===i?new a(o.count*s):new a(i,u,o.count*s),p=new n.BufferAttribute(h,s,d);if(void 0!==o.sparse){const t=L.SCALAR,r=j[o.sparse.indices.componentType],l=o.sparse.indices.byteOffset||0,c=o.sparse.values.byteOffset||0,u=new r(e[1],l,o.sparse.count*t),f=new a(e[2],c,o.sparse.count*s);null!==i&&(p=new n.BufferAttribute(p.array.slice(),p.itemSize,p.normalized)),p.normalized=!1;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(p.setX(t,f[e*s]),s>=2&&p.setY(t,f[e*s+1]),s>=3&&p.setZ(t,f[e*s+2]),s>=4&&p.setW(t,f[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}p.normalized=d}return p}))}loadTexture(e){const t=this.json,r=this.options,n=t.textures[e].source,o=t.images[n];let i=this.textureLoader;if(o.uri){const e=r.manager.getHandler(o.uri);null!==e&&(i=e)}return this.loadTextureImage(e,n,i)}loadTextureImage(e,t,r){const o=this,i=this.json,s=i.textures[e],a=i.images[t],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then((function(t){t.flipY=!1,t.name=s.name||a.name||"",""===t.name&&"string"==typeof a.uri&&!1===a.uri.startsWith("data:image/")&&(t.name=a.uri);const r=(i.samplers||{})[s.sampler]||{};return t.magFilter=$[r.magFilter]||n.LinearFilter,t.minFilter=$[r.minFilter]||n.LinearMipmapLinearFilter,t.wrapS=U[r.wrapS]||n.RepeatWrapping,t.wrapT=U[r.wrapT]||n.RepeatWrapping,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==n.NearestFilter&&t.minFilter!==n.LinearFilter,o.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,o=this.json,i=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((e=>e.clone()));const s=o.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(void 0!==s.bufferView)l=r.getDependency("bufferView",s.bufferView).then((function(e){c=!0;const t=new Blob([e],{type:s.mimeType});return l=a.createObjectURL(t),l}));else if(void 0===s.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then((function(e){return new Promise((function(r,o){let s=r;!0===t.isImageBitmapLoader&&(s=function(e){const t=new n.Texture(e);t.needsUpdate=!0,r(t)}),t.load(n.LoaderUtils.resolveURL(e,i.path),s,void 0,o)}))})).then((function(e){var t;return!0===c&&a.revokeObjectURL(l),X(e,s),e.userData.mimeType=s.mimeType||((t=s.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),e}));return this.sourceCache[e]=u,u}assignTexture(e,t,r,n){const o=this;return this.getDependency("texture",r.index).then((function(i){if(!i)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((i=i.clone()).channel=r.texCoord),o.extensions[a.KHR_TEXTURE_TRANSFORM]){const e=void 0!==r.extensions?r.extensions[a.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=o.associations.get(i);i=o.extensions[a.KHR_TEXTURE_TRANSFORM].extendTexture(i,e),o.associations.set(i,t)}}return void 0!==n&&(i.colorSpace=n),e[t]=i,i}))}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const o=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,s=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+r.uuid;let t=this.cache.get(e);t||(t=new n.PointsMaterial,n.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,t.sizeAttenuation=!1,this.cache.add(e,t)),r=t}else if(e.isLine){const e="LineBasicMaterial:"+r.uuid;let t=this.cache.get(e);t||(t=new n.LineBasicMaterial,n.Material.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,this.cache.add(e,t)),r=t}if(o||i||s){let e="ClonedMaterial:"+r.uuid+":";o&&(e+="derivative-tangents:"),i&&(e+="vertex-colors:"),s&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=r.clone(),i&&(t.vertexColors=!0),s&&(t.flatShading=!0),o&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(r))),r=t}e.material=r}getMaterialType(){return n.MeshStandardMaterial}loadMaterial(e){const t=this,r=this.json,o=this.extensions,i=r.materials[e];let s;const l={},c=[];if((i.extensions||{})[a.KHR_MATERIALS_UNLIT]){const e=o[a.KHR_MATERIALS_UNLIT];s=e.getMaterialType(),c.push(e.extendParams(l,i,t))}else{const r=i.pbrMetallicRoughness||{};if(l.color=new n.Color(1,1,1),l.opacity=1,Array.isArray(r.baseColorFactor)){const e=r.baseColorFactor;l.color.setRGB(e[0],e[1],e[2],n.LinearSRGBColorSpace),l.opacity=e[3]}void 0!==r.baseColorTexture&&c.push(t.assignTexture(l,"map",r.baseColorTexture,n.SRGBColorSpace)),l.metalness=void 0!==r.metallicFactor?r.metallicFactor:1,l.roughness=void 0!==r.roughnessFactor?r.roughnessFactor:1,void 0!==r.metallicRoughnessTexture&&(c.push(t.assignTexture(l,"metalnessMap",r.metallicRoughnessTexture)),c.push(t.assignTexture(l,"roughnessMap",r.metallicRoughnessTexture))),s=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)}))))}!0===i.doubleSided&&(l.side=n.DoubleSide);const u=i.alphaMode||G;if(u===q?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,u===H&&(l.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&s!==n.MeshBasicMaterial&&(c.push(t.assignTexture(l,"normalMap",i.normalTexture)),l.normalScale=new n.Vector2(1,1),void 0!==i.normalTexture.scale)){const e=i.normalTexture.scale;l.normalScale.set(e,e)}if(void 0!==i.occlusionTexture&&s!==n.MeshBasicMaterial&&(c.push(t.assignTexture(l,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(l.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&s!==n.MeshBasicMaterial){const e=i.emissiveFactor;l.emissive=(new n.Color).setRGB(e[0],e[1],e[2],n.LinearSRGBColorSpace)}return void 0!==i.emissiveTexture&&s!==n.MeshBasicMaterial&&c.push(t.assignTexture(l,"emissiveMap",i.emissiveTexture,n.SRGBColorSpace)),Promise.all(c).then((function(){const r=new s(l);return i.name&&(r.name=i.name),X(r,i),t.associations.set(r,{materials:e}),i.extensions&&W(o,r,i),r}))}createUniqueName(e){const t=n.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,o=this.primitiveCache;function i(e){return r[a.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return te(r,e,t)}))}const s=[];for(let r=0,l=e.length;r<l;r++){const l=e[r],c=K(l),u=o[c];if(u)s.push(u.promise);else{let e;e=l.extensions&&l.extensions[a.KHR_DRACO_MESH_COMPRESSION]?i(l):te(new n.BufferGeometry,l,t),o[c]={primitive:l,promise:e},s.push(e)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],a=s.primitives,l=[];for(let e=0,t=a.length;e<t;e++){const t=void 0===a[e].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),c.DefaultMaterial):this.getDependency("material",a[e].material);l.push(t)}var c;return l.push(t.loadGeometries(a)),Promise.all(l).then((function(r){const l=r.slice(0,r.length-1),c=r[r.length-1],u=[];for(let r=0,f=c.length;r<f;r++){const f=c[r],d=a[r];let h;const p=l[r];if(d.mode===F.TRIANGLES||d.mode===F.TRIANGLE_STRIP||d.mode===F.TRIANGLE_FAN||void 0===d.mode)h=!0===s.isSkinnedMesh?new n.SkinnedMesh(f,p):new n.Mesh(f,p),!0===h.isSkinnedMesh&&h.normalizeSkinWeights(),d.mode===F.TRIANGLE_STRIP?h.geometry=(0,o.toTrianglesDrawMode)(h.geometry,n.TriangleStripDrawMode):d.mode===F.TRIANGLE_FAN&&(h.geometry=(0,o.toTrianglesDrawMode)(h.geometry,n.TriangleFanDrawMode));else if(d.mode===F.LINES)h=new n.LineSegments(f,p);else if(d.mode===F.LINE_STRIP)h=new n.Line(f,p);else if(d.mode===F.LINE_LOOP)h=new n.LineLoop(f,p);else{if(d.mode!==F.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);h=new n.Points(f,p)}Object.keys(h.geometry.morphAttributes).length>0&&Q(h,s),h.name=t.createUniqueName(s.name||"mesh_"+e),X(h,s),d.extensions&&W(i,h,d),t.assignFinalMaterial(h),u.push(h)}for(let r=0,n=u.length;r<n;r++)t.associations.set(u[r],{meshes:e,primitives:r});if(1===u.length)return s.extensions&&W(i,u[0],s),u[0];const f=new n.Group;s.extensions&&W(i,f,s),t.associations.set(f,{meshes:e});for(let e=0,t=u.length;e<t;e++)f.add(u[e]);return f}))}loadCamera(e){let t;const r=this.json.cameras[e],o=r[r.type];if(o)return"perspective"===r.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===r.type&&(t=new n.OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),X(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],r=[];for(let e=0,n=t.joints.length;e<n;e++)r.push(this._loadNodeShallow(t.joints[e]));return void 0!==t.inverseBindMatrices?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then((function(e){const r=e.pop(),o=e,i=[],s=[];for(let e=0,a=o.length;e<a;e++){const a=o[e];if(a){i.push(a);const t=new n.Matrix4;null!==r&&t.fromArray(r.array,16*e),s.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new n.Skeleton(i,s)}))}loadAnimation(e){const t=this.json,r=this,o=t.animations[e],i=o.name?o.name:"animation_"+e,s=[],a=[],l=[],c=[],u=[];for(let e=0,t=o.channels.length;e<t;e++){const t=o.channels[e],r=o.samplers[t.sampler],n=t.target,i=n.node,f=void 0!==o.parameters?o.parameters[r.input]:r.input,d=void 0!==o.parameters?o.parameters[r.output]:r.output;void 0!==n.node&&(s.push(this.getDependency("node",i)),a.push(this.getDependency("accessor",f)),l.push(this.getDependency("accessor",d)),c.push(r),u.push(n))}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then((function(e){const t=e[0],o=e[1],s=e[2],a=e[3],l=e[4],c=[];for(let e=0,n=t.length;e<n;e++){const n=t[e],i=o[e],u=s[e],f=a[e],d=l[e];if(void 0===n)continue;n.updateMatrix&&n.updateMatrix();const h=r._createAnimationTracks(n,i,u,f,d);if(h)for(let e=0;e<h.length;e++)c.push(h[e])}return new n.AnimationClip(i,void 0,c)}))}createNodeMesh(e){const t=this.json,r=this,n=t.nodes[e];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then((function(e){const t=r._getNodeRef(r.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,r=n.weights.length;t<r;t++)e.morphTargetInfluences[t]=n.weights[t]})),t}))}loadNode(e){const t=this,r=this.json.nodes[e],n=t._loadNodeShallow(e),o=[],i=r.children||[];for(let e=0,r=i.length;e<r;e++)o.push(t.getDependency("node",i[e]));const s=void 0===r.skin?Promise.resolve(null):t.getDependency("skin",r.skin);return Promise.all([n,Promise.all(o),s]).then((function(e){const t=e[0],r=e[1],n=e[2];null!==n&&t.traverse((function(e){e.isSkinnedMesh&&e.bind(n,Z)}));for(let e=0,n=r.length;e<n;e++)t.add(r[e]);return t}))}_loadNodeShallow(e){const t=this.json,r=this.extensions,o=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];const i=t.nodes[e],s=i.name?o.createUniqueName(i.name):"",a=[],l=o._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return l&&a.push(l),void 0!==i.camera&&a.push(o.getDependency("camera",i.camera).then((function(e){return o._getNodeRef(o.cameraCache,i.camera,e)}))),o._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){a.push(e)})),this.nodeCache[e]=Promise.all(a).then((function(t){let a;if(a=!0===i.isBone?new n.Bone:t.length>1?new n.Group:1===t.length?t[0]:new n.Object3D,a!==t[0])for(let e=0,r=t.length;e<r;e++)a.add(t[e]);if(i.name&&(a.userData.name=i.name,a.name=s),X(a,i),i.extensions&&W(r,a,i),void 0!==i.matrix){const e=new n.Matrix4;e.fromArray(i.matrix),a.applyMatrix4(e)}else void 0!==i.translation&&a.position.fromArray(i.translation),void 0!==i.rotation&&a.quaternion.fromArray(i.rotation),void 0!==i.scale&&a.scale.fromArray(i.scale);return o.associations.has(a)||o.associations.set(a,{}),o.associations.get(a).nodes=e,a})),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],o=this,i=new n.Group;r.name&&(i.name=o.createUniqueName(r.name)),X(i,r),r.extensions&&W(t,i,r);const s=r.nodes||[],a=[];for(let e=0,t=s.length;e<t;e++)a.push(o.getDependency("node",s[e]));return Promise.all(a).then((function(e){for(let t=0,r=e.length;t<r;t++)i.add(e[t]);return o.associations=(e=>{const t=new Map;for(const[e,r]of o.associations)(e instanceof n.Material||e instanceof n.Texture)&&t.set(e,r);return e.traverse((e=>{const r=o.associations.get(e);null!=r&&t.set(e,r)})),t})(i),i}))}_createAnimationTracks(e,t,r,o,i){const s=[],a=e.name?e.name:e.uuid,l=[];let c;switch(B[i.path]===B.weights?e.traverse((function(e){e.morphTargetInfluences&&l.push(e.name?e.name:e.uuid)})):l.push(a),B[i.path]){case B.weights:c=n.NumberKeyframeTrack;break;case B.rotation:c=n.QuaternionKeyframeTrack;break;case B.translation:case B.scale:c=n.VectorKeyframeTrack;break;default:if(1===r.itemSize)c=n.NumberKeyframeTrack;else c=n.VectorKeyframeTrack}const u=void 0!==o.interpolation?V[o.interpolation]:n.InterpolateLinear,f=this._getArrayFromAccessor(r);for(let e=0,r=l.length;e<r;e++){const r=new c(l[e]+"."+B[i.path],t.array,f,u);"CUBICSPLINE"===o.interpolation&&this._createCubicSplineTrackInterpolant(r),s.push(r)}return s}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const e=Y(t.constructor),r=new Float32Array(t.length);for(let n=0,o=t.length;n<o;n++)r[n]=t[n]*e;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(e){return new(this instanceof n.QuaternionKeyframeTrack?N:M)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function te(e,t,r){const o=t.attributes,i=[];function s(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(const t in o){const r=z[t]||t.toLowerCase();r in e.attributes||i.push(s(o[t],r))}if(void 0!==t.indices&&!e.index){const n=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(n)}return n.ColorManagement.workingColorSpace!==n.LinearSRGBColorSpace&&"COLOR_0"in o&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${n.ColorManagement.workingColorSpace}" not supported.`),X(e,t),function(e,t,r){const o=t.attributes,i=new n.Box3;if(void 0===o.POSITION)return;{const e=r.json.accessors[o.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(i.set(new n.Vector3(t[0],t[1],t[2]),new n.Vector3(s[0],s[1],s[2])),e.normalized){const t=Y(j[e.componentType]);i.min.multiplyScalar(t),i.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new n.Vector3,t=new n.Vector3;for(let n=0,o=s.length;n<o;n++){const o=s[n];if(void 0!==o.POSITION){const n=r.json.accessors[o.POSITION],i=n.min,s=n.max;if(void 0!==i&&void 0!==s){if(t.setX(Math.max(Math.abs(i[0]),Math.abs(s[0]))),t.setY(Math.max(Math.abs(i[1]),Math.abs(s[1]))),t.setZ(Math.max(Math.abs(i[2]),Math.abs(s[2]))),n.normalized){const e=Y(j[n.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(e)}e.boundingBox=i;const a=new n.Sphere;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=a}(e,t,r),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,r){let n=!1,o=!1,i=!1;for(let e=0,r=t.length;e<r;e++){const r=t[e];if(void 0!==r.POSITION&&(n=!0),void 0!==r.NORMAL&&(o=!0),void 0!==r.COLOR_0&&(i=!0),n&&o&&i)break}if(!n&&!o&&!i)return Promise.resolve(e);const s=[],a=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(n){const t=void 0!==u.POSITION?r.getDependency("accessor",u.POSITION):e.attributes.position;s.push(t)}if(o){const t=void 0!==u.NORMAL?r.getDependency("accessor",u.NORMAL):e.attributes.normal;a.push(t)}if(i){const t=void 0!==u.COLOR_0?r.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then((function(t){const r=t[0],s=t[1],a=t[2];return n&&(e.morphAttributes.position=r),o&&(e.morphAttributes.normal=s),i&&(e.morphAttributes.color=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}},9289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SVGLoader:()=>i});var n=r(68909);const o=n.SRGBColorSpace;class i extends n.Loader{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,r,o){const i=this,s=new n.FileLoader(i.manager);s.setPath(i.path),s.setRequestHeader(i.requestHeader),s.setWithCredentials(i.withCredentials),s.load(e,(function(r){try{t(i.parse(r))}catch(t){o?o(t):console.error(t),i.manager.itemError(e)}}),r,o)}parse(e){const t=this;function r(e,t,r,n,o,s,a,l){if(0==t||0==r)return void e.lineTo(l.x,l.y);n=n*Math.PI/180,t=Math.abs(t),r=Math.abs(r);const c=(a.x-l.x)/2,u=(a.y-l.y)/2,f=Math.cos(n)*c+Math.sin(n)*u,d=-Math.sin(n)*c+Math.cos(n)*u;let h=t*t,p=r*r;const y=f*f,m=d*d,g=y/h+m/p;if(g>1){const e=Math.sqrt(g);h=(t*=e)*t,p=(r*=e)*r}const v=h*m+p*y,b=(h*p-v)/v;let w=Math.sqrt(Math.max(0,b));o===s&&(w=-w);const _=w*t*d/r,x=-w*r*f/t,S=Math.cos(n)*_-Math.sin(n)*x+(a.x+l.x)/2,E=Math.sin(n)*_+Math.cos(n)*x+(a.y+l.y)/2,k=i(1,0,(f-_)/t,(d-x)/r),A=i((f-_)/t,(d-x)/r,(-f-_)/t,(-d-x)/r)%(2*Math.PI);e.currentPath.absellipse(S,E,t,r,k,k+A,0===s,n)}function i(e,t,r,n){const o=e*r+t*n,i=Math.sqrt(e*e+t*t)*Math.sqrt(r*r+n*n);let s=Math.acos(Math.max(-1,Math.min(1,o/i)));return e*n-t*r<0&&(s=-s),s}function s(e,t){t=Object.assign({},t);let r={};if(e.hasAttribute("class")){const t=e.getAttribute("class").split(/\s/).filter(Boolean).map((e=>e.trim()));for(let e=0;e<t.length;e++)r=Object.assign(r,g["."+t[e]])}function n(n,o,i){void 0===i&&(i=function(e){return e.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),e}),e.hasAttribute(n)&&(t[o]=i(e.getAttribute(n))),r[n]&&(t[o]=i(r[n])),e.style&&""!==e.style[n]&&(t[o]=i(e.style[n]))}function o(e){return Math.max(0,Math.min(1,f(e)))}function i(e){return Math.max(0,f(e))}return e.hasAttribute("id")&&(r=Object.assign(r,g["#"+e.getAttribute("id")])),n("fill","fill"),n("fill-opacity","fillOpacity",o),n("fill-rule","fillRule"),n("opacity","opacity",o),n("stroke","stroke"),n("stroke-opacity","strokeOpacity",o),n("stroke-width","strokeWidth",i),n("stroke-linejoin","strokeLineJoin"),n("stroke-linecap","strokeLineCap"),n("stroke-miterlimit","strokeMiterLimit",i),n("visibility","visibility"),t}function a(e,t){return e-(t-e)}function l(e,t,r){if("string"!=typeof e)throw new TypeError("Invalid input: "+typeof e);const n={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let o=0,i=!0,s="",a="";const l=[];function c(e,t,r){const n=new SyntaxError('Unexpected character "'+e+'" at index '+t+".");throw n.partial=r,n}function u(){""!==s&&(""===a?l.push(Number(s)):l.push(Number(s)*Math.pow(10,Number(a)))),s="",a=""}let f;const d=e.length;for(let h=0;h<d;h++)if(f=e[h],Array.isArray(t)&&t.includes(l.length%r)&&n.FLAGS.test(f))o=1,s=f,u();else{if(0===o){if(n.WHITESPACE.test(f))continue;if(n.DIGIT.test(f)||n.SIGN.test(f)){o=1,s=f;continue}if(n.POINT.test(f)){o=2,s=f;continue}n.COMMA.test(f)&&(i&&c(f,h,l),i=!0)}if(1===o){if(n.DIGIT.test(f)){s+=f;continue}if(n.POINT.test(f)){s+=f,o=2;continue}if(n.EXP.test(f)){o=3;continue}n.SIGN.test(f)&&1===s.length&&n.SIGN.test(s[0])&&c(f,h,l)}if(2===o){if(n.DIGIT.test(f)){s+=f;continue}if(n.EXP.test(f)){o=3;continue}n.POINT.test(f)&&"."===s[s.length-1]&&c(f,h,l)}if(3===o){if(n.DIGIT.test(f)){a+=f;continue}if(n.SIGN.test(f)){if(""===a){a+=f;continue}1===a.length&&n.SIGN.test(a)&&c(f,h,l)}}n.WHITESPACE.test(f)?(u(),o=0,i=!1):n.COMMA.test(f)?(u(),o=0,i=!0):n.SIGN.test(f)?(u(),o=1,s=f):n.POINT.test(f)?(u(),o=2,s=f):c(f,h,l)}return u(),l}const c=["mm","cm","in","pt","pc","px"],u={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function f(e){let r,n="px";if("string"==typeof e||e instanceof String)for(let t=0,r=c.length;t<r;t++){const r=c[t];if(e.endsWith(r)){n=r,e=e.substring(0,e.length-r.length);break}}return"px"===n&&"px"!==t.defaultUnit?r=u.in[t.defaultUnit]/t.defaultDPI:(r=u[n][t.defaultUnit],r<0&&(r=u[n].in*t.defaultDPI)),r*parseFloat(e)}function d(e){const t=e.elements;return t[0]*t[4]-t[1]*t[3]<0}function h(e){const t=e.elements,r=t[0]*t[3]+t[1]*t[4];if(0===r)return!1;const n=p(e),o=y(e);return Math.abs(r/(n*o))>Number.EPSILON}function p(e){const t=e.elements;return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(e){const t=e.elements;return Math.sqrt(t[3]*t[3]+t[4]*t[4])}const m=[],g={},v=[],b=new n.Matrix3,w=new n.Matrix3,_=new n.Matrix3,x=new n.Matrix3,S=new n.Vector2,E=new n.Vector3,k=new n.Matrix3,A=(new DOMParser).parseFromString(e,"image/svg+xml");!function e(t,i){if(1!==t.nodeType)return;const c=function(e){if(!(e.hasAttribute("transform")||"use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))))return null;const t=function(e){const t=new n.Matrix3,r=b;if("use"===e.nodeName&&(e.hasAttribute("x")||e.hasAttribute("y"))){const r=f(e.getAttribute("x")),n=f(e.getAttribute("y"));t.translate(r,n)}if(e.hasAttribute("transform")){const n=e.getAttribute("transform").split(")");for(let e=n.length-1;e>=0;e--){const o=n[e].trim();if(""===o)continue;const i=o.indexOf("("),s=o.length;if(i>0&&i<s){const e=o.slice(0,i),t=l(o.slice(i+1));switch(r.identity(),e){case"translate":if(t.length>=1){const e=t[0];let n=0;t.length>=2&&(n=t[1]),r.translate(e,n)}break;case"rotate":if(t.length>=1){let e=0,n=0,o=0;e=t[0]*Math.PI/180,t.length>=3&&(n=t[1],o=t[2]),w.makeTranslation(-n,-o),_.makeRotation(e),x.multiplyMatrices(_,w),w.makeTranslation(n,o),r.multiplyMatrices(w,x)}break;case"scale":if(t.length>=1){const e=t[0];let n=e;t.length>=2&&(n=t[1]),r.scale(e,n)}break;case"skewX":1===t.length&&r.set(1,Math.tan(t[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===t.length&&r.set(1,0,0,Math.tan(t[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===t.length&&r.set(t[0],t[2],t[4],t[1],t[3],t[5],0,0,1)}}t.premultiply(r)}}return t}(e);v.length>0&&t.premultiply(v[v.length-1]);return k.copy(t),v.push(t),t}(t);let u=!1,A=null;switch(t.nodeName){case"svg":case"g":i=s(t,i);break;case"style":!function(e){if(!e.sheet||!e.sheet.cssRules||!e.sheet.cssRules.length)return;for(let t=0;t<e.sheet.cssRules.length;t++){const r=e.sheet.cssRules[t];if(1!==r.type)continue;const n=r.selectorText.split(/,/gm).filter(Boolean).map((e=>e.trim()));for(let e=0;e<n.length;e++){const t=Object.fromEntries(Object.entries(r.style).filter((([,e])=>""!==e)));g[n[e]]=Object.assign(g[n[e]]||{},t)}}}(t);break;case"path":i=s(t,i),t.hasAttribute("d")&&(A=function(e){const t=new n.ShapePath,o=new n.Vector2,i=new n.Vector2,s=new n.Vector2;let c=!0,u=!1;const f=e.getAttribute("d");if(""===f||"none"===f)return null;const d=f.match(/[a-df-z][^a-df-z]*/gi);for(let e=0,n=d.length;e<n;e++){const n=d[e],f=n.charAt(0),h=n.slice(1).trim();let p;switch(!0===c&&(u=!0,c=!1),f){case"M":p=l(h);for(let e=0,r=p.length;e<r;e+=2)o.x=p[e+0],o.y=p[e+1],i.x=o.x,i.y=o.y,0===e?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y),0===e&&s.copy(o);break;case"H":p=l(h);for(let e=0,r=p.length;e<r;e++)o.x=p[e],i.x=o.x,i.y=o.y,t.lineTo(o.x,o.y),0===e&&!0===u&&s.copy(o);break;case"V":p=l(h);for(let e=0,r=p.length;e<r;e++)o.y=p[e],i.x=o.x,i.y=o.y,t.lineTo(o.x,o.y),0===e&&!0===u&&s.copy(o);break;case"L":p=l(h);for(let e=0,r=p.length;e<r;e+=2)o.x=p[e+0],o.y=p[e+1],i.x=o.x,i.y=o.y,t.lineTo(o.x,o.y),0===e&&!0===u&&s.copy(o);break;case"C":p=l(h);for(let e=0,r=p.length;e<r;e+=6)t.bezierCurveTo(p[e+0],p[e+1],p[e+2],p[e+3],p[e+4],p[e+5]),i.x=p[e+2],i.y=p[e+3],o.x=p[e+4],o.y=p[e+5],0===e&&!0===u&&s.copy(o);break;case"S":p=l(h);for(let e=0,r=p.length;e<r;e+=4)t.bezierCurveTo(a(o.x,i.x),a(o.y,i.y),p[e+0],p[e+1],p[e+2],p[e+3]),i.x=p[e+0],i.y=p[e+1],o.x=p[e+2],o.y=p[e+3],0===e&&!0===u&&s.copy(o);break;case"Q":p=l(h);for(let e=0,r=p.length;e<r;e+=4)t.quadraticCurveTo(p[e+0],p[e+1],p[e+2],p[e+3]),i.x=p[e+0],i.y=p[e+1],o.x=p[e+2],o.y=p[e+3],0===e&&!0===u&&s.copy(o);break;case"T":p=l(h);for(let e=0,r=p.length;e<r;e+=2){const r=a(o.x,i.x),n=a(o.y,i.y);t.quadraticCurveTo(r,n,p[e+0],p[e+1]),i.x=r,i.y=n,o.x=p[e+0],o.y=p[e+1],0===e&&!0===u&&s.copy(o)}break;case"A":p=l(h,[3,4],7);for(let e=0,n=p.length;e<n;e+=7){if(p[e+5]==o.x&&p[e+6]==o.y)continue;const n=o.clone();o.x=p[e+5],o.y=p[e+6],i.x=o.x,i.y=o.y,r(t,p[e],p[e+1],p[e+2],p[e+3],p[e+4],n,o),0===e&&!0===u&&s.copy(o)}break;case"m":p=l(h);for(let e=0,r=p.length;e<r;e+=2)o.x+=p[e+0],o.y+=p[e+1],i.x=o.x,i.y=o.y,0===e?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y),0===e&&s.copy(o);break;case"h":p=l(h);for(let e=0,r=p.length;e<r;e++)o.x+=p[e],i.x=o.x,i.y=o.y,t.lineTo(o.x,o.y),0===e&&!0===u&&s.copy(o);break;case"v":p=l(h);for(let e=0,r=p.length;e<r;e++)o.y+=p[e],i.x=o.x,i.y=o.y,t.lineTo(o.x,o.y),0===e&&!0===u&&s.copy(o);break;case"l":p=l(h);for(let e=0,r=p.length;e<r;e+=2)o.x+=p[e+0],o.y+=p[e+1],i.x=o.x,i.y=o.y,t.lineTo(o.x,o.y),0===e&&!0===u&&s.copy(o);break;case"c":p=l(h);for(let e=0,r=p.length;e<r;e+=6)t.bezierCurveTo(o.x+p[e+0],o.y+p[e+1],o.x+p[e+2],o.y+p[e+3],o.x+p[e+4],o.y+p[e+5]),i.x=o.x+p[e+2],i.y=o.y+p[e+3],o.x+=p[e+4],o.y+=p[e+5],0===e&&!0===u&&s.copy(o);break;case"s":p=l(h);for(let e=0,r=p.length;e<r;e+=4)t.bezierCurveTo(a(o.x,i.x),a(o.y,i.y),o.x+p[e+0],o.y+p[e+1],o.x+p[e+2],o.y+p[e+3]),i.x=o.x+p[e+0],i.y=o.y+p[e+1],o.x+=p[e+2],o.y+=p[e+3],0===e&&!0===u&&s.copy(o);break;case"q":p=l(h);for(let e=0,r=p.length;e<r;e+=4)t.quadraticCurveTo(o.x+p[e+0],o.y+p[e+1],o.x+p[e+2],o.y+p[e+3]),i.x=o.x+p[e+0],i.y=o.y+p[e+1],o.x+=p[e+2],o.y+=p[e+3],0===e&&!0===u&&s.copy(o);break;case"t":p=l(h);for(let e=0,r=p.length;e<r;e+=2){const r=a(o.x,i.x),n=a(o.y,i.y);t.quadraticCurveTo(r,n,o.x+p[e+0],o.y+p[e+1]),i.x=r,i.y=n,o.x=o.x+p[e+0],o.y=o.y+p[e+1],0===e&&!0===u&&s.copy(o)}break;case"a":p=l(h,[3,4],7);for(let e=0,n=p.length;e<n;e+=7){if(0==p[e+5]&&0==p[e+6])continue;const n=o.clone();o.x+=p[e+5],o.y+=p[e+6],i.x=o.x,i.y=o.y,r(t,p[e],p[e+1],p[e+2],p[e+3],p[e+4],n,o),0===e&&!0===u&&s.copy(o)}break;case"Z":case"z":t.currentPath.autoClose=!0,t.currentPath.curves.length>0&&(o.copy(s),t.currentPath.currentPoint.copy(o),c=!0);break;default:console.warn(n)}u=!1}return t}(t));break;case"rect":i=s(t,i),A=function(e){const t=f(e.getAttribute("x")||0),r=f(e.getAttribute("y")||0),o=f(e.getAttribute("rx")||e.getAttribute("ry")||0),i=f(e.getAttribute("ry")||e.getAttribute("rx")||0),s=f(e.getAttribute("width")),a=f(e.getAttribute("height")),l=.448084975506,c=new n.ShapePath;c.moveTo(t+o,r),c.lineTo(t+s-o,r),(0!==o||0!==i)&&c.bezierCurveTo(t+s-o*l,r,t+s,r+i*l,t+s,r+i);c.lineTo(t+s,r+a-i),(0!==o||0!==i)&&c.bezierCurveTo(t+s,r+a-i*l,t+s-o*l,r+a,t+s-o,r+a);c.lineTo(t+o,r+a),(0!==o||0!==i)&&c.bezierCurveTo(t+o*l,r+a,t,r+a-i*l,t,r+a-i);c.lineTo(t,r+i),(0!==o||0!==i)&&c.bezierCurveTo(t,r+i*l,t+o*l,r,t+o,r);return c}(t);break;case"polygon":i=s(t,i),A=function(e){function t(e,t,r){const n=f(t),s=f(r);0===i?o.moveTo(n,s):o.lineTo(n,s),i++}const r=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,o=new n.ShapePath;let i=0;return e.getAttribute("points").replace(r,t),o.currentPath.autoClose=!0,o}(t);break;case"polyline":i=s(t,i),A=function(e){function t(e,t,r){const n=f(t),s=f(r);0===i?o.moveTo(n,s):o.lineTo(n,s),i++}const r=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,o=new n.ShapePath;let i=0;return e.getAttribute("points").replace(r,t),o.currentPath.autoClose=!1,o}(t);break;case"circle":i=s(t,i),A=function(e){const t=f(e.getAttribute("cx")||0),r=f(e.getAttribute("cy")||0),o=f(e.getAttribute("r")||0),i=new n.Path;i.absarc(t,r,o,0,2*Math.PI);const s=new n.ShapePath;return s.subPaths.push(i),s}(t);break;case"ellipse":i=s(t,i),A=function(e){const t=f(e.getAttribute("cx")||0),r=f(e.getAttribute("cy")||0),o=f(e.getAttribute("rx")||0),i=f(e.getAttribute("ry")||0),s=new n.Path;s.absellipse(t,r,o,i,0,2*Math.PI);const a=new n.ShapePath;return a.subPaths.push(s),a}(t);break;case"line":i=s(t,i),A=function(e){const t=f(e.getAttribute("x1")||0),r=f(e.getAttribute("y1")||0),o=f(e.getAttribute("x2")||0),i=f(e.getAttribute("y2")||0),s=new n.ShapePath;return s.moveTo(t,r),s.lineTo(o,i),s.currentPath.autoClose=!1,s}(t);break;case"defs":u=!0;break;case"use":i=s(t,i);const o=(t.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),c=t.viewportElement.getElementById(o);c?e(c,i):console.warn("SVGLoader: 'use node' references non-existent node id: "+o)}A&&(void 0!==i.fill&&"none"!==i.fill&&A.color.setStyle(i.fill,o),function(e,t){function r(e){E.set(e.x,e.y,1).applyMatrix3(t),e.set(E.x,E.y)}function o(e){const r=e.xRadius,o=e.yRadius,i=Math.cos(e.aRotation),s=Math.sin(e.aRotation),a=new n.Vector3(r*i,r*s,0),l=new n.Vector3(-o*s,o*i,0),c=a.applyMatrix3(t),u=l.applyMatrix3(t),f=b.set(c.x,u.x,0,c.y,u.y,0,0,0,1),h=w.copy(f).invert(),p=_.copy(h).transpose().multiply(h).elements,y=function(e,t,r){let n,o,i,s,a;const l=e+r,c=e-r,u=Math.sqrt(c*c+4*t*t);l>0?(n=.5*(l+u),a=1/n,o=e*a*r-t*a*t):l<0?o=.5*(l-u):(n=.5*u,o=-.5*u);i=c>0?c+u:c-u;Math.abs(i)>2*Math.abs(t)?(a=-2*t/i,s=1/Math.sqrt(1+a*a),i=a*s):0===Math.abs(t)?(i=1,s=0):(a=-.5*i/t,i=1/Math.sqrt(1+a*a),s=a*i);c>0&&(a=i,i=-s,s=a);return{rt1:n,rt2:o,cs:i,sn:s}}(p[0],p[1],p[4]),m=Math.sqrt(y.rt1),g=Math.sqrt(y.rt2);e.xRadius=1/m,e.yRadius=1/g,e.aRotation=Math.atan2(y.sn,y.cs);if(!((e.aEndAngle-e.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const r=w.set(m,0,0,0,g,0,0,0,1),o=_.set(y.cs,y.sn,0,-y.sn,y.cs,0,0,0,1),i=r.multiply(o).multiply(f),s=e=>{const{x:t,y:r}=new n.Vector3(Math.cos(e),Math.sin(e),0).applyMatrix3(i);return Math.atan2(r,t)};e.aStartAngle=s(e.aStartAngle),e.aEndAngle=s(e.aEndAngle),d(t)&&(e.aClockwise=!e.aClockwise)}}function i(e){const r=p(t),n=y(t);e.xRadius*=r,e.yRadius*=n;const o=r>Number.EPSILON?Math.atan2(t.elements[1],t.elements[0]):Math.atan2(-t.elements[3],t.elements[4]);e.aRotation+=o,d(t)&&(e.aStartAngle*=-1,e.aEndAngle*=-1,e.aClockwise=!e.aClockwise)}const s=e.subPaths;for(let e=0,n=s.length;e<n;e++){const n=s[e].curves;for(let e=0;e<n.length;e++){const s=n[e];s.isLineCurve?(r(s.v1),r(s.v2)):s.isCubicBezierCurve?(r(s.v0),r(s.v1),r(s.v2),r(s.v3)):s.isQuadraticBezierCurve?(r(s.v0),r(s.v1),r(s.v2)):s.isEllipseCurve&&(S.set(s.aX,s.aY),r(S),s.aX=S.x,s.aY=S.y,h(t)?o(s):i(s))}}}(A,k),m.push(A),A.userData={node:t,style:i});const T=t.childNodes;for(let t=0;t<T.length;t++){const r=T[t];u&&"style"!==r.nodeName&&"defs"!==r.nodeName||e(r,i)}c&&(v.pop(),v.length>0?k.copy(v[v.length-1]):k.identity())}(A.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4});return{paths:m,xml:A.documentElement}}static createShapes(e){const t=999999999,r=0,o=1,i=2,s=3,a=4,l=5,c=6,u={loc:r,t:0};function f(e,t,n,o){const s=e.x,a=t.x,l=n.x,c=o.x,f=e.y,h=t.y,p=n.y,y=o.y,m=(c-l)*(f-p)-(y-p)*(s-l),g=(y-p)*(a-s)-(c-l)*(h-f),v=m/g,b=((a-s)*(f-p)-(h-f)*(s-l))/g;if(0===g&&0!==m||v<=0||v>=1||b<0||b>1)return null;if(0===m&&0===g){for(let l=0;l<2;l++){if(d(0===l?n:o,e,t),u.loc==r){const e=0===l?n:o;return{x:e.x,y:e.y,t:u.t}}if(u.loc==i){return{x:+(s+u.t*(a-s)).toPrecision(10),y:+(f+u.t*(h-f)).toPrecision(10),t:u.t}}}return null}for(let i=0;i<2;i++)if(d(0===i?n:o,e,t),u.loc==r){const e=0===i?n:o;return{x:e.x,y:e.y,t:u.t}}return{x:+(s+v*(a-s)).toPrecision(10),y:+(f+v*(h-f)).toPrecision(10),t:v}}function d(e,t,n){const f=n.x-t.x,d=n.y-t.y,h=e.x-t.x,p=e.y-t.y,y=f*p-h*d;if(e.x===t.x&&e.y===t.y)return u.loc=r,void(u.t=0);if(e.x===n.x&&e.y===n.y)return u.loc=o,void(u.t=1);if(y<-Number.EPSILON)return void(u.loc=s);if(y>Number.EPSILON)return void(u.loc=a);if(f*h<0||d*p<0)return void(u.loc=l);if(Math.sqrt(f*f+d*d)<Math.sqrt(h*h+p*p))return void(u.loc=c);let m;m=0!==f?h/f:p/d,u.loc=i,u.t=m}function h(e,t,r){const o=new n.Vector2;t.getCenter(o);const i=[];return r.forEach((t=>{if(t.boundingBox.containsPoint(o)){(function(e,t){const r=[],o=[];for(let i=1;i<e.length;i++){const s=e[i-1],a=e[i];for(let e=1;e<t.length;e++){const i=f(s,a,t[e-1],t[e]);null!==i&&void 0===r.find((e=>e.t<=i.t+Number.EPSILON&&e.t>=i.t-Number.EPSILON))&&(r.push(i),o.push(new n.Vector2(i.x,i.y)))}}return o})(e,t.points).forEach((e=>{i.push({identifier:t.identifier,isCW:t.isCW,point:e})}))}})),i.sort(((e,t)=>e.point.x-t.point.x)),i}let p=t,y=-999999999,m=e.subPaths.map((e=>{const r=e.getPoints();let o=-999999999,i=t,s=-999999999,a=t;for(let e=0;e<r.length;e++){const t=r[e];t.y>o&&(o=t.y),t.y<i&&(i=t.y),t.x>s&&(s=t.x),t.x<a&&(a=t.x)}return y<=s&&(y=s+1),p>=a&&(p=a-1),{curves:e.curves,points:r,isCW:n.ShapeUtils.isClockWise(r),identifier:-1,boundingBox:new n.Box2(new n.Vector2(a,i),new n.Vector2(s,o))}}));m=m.filter((e=>e.points.length>1));for(let e=0;e<m.length;e++)m[e].identifier=e;const g=m.map((t=>function(e,t,r,o,i){null!=i&&""!==i||(i="nonzero");const s=new n.Vector2;e.boundingBox.getCenter(s);const a=h([new n.Vector2(r,s.y),new n.Vector2(o,s.y)],e.boundingBox,t);a.sort(((e,t)=>e.point.x-t.point.x));const l=[],c=[];a.forEach((t=>{t.identifier===e.identifier?l.push(t):c.push(t)}));const u=l[0].point.x,f=[];let d=0;for(;d<c.length&&c[d].point.x<u;)f.length>0&&f[f.length-1]===c[d].identifier?f.pop():f.push(c[d].identifier),d++;if(f.push(e.identifier),"evenodd"===i){const t=f.length%2==0,r=f[f.length-2];return{identifier:e.identifier,isHole:t,for:r}}if("nonzero"===i){let r=!0,n=null,o=null;for(let e=0;e<f.length;e++){const i=f[e];r?(o=t[i].isCW,r=!1,n=i):o!==t[i].isCW&&(o=t[i].isCW,r=!0)}return{identifier:e.identifier,isHole:r,for:n}}console.warn('fill-rule: "'+i+'" is currently not implemented.')}(t,m,p,y,e.userData?e.userData.style.fillRule:void 0))),v=[];return m.forEach((e=>{if(!g[e.identifier].isHole){const t=new n.Shape;t.curves=e.curves;g.filter((t=>t.isHole&&t.for===e.identifier)).forEach((e=>{const r=m[e.identifier],o=new n.Path;o.curves=r.curves,t.holes.push(o)})),v.push(t)}})),v}static getStrokeStyle(e,t,r,n,o){return{strokeColor:t=void 0!==t?t:"#000",strokeWidth:e=void 0!==e?e:1,strokeLineJoin:r=void 0!==r?r:"miter",strokeLineCap:n=void 0!==n?n:"butt",strokeMiterLimit:o=void 0!==o?o:4}}static pointsToStroke(e,t,r,o){const s=[],a=[],l=[];if(0===i.pointsToStrokeWithBuffers(e,t,r,o,s,a,l))return null;const c=new n.BufferGeometry;return c.setAttribute("position",new n.Float32BufferAttribute(s,3)),c.setAttribute("normal",new n.Float32BufferAttribute(a,3)),c.setAttribute("uv",new n.Float32BufferAttribute(l,2)),c}static pointsToStrokeWithBuffers(e,t,r,o,i,s,a,l){const c=new n.Vector2,u=new n.Vector2,f=new n.Vector2,d=new n.Vector2,h=new n.Vector2,p=new n.Vector2,y=new n.Vector2,m=new n.Vector2,g=new n.Vector2,v=new n.Vector2,b=new n.Vector2,w=new n.Vector2,_=new n.Vector2,x=new n.Vector2,S=new n.Vector2,E=new n.Vector2,k=new n.Vector2;r=void 0!==r?r:12,o=void 0!==o?o:.001,l=void 0!==l?l:0;const A=(e=function(e){let t=!1;for(let r=1,n=e.length-1;r<n;r++)if(e[r].distanceTo(e[r+1])<o){t=!0;break}if(!t)return e;const r=[];r.push(e[0]);for(let t=1,n=e.length-1;t<n;t++)e[t].distanceTo(e[t+1])>=o&&r.push(e[t]);return r.push(e[e.length-1]),r}(e)).length;if(A<2)return 0;const T=e[0].equals(e[A-1]);let P,O,C=e[0];const R=t.strokeWidth/2,I=1/(A-1);let M,D,N,F,j=0,$=!1,U=0,L=3*l,z=2*l;B(e[0],e[1],c).multiplyScalar(R),m.copy(e[0]).sub(c),g.copy(e[0]).add(c),v.copy(m),b.copy(g);for(let r=1;r<A;r++){P=e[r],O=r===A-1?T?e[1]:void 0:e[r+1];const n=c;if(B(C,P,n),f.copy(n).multiplyScalar(R),w.copy(P).sub(f),_.copy(P).add(f),M=j+I,D=!1,void 0!==O){B(P,O,u),f.copy(u).multiplyScalar(R),x.copy(P).sub(f),S.copy(P).add(f),N=!0,f.subVectors(O,C),n.dot(f)<0&&(N=!1),1===r&&($=N),f.subVectors(O,P),f.normalize();const e=Math.abs(n.dot(f));if(e>Number.EPSILON){const r=R/e;f.multiplyScalar(-r),d.subVectors(P,C),h.copy(d).setLength(r).add(f),E.copy(h).negate();const n=h.length(),o=d.length();d.divideScalar(o),p.subVectors(O,P);const i=p.length();switch(p.divideScalar(i),d.dot(E)<o&&p.dot(E)<i&&(D=!0),k.copy(h).add(P),E.add(P),F=!1,D?N?(S.copy(E),_.copy(E)):(x.copy(E),w.copy(E)):H(),t.strokeLineJoin){case"bevel":q(N,D,M);break;case"round":W(N,D),N?G(P,w,x,M,0):G(P,S,_,M,1);break;default:const e=R*t.strokeMiterLimit/n;if(e<1){if("miter-clip"!==t.strokeLineJoin){q(N,D,M);break}W(N,D),N?(p.subVectors(k,w).multiplyScalar(e).add(w),y.subVectors(k,x).multiplyScalar(e).add(x),V(w,M,0),V(p,M,0),V(P,M,.5),V(P,M,.5),V(p,M,0),V(y,M,0),V(P,M,.5),V(y,M,0),V(x,M,0)):(p.subVectors(k,_).multiplyScalar(e).add(_),y.subVectors(k,S).multiplyScalar(e).add(S),V(_,M,1),V(p,M,1),V(P,M,.5),V(P,M,.5),V(p,M,1),V(y,M,1),V(P,M,.5),V(y,M,1),V(S,M,1))}else D?(N?(V(g,j,1),V(m,j,0),V(k,M,0),V(g,j,1),V(k,M,0),V(E,M,1)):(V(g,j,1),V(m,j,0),V(k,M,1),V(m,j,0),V(E,M,0),V(k,M,1)),N?x.copy(k):S.copy(k)):N?(V(w,M,0),V(k,M,0),V(P,M,.5),V(P,M,.5),V(k,M,0),V(x,M,0)):(V(_,M,1),V(k,M,1),V(P,M,.5),V(P,M,.5),V(k,M,1),V(S,M,1)),F=!0}}else H()}else H();T||r!==A-1||X(e[0],v,b,N,!0,j),j=M,C=P,m.copy(x),g.copy(S)}if(T){if(D&&i){let e=k,t=E;$!==N&&(e=E,t=k),N?(F||$)&&(t.toArray(i,0),t.toArray(i,9),F&&e.toArray(i,3)):!F&&$||(t.toArray(i,3),t.toArray(i,9),F&&e.toArray(i,0))}}else X(P,w,_,N,!1,M);return U;function B(e,t,r){return r.subVectors(t,e),r.set(-r.y,r.x).normalize()}function V(e,t,r){i&&(i[L]=e.x,i[L+1]=e.y,i[L+2]=0,s&&(s[L]=0,s[L+1]=0,s[L+2]=1),L+=3,a&&(a[z]=t,a[z+1]=r,z+=2)),U+=3}function G(e,t,n,o,i){c.copy(t).sub(e).normalize(),u.copy(n).sub(e).normalize();let s=Math.PI;const a=c.dot(u);Math.abs(a)<1&&(s=Math.abs(Math.acos(a))),s/=r,f.copy(t);for(let t=0,n=r-1;t<n;t++)d.copy(f).rotateAround(e,s),V(f,o,i),V(d,o,i),V(e,o,.5),f.copy(d);V(d,o,i),V(n,o,i),V(e,o,.5)}function H(){V(g,j,1),V(m,j,0),V(w,M,0),V(g,j,1),V(w,M,0),V(_,M,1)}function q(e,t,r){t?e?(V(g,j,1),V(m,j,0),V(w,M,0),V(g,j,1),V(w,M,0),V(E,M,1),V(w,r,0),V(x,r,0),V(E,r,.5)):(V(g,j,1),V(m,j,0),V(_,M,1),V(m,j,0),V(E,M,0),V(_,M,1),V(_,r,1),V(E,r,0),V(S,r,1)):e?(V(w,r,0),V(x,r,0),V(P,r,.5)):(V(_,r,1),V(S,r,0),V(P,r,.5))}function W(e,t){t&&(e?(V(g,j,1),V(m,j,0),V(w,M,0),V(g,j,1),V(w,M,0),V(E,M,1),V(w,j,0),V(P,M,.5),V(E,M,1),V(P,M,.5),V(x,j,0),V(E,M,1)):(V(g,j,1),V(m,j,0),V(_,M,1),V(m,j,0),V(E,M,0),V(_,M,1),V(_,j,1),V(E,M,0),V(P,M,.5),V(P,M,.5),V(E,M,0),V(S,j,1)))}function X(e,r,n,o,s,l){switch(t.strokeLineCap){case"round":s?G(e,n,r,l,.5):G(e,r,n,l,.5);break;case"square":if(s)c.subVectors(r,e),u.set(c.y,-c.x),f.addVectors(c,u).add(e),d.subVectors(u,c).add(e),o?(f.toArray(i,3),d.toArray(i,0),d.toArray(i,9)):(f.toArray(i,3),1===a[7]?d.toArray(i,9):f.toArray(i,9),d.toArray(i,0));else{c.subVectors(n,e),u.set(c.y,-c.x),f.addVectors(c,u).add(e),d.subVectors(u,c).add(e);const t=i.length;o?(f.toArray(i,t-3),d.toArray(i,t-6),d.toArray(i,t-12)):(d.toArray(i,t-6),f.toArray(i,t-3),d.toArray(i,t-12))}}}}}},3531:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TGALoader:()=>o});var n=r(68909);class o extends n.DataTextureLoader{constructor(e){super(e)}parse(e){const t=0,r=1,o=2,i=3,s=9,a=10,l=11,c=48,u=4,f=0,d=1,h=2,p=3;if(e.length<19)throw new Error("THREE.TGALoader: Not enough data to contain header.");let y=0;const m=new Uint8Array(e),g={id_length:m[y++],colormap_type:m[y++],image_type:m[y++],colormap_index:m[y++]|m[y++]<<8,colormap_length:m[y++]|m[y++]<<8,colormap_size:m[y++],origin:[m[y++]|m[y++]<<8,m[y++]|m[y++]<<8],width:m[y++]|m[y++]<<8,height:m[y++]|m[y++]<<8,pixel_size:m[y++],flags:m[y++]};if(function(e){switch(e.image_type){case r:case s:if(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case o:case i:case a:case l:if(e.colormap_type)throw new Error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:throw new Error("THREE.TGALoader: No data.");default:throw new Error("THREE.TGALoader: Invalid type "+e.image_type)}if(e.width<=0||e.height<=0)throw new Error("THREE.TGALoader: Invalid image size.");if(8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size)throw new Error("THREE.TGALoader: Invalid pixel size "+e.pixel_size)}(g),g.id_length+y>e.length)throw new Error("THREE.TGALoader: No data.");y+=g.id_length;let v=!1,b=!1,w=!1;switch(g.image_type){case s:v=!0,b=!0;break;case r:b=!0;break;case a:v=!0;break;case o:break;case l:v=!0,w=!0;break;case i:w=!0}const _=new Uint8Array(g.width*g.height*4),x=function(e,t,r,n,o){let i,s;const a=r.pixel_size>>3,l=r.width*r.height*a;if(t&&(s=o.subarray(n,n+=r.colormap_length*(r.colormap_size>>3))),e){let e,t,r;i=new Uint8Array(l);let s=0;const c=new Uint8Array(a);for(;s<l;)if(e=o[n++],t=1+(127&e),128&e){for(r=0;r<a;++r)c[r]=o[n++];for(r=0;r<t;++r)i.set(c,s+r*a);s+=a*t}else{for(t*=a,r=0;r<t;++r)i[s+r]=o[n++];s+=t}}else i=o.subarray(n,n+=t?r.width*r.height:l);return{pixel_data:i,palettes:s}}(v,b,g,y,m);return function(e,t,r,n,o){let i,s,a,l,y,m;switch((g.flags&c)>>u){default:case h:i=0,a=1,y=t,s=0,l=1,m=r;break;case f:i=0,a=1,y=t,s=r-1,l=-1,m=-1;break;case p:i=t-1,a=-1,y=-1,s=0,l=1,m=r;break;case d:i=t-1,a=-1,y=-1,s=r-1,l=-1,m=-1}if(w)switch(g.pixel_size){case 8:!function(e,t,r,n,o,i,s,a){let l,c,u,f=0;const d=g.width;for(u=t;u!==n;u+=r)for(c=o;c!==s;c+=i,f++)l=a[f],e[4*(c+d*u)+0]=l,e[4*(c+d*u)+1]=l,e[4*(c+d*u)+2]=l,e[4*(c+d*u)+3]=255}(e,s,l,m,i,a,y,n);break;case 16:!function(e,t,r,n,o,i,s,a){let l,c,u=0;const f=g.width;for(c=t;c!==n;c+=r)for(l=o;l!==s;l+=i,u+=2)e[4*(l+f*c)+0]=a[u+0],e[4*(l+f*c)+1]=a[u+0],e[4*(l+f*c)+2]=a[u+0],e[4*(l+f*c)+3]=a[u+1]}(e,s,l,m,i,a,y,n);break;default:throw new Error("THREE.TGALoader: Format not supported.")}else switch(g.pixel_size){case 8:!function(e,t,r,n,o,i,s,a,l){const c=l;let u,f,d,h=0;const p=g.width;for(d=t;d!==n;d+=r)for(f=o;f!==s;f+=i,h++)u=a[h],e[4*(f+p*d)+3]=255,e[4*(f+p*d)+2]=c[3*u+0],e[4*(f+p*d)+1]=c[3*u+1],e[4*(f+p*d)+0]=c[3*u+2]}(e,s,l,m,i,a,y,n,o);break;case 16:!function(e,t,r,n,o,i,s,a){let l,c,u,f=0;const d=g.width;for(u=t;u!==n;u+=r)for(c=o;c!==s;c+=i,f+=2)l=a[f+0]+(a[f+1]<<8),e[4*(c+d*u)+0]=(31744&l)>>7,e[4*(c+d*u)+1]=(992&l)>>2,e[4*(c+d*u)+2]=(31&l)<<3,e[4*(c+d*u)+3]=32768&l?0:255}(e,s,l,m,i,a,y,n);break;case 24:!function(e,t,r,n,o,i,s,a){let l,c,u=0;const f=g.width;for(c=t;c!==n;c+=r)for(l=o;l!==s;l+=i,u+=3)e[4*(l+f*c)+3]=255,e[4*(l+f*c)+2]=a[u+0],e[4*(l+f*c)+1]=a[u+1],e[4*(l+f*c)+0]=a[u+2]}(e,s,l,m,i,a,y,n);break;case 32:!function(e,t,r,n,o,i,s,a){let l,c,u=0;const f=g.width;for(c=t;c!==n;c+=r)for(l=o;l!==s;l+=i,u+=4)e[4*(l+f*c)+2]=a[u+0],e[4*(l+f*c)+1]=a[u+1],e[4*(l+f*c)+0]=a[u+2],e[4*(l+f*c)+3]=a[u+3]}(e,s,l,m,i,a,y,n);break;default:throw new Error("THREE.TGALoader: Format not supported.")}}(_,g.width,g.height,x.pixel_data,x.palettes),{data:_,width:g.width,height:g.height,flipY:!0,generateMipmaps:!0,minFilter:n.LinearMipmapLinearFilter}}}},51566:(e,t,r)=>{"use strict";r.r(t),r.d(t,{computeMikkTSpaceTangents:()=>o,computeMorphedAttributes:()=>p,deepCloneAttribute:()=>a,deinterleaveAttribute:()=>c,deinterleaveGeometry:()=>u,estimateBytesUsed:()=>f,interleaveAttributes:()=>l,mergeAttributes:()=>s,mergeGeometries:()=>i,mergeGroups:()=>y,mergeVertices:()=>d,toCreasedNormals:()=>m,toTrianglesDrawMode:()=>h});var n=r(68909);function o(e,t,r=!0){if(!t||!t.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!e.hasAttribute("position")||!e.hasAttribute("normal")||!e.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function o(e){if(e.normalized||e.isInterleavedBufferAttribute){const t=new Float32Array(e.count*e.itemSize);for(let r=0,n=0;r<e.count;r++)t[n++]=e.getX(r),t[n++]=e.getY(r),e.itemSize>2&&(t[n++]=e.getZ(r));return t}return e.array instanceof Float32Array?e.array:new Float32Array(e.array)}const i=e.index?e.toNonIndexed():e,s=t.generateTangents(o(i.attributes.position),o(i.attributes.normal),o(i.attributes.uv));if(r)for(let e=3;e<s.length;e+=4)s[e]*=-1;return i.setAttribute("tangent",new n.BufferAttribute(s,4)),e!==i&&e.copy(i),e}function i(e,t=!1){const r=null!==e[0].index,o=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},l={},c=e[0].morphTargetsRelative,u=new n.BufferGeometry;let f=0;for(let n=0;n<e.length;++n){const s=e[n];let d=0;if(r!==(null!==s.index))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const e in s.attributes){if(!o.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(s.attributes[e]),d++}if(d!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". Make sure all geometries have the same number of attributes."),null;if(c!==s.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const e in s.morphAttributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===l[e]&&(l[e]=[]),l[e].push(s.morphAttributes[e])}if(t){let e;if(r)e=s.index.count;else{if(void 0===s.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+n+". The geometry must have either an index or a position attribute"),null;e=s.attributes.position.count}u.addGroup(f,e,n),f+=e}}if(r){let t=0;const r=[];for(let n=0;n<e.length;++n){const o=e[n].index;for(let e=0;e<o.count;++e)r.push(o.getX(e)+t);t+=e[n].attributes.position.count}u.setIndex(r)}for(const e in a){const t=s(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" attribute."),null;u.setAttribute(e,t)}for(const e in l){const t=l[e][0].length;if(0===t)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[e]=[];for(let r=0;r<t;++r){const t=[];for(let n=0;n<l[e].length;++n)t.push(l[e][n][r]);const n=s(t);if(!n)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+e+" morphAttribute."),null;u.morphAttributes[e].push(n)}}return u}function s(e){let t,r,o,i=-1,s=0;for(let n=0;n<e.length;++n){const a=e[n];if(void 0===t&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=a.itemSize),r!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===o&&(o=a.normalized),o!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(-1===i&&(i=a.gpuType),i!==a.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=a.count*r}const a=new t(s),l=new n.BufferAttribute(a,r,o);let c=0;for(let t=0;t<e.length;++t){const n=e[t];if(n.isInterleavedBufferAttribute){const e=c/r;for(let t=0,o=n.count;t<o;t++)for(let o=0;o<r;o++){const r=n.getComponent(t,o);l.setComponent(t+e,o,r)}}else a.set(n.array,c);c+=n.count*r}return void 0!==i&&(l.gpuType=i),l}function a(e){return e.isInstancedInterleavedBufferAttribute||e.isInterleavedBufferAttribute?c(e):e.isInstancedBufferAttribute?(new n.InstancedBufferAttribute).copy(e):(new n.BufferAttribute).copy(e)}function l(e){let t,r=0,o=0;for(let n=0,i=e.length;n<i;++n){const i=e[n];if(void 0===t&&(t=i.array.constructor),t!==i.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=i.array.length,o+=i.itemSize}const i=new n.InterleavedBuffer(new t(r),o);let s=0;const a=[],l=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.itemSize,u=r.count,f=new n.InterleavedBufferAttribute(i,o,s,r.normalized);a.push(f),s+=o;for(let e=0;e<u;e++)for(let t=0;t<o;t++)f[c[t]](e,r[l[t]](e))}return a}function c(e){const t=e.data.array.constructor,r=e.count,o=e.itemSize,i=e.normalized,s=new t(r*o);let a;a=e.isInstancedInterleavedBufferAttribute?new n.InstancedBufferAttribute(s,o,i,e.meshPerAttribute):new n.BufferAttribute(s,o,i);for(let t=0;t<r;t++)a.setX(t,e.getX(t)),o>=2&&a.setY(t,e.getY(t)),o>=3&&a.setZ(t,e.getZ(t)),o>=4&&a.setW(t,e.getW(t));return a}function u(e){const t=e.attributes,r=e.morphTargets,n=new Map;for(const e in t){const r=t[e];r.isInterleavedBufferAttribute&&(n.has(r)||n.set(r,c(r)),t[e]=n.get(r))}for(const e in r){const t=r[e];t.isInterleavedBufferAttribute&&(n.has(t)||n.set(t,c(t)),r[e]=n.get(t))}}function f(e){let t=0;for(const r in e.attributes){const n=e.getAttribute(r);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}const r=e.getIndex();return t+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0,t}function d(e,t=1e-4){t=Math.max(t,Number.EPSILON);const r={},n=e.getIndex(),o=e.getAttribute("position"),i=n?n.count:o.count;let s=0;const a=Object.keys(e.attributes),l={},c={},u=[],f=["getX","getY","getZ","getW"],d=["setX","setY","setZ","setW"];for(let t=0,r=a.length;t<r;t++){const r=a[t],n=e.attributes[r];l[r]=new n.constructor(new n.array.constructor(n.count*n.itemSize),n.itemSize,n.normalized);const o=e.morphAttributes[r];o&&(c[r]||(c[r]=[]),o.forEach(((e,t)=>{const n=new e.array.constructor(e.count*e.itemSize);c[r][t]=new e.constructor(n,e.itemSize,e.normalized)})))}const h=.5*t,p=Math.log10(1/t),y=Math.pow(10,p),m=h*y;for(let t=0;t<i;t++){const o=n?n.getX(t):t;let i="";for(let t=0,r=a.length;t<r;t++){const r=a[t],n=e.getAttribute(r),s=n.itemSize;for(let e=0;e<s;e++)i+=~~(n[f[e]](o)*y+m)+","}if(i in r)u.push(r[i]);else{for(let t=0,r=a.length;t<r;t++){const r=a[t],n=e.getAttribute(r),i=e.morphAttributes[r],u=n.itemSize,h=l[r],p=c[r];for(let e=0;e<u;e++){const t=f[e],r=d[e];if(h[r](s,n[t](o)),i)for(let e=0,n=i.length;e<n;e++)p[e][r](s,i[e][t](o))}}r[i]=s,u.push(s),s++}}const g=e.clone();for(const t in e.attributes){const e=l[t];if(g.setAttribute(t,new e.constructor(e.array.slice(0,s*e.itemSize),e.itemSize,e.normalized)),t in c)for(let e=0;e<c[t].length;e++){const r=c[t][e];g.morphAttributes[t][e]=new r.constructor(r.array.slice(0,s*r.itemSize),r.itemSize,r.normalized)}}return g.setIndex(u),g}function h(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===n.TriangleFanDrawMode||t===n.TriangleStripDrawMode){let r=e.getIndex();if(null===r){const t=[],n=e.getAttribute("position");if(void 0===n)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<n.count;e++)t.push(e);e.setIndex(t),r=e.getIndex()}const o=r.count-2,i=[];if(t===n.TriangleFanDrawMode)for(let e=1;e<=o;e++)i.push(r.getX(0)),i.push(r.getX(e)),i.push(r.getX(e+1));else for(let e=0;e<o;e++)e%2==0?(i.push(r.getX(e)),i.push(r.getX(e+1)),i.push(r.getX(e+2))):(i.push(r.getX(e+2)),i.push(r.getX(e+1)),i.push(r.getX(e)));i.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(i),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}function p(e){const t=new n.Vector3,r=new n.Vector3,o=new n.Vector3,i=new n.Vector3,s=new n.Vector3,a=new n.Vector3,l=new n.Vector3,c=new n.Vector3,u=new n.Vector3;function f(e,n,f,d,h,p,y,m){t.fromBufferAttribute(n,h),r.fromBufferAttribute(n,p),o.fromBufferAttribute(n,y);const g=e.morphTargetInfluences;if(f&&g){l.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(let e=0,n=f.length;e<n;e++){const n=g[e],m=f[e];0!==n&&(i.fromBufferAttribute(m,h),s.fromBufferAttribute(m,p),a.fromBufferAttribute(m,y),d?(l.addScaledVector(i,n),c.addScaledVector(s,n),u.addScaledVector(a,n)):(l.addScaledVector(i.sub(t),n),c.addScaledVector(s.sub(r),n),u.addScaledVector(a.sub(o),n)))}t.add(l),r.add(c),o.add(u)}e.isSkinnedMesh&&(e.applyBoneTransform(h,t),e.applyBoneTransform(p,r),e.applyBoneTransform(y,o)),m[3*h+0]=t.x,m[3*h+1]=t.y,m[3*h+2]=t.z,m[3*p+0]=r.x,m[3*p+1]=r.y,m[3*p+2]=r.z,m[3*y+0]=o.x,m[3*y+1]=o.y,m[3*y+2]=o.z}const d=e.geometry,h=e.material;let p,y,m;const g=d.index,v=d.attributes.position,b=d.morphAttributes.position,w=d.morphTargetsRelative,_=d.attributes.normal,x=d.morphAttributes.position,S=d.groups,E=d.drawRange;let k,A,T,P,O,C,R;const I=new Float32Array(v.count*v.itemSize),M=new Float32Array(_.count*_.itemSize);if(null!==g)if(Array.isArray(h))for(k=0,T=S.length;k<T;k++)for(O=S[k],C=Math.max(O.start,E.start),R=Math.min(O.start+O.count,E.start+E.count),A=C,P=R;A<P;A+=3)p=g.getX(A),y=g.getX(A+1),m=g.getX(A+2),f(e,v,b,w,p,y,m,I),f(e,_,x,w,p,y,m,M);else for(C=Math.max(0,E.start),R=Math.min(g.count,E.start+E.count),k=C,T=R;k<T;k+=3)p=g.getX(k),y=g.getX(k+1),m=g.getX(k+2),f(e,v,b,w,p,y,m,I),f(e,_,x,w,p,y,m,M);else if(Array.isArray(h))for(k=0,T=S.length;k<T;k++)for(O=S[k],C=Math.max(O.start,E.start),R=Math.min(O.start+O.count,E.start+E.count),A=C,P=R;A<P;A+=3)p=A,y=A+1,m=A+2,f(e,v,b,w,p,y,m,I),f(e,_,x,w,p,y,m,M);else for(C=Math.max(0,E.start),R=Math.min(v.count,E.start+E.count),k=C,T=R;k<T;k+=3)p=k,y=k+1,m=k+2,f(e,v,b,w,p,y,m,I),f(e,_,x,w,p,y,m,M);return{positionAttribute:v,normalAttribute:_,morphedPositionAttribute:new n.Float32BufferAttribute(I,3),morphedNormalAttribute:new n.Float32BufferAttribute(M,3)}}function y(e){if(0===e.groups.length)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),e;let t=e.groups;if(t=t.sort(((e,t)=>e.materialIndex!==t.materialIndex?e.materialIndex-t.materialIndex:e.start-t.start)),null===e.getIndex()){const t=e.getAttribute("position"),r=[];for(let e=0;e<t.count;e+=3)r.push(e,e+1,e+2);e.setIndex(r)}const r=e.getIndex(),n=[];for(let e=0;e<t.length;e++){const o=t[e],i=o.start,s=i+o.count;for(let e=i;e<s;e++)n.push(r.getX(e))}e.dispose(),e.setIndex(n);let o=0;for(let e=0;e<t.length;e++){const r=t[e];r.start=o,o+=r.count}let i=t[0];e.groups=[i];for(let r=1;r<t.length;r++){const n=t[r];i.materialIndex===n.materialIndex?i.count+=n.count:(i=n,e.groups.push(i))}return e}function m(e,t=Math.PI/3){const r=Math.cos(t),o=100*(1+1e-10),i=[new n.Vector3,new n.Vector3,new n.Vector3],s=new n.Vector3,a=new n.Vector3,l=new n.Vector3,c=new n.Vector3;function u(e){return`${~~(e.x*o)},${~~(e.y*o)},${~~(e.z*o)}`}const f=e.index?e.toNonIndexed():e,d=f.attributes.position,h={};for(let e=0,t=d.count/3;e<t;e++){const t=3*e,r=i[0].fromBufferAttribute(d,t+0),o=i[1].fromBufferAttribute(d,t+1),l=i[2].fromBufferAttribute(d,t+2);s.subVectors(l,o),a.subVectors(r,o);const c=(new n.Vector3).crossVectors(s,a).normalize();for(let e=0;e<3;e++){const t=u(i[e]);t in h||(h[t]=[]),h[t].push(c)}}const p=new Float32Array(3*d.count),y=new n.BufferAttribute(p,3,!1);for(let e=0,t=d.count/3;e<t;e++){const t=3*e,n=i[0].fromBufferAttribute(d,t+0),o=i[1].fromBufferAttribute(d,t+1),f=i[2].fromBufferAttribute(d,t+2);s.subVectors(f,o),a.subVectors(n,o),l.crossVectors(s,a).normalize();for(let e=0;e<3;e++){const n=h[u(i[e])];c.set(0,0,0);for(let e=0,t=n.length;e<t;e++){const t=n[e];l.dot(t)>r&&c.add(t)}c.normalize(),y.setXYZ(t+e,c.x,c.y,c.z)}}return f.setAttribute("normal",y),f}},19128:(e,t,r)=>{"use strict";r.d(t,{$EB:()=>n,eHc:()=>o});const n=2,o=0},55285:(e,t,r)=>{"use strict";r.d(t,{BL:()=>h,Lh:()=>d,ML:()=>s,Mj:()=>c,QH:()=>y,lW:()=>v,w5:()=>m});var n=r(96540),o=r(20181);var i="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function s(e,t,r,o){const s=(0,n.useRef)(t);i((()=>{s.current=t}),[t]),(0,n.useEffect)((()=>{const t=(null==r?void 0:r.current)??window;if(!t||!t.addEventListener)return;const n=e=>{s.current(e)};return t.addEventListener(e,n,o),()=>{t.removeEventListener(e,n,o)}}),[e,r,o])}function a(e){const t=(0,n.useRef)((()=>{throw new Error("Cannot call an event handler while rendering.")}));return i((()=>{t.current=e}),[e]),(0,n.useCallback)(((...e)=>t.current(...e)),[t])}var l="undefined"==typeof window;function c(e,t,r={}){const{initializeWithValue:o=!0}=r,i=(0,n.useCallback)((e=>r.serializer?r.serializer(e):JSON.stringify(e)),[r]),c=(0,n.useCallback)((e=>{if(r.deserializer)return r.deserializer(e);if("undefined"===e)return;const n=t instanceof Function?t():t;let o;try{o=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),n}return o}),[r,t]),u=(0,n.useCallback)((()=>{const r=t instanceof Function?t():t;if(l)return r;try{const t=window.localStorage.getItem(e);return t?c(t):r}catch(t){return console.warn(`Error reading localStorage key ${e}:`,t),r}}),[t,e,c]),[f,d]=(0,n.useState)((()=>o?u():t instanceof Function?t():t)),h=a((t=>{l&&console.warn(`Tried setting localStorage key ${e} even though environment is not a client`);try{const r=t instanceof Function?t(u()):t;window.localStorage.setItem(e,i(r)),d(r),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(t){console.warn(`Error setting localStorage key ${e}:`,t)}}));(0,n.useEffect)((()=>{d(u())}),[e]);const p=(0,n.useCallback)((t=>{(null==t?void 0:t.key)&&t.key!==e||d(u())}),[e,u]);return s("storage",p),s("local-storage",p),[f,h]}function u(e){const t=(0,n.useRef)(e);t.current=e,(0,n.useEffect)((()=>()=>{t.current()}),[])}function f(e,t=500,r){const i=(0,n.useRef)();u((()=>{i.current&&i.current.cancel()}));const s=(0,n.useMemo)((()=>{const n=o(e,t,r),s=(...e)=>n(...e);return s.cancel=()=>{n.cancel()},s.isPending=()=>!!i.current,s.flush=()=>n.flush(),s}),[e,t,r]);return(0,n.useEffect)((()=>{i.current=o(e,t,r)}),[e,t,r]),s}function d(e={}){const{initializeWithValue:t=!0}=e,[r,o]=(0,n.useState)(null),a=(0,n.useCallback)((()=>({width:(null==r?void 0:r.offsetWidth)??void 0,height:(null==r?void 0:r.offsetHeight)??void 0})),[null==r?void 0:r.offsetHeight,null==r?void 0:r.offsetWidth]),[l,c]=(0,n.useState)((()=>t?a():{width:void 0,height:void 0})),u=(0,n.useCallback)((()=>{c(a())}),[null==r?void 0:r.offsetHeight,null==r?void 0:r.offsetWidth]);s("resize",u),i((()=>{u()}),[null==r?void 0:r.offsetHeight,null==r?void 0:r.offsetWidth]);const f=[o,l];return f.ref=f[0],f.width=l.width,f.height=l.height,f}function h(e,t){var r;const o="current"in e,i=o?t:e,{threshold:s=0,root:a=null,rootMargin:l="0%",freezeOnceVisible:c=!1,initialIsIntersecting:u=!1}=i??{},[f,d]=(0,n.useState)(null),h=o?e.current:f,[p,y]=(0,n.useState)((()=>({isIntersecting:u,entry:void 0}))),m=(0,n.useRef)();m.current=null==i?void 0:i.onChange;const g=(null==(r=p.entry)?void 0:r.isIntersecting)&&c;(0,n.useEffect)((()=>{if(!h)return;if(!("IntersectionObserver"in window))return;if(g)return;let e;const t=new IntersectionObserver((r=>{const n=Array.isArray(t.thresholds)?t.thresholds:[t.thresholds];r.forEach((t=>{const r=t.isIntersecting&&n.some((e=>t.intersectionRatio>=e));y({isIntersecting:r,entry:t}),m.current&&m.current(r,t),r&&c&&e&&(e(),e=void 0)}))}),{threshold:s,root:a,rootMargin:l});return t.observe(h),()=>{t.disconnect()}}),[h,JSON.stringify(s),a,l,g,c]);const v=(0,n.useRef)(null);if((0,n.useEffect)((()=>{var e;h||!(null==(e=p.entry)?void 0:e.target)||c||g||v.current===p.entry.target||(v.current=p.entry.target,y({isIntersecting:u,entry:void 0}))}),[h,p.entry,c,g,u]),o)return p.entry;const b=[d,!!p.isIntersecting,p.entry];return b.ref=b[0],b.isIntersecting=b[1],b.entry=b[2],b}var p="undefined"==typeof window;function y(e,t={}){let{initializeWithValue:r=!0}=t;p&&(r=!1);const o=(0,n.useCallback)((e=>{if(t.deserializer)return t.deserializer(e);if("undefined"===e)return;let r;try{r=JSON.parse(e)}catch(e){return console.error("Error parsing JSON:",e),null}return r}),[t]),i=(0,n.useCallback)((()=>{if(p)return null;try{const t=window.localStorage.getItem(e);return t?o(t):null}catch(t){return console.warn(`Error reading localStorage key ${e}:`,t),null}}),[e,o]),[a,l]=(0,n.useState)((()=>{if(r)return i()}));(0,n.useEffect)((()=>{l(i())}),[e]);const c=(0,n.useCallback)((t=>{(null==t?void 0:t.key)&&t.key!==e||l(i())}),[e,i]);return s("storage",c),s("local-storage",c),a}function m(e,t){const r=function(){const e=(0,n.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();(0,n.useEffect)((()=>{if(!r)return e()}),t)}var g="undefined"==typeof window;function v(e={}){let{initializeWithValue:t=!0}=e;g&&(t=!1);const[r,o]=(0,n.useState)((()=>t?{width:window.innerWidth,height:window.innerHeight}:{width:void 0,height:void 0})),a=f(o,null==e?void 0:e.debounceDelay);function l(){((null==e?void 0:e.debounceDelay)?a:o)({width:window.innerWidth,height:window.innerHeight})}return s("resize",l),i((()=>{l()}),[]),r}},47892:()=>{"use strict";var e;e=function(){const e=5121,t=5126,r=5131,n=36193;let o;function i(e,t,r){return function(n,o,i){return((n+e-1)/e|0)*((o+t-1)/t|0)*r*i}}function s(e,t,r){return function(n,o,i){return(Math.max(n,e)*Math.max(o,t)/r|0)*i}}const a=new Map([[33776,i(4,4,8)],[33777,i(4,4,8)],[33778,i(4,4,16)],[33779,i(4,4,16)],[36196,i(4,4,8)],[35840,s(8,8,2)],[35842,s(8,8,2)],[35841,s(16,8,4)],[35843,s(16,8,4)],[37488,i(4,4,8)],[37489,i(4,4,8)],[37492,i(4,4,8)],[37493,i(4,4,8)],[37494,i(4,4,8)],[37495,i(4,4,8)],[37490,i(4,4,16)],[37491,i(4,4,16)],[37496,i(4,4,16)],[37497,i(4,4,16)],[37808,i(4,4,16)],[37840,i(4,4,16)],[37809,i(5,4,16)],[37841,i(5,4,16)],[37810,i(5,5,16)],[37842,i(5,5,16)],[37811,i(6,5,16)],[37843,i(6,5,16)],[37812,i(6,6,16)],[37844,i(6,6,16)],[37813,i(8,5,16)],[37845,i(8,5,16)],[37814,i(8,6,16)],[37846,i(8,6,16)],[37815,i(8,8,16)],[37847,i(8,8,16)],[37816,i(10,5,16)],[37848,i(10,5,16)],[37817,i(10,6,16)],[37849,i(10,6,16)],[37818,i(10,8,16)],[37850,i(10,8,16)],[37819,i(10,10,16)],[37851,i(10,10,16)],[37820,i(12,10,16)],[37852,i(12,10,16)],[37821,i(12,12,16)],[37853,i(12,12,16)],[35916,i(4,4,8)],[35917,i(4,4,8)],[35918,i(4,4,16)],[35919,i(4,4,16)],[36492,i(4,4,16)],[36493,i(4,4,16)],[36494,i(4,4,16)],[36495,i(4,4,16)],[36283,i(4,4,8)],[36284,i(4,4,8)],[36285,i(4,4,16)],[36286,i(4,4,16)]]);function l(i,s){const a=function(i){if(!o){const i={};i[6406]={bytesPerElement:[1,2,2,4],type:[e,r,n,t]},i[6409]={bytesPerElement:[1,2,2,4],type:[e,r,n,t]},i[6410]={bytesPerElement:[2,4,4,8],type:[e,r,n,t]},i[6407]={bytesPerElement:[3,6,6,12,2],type:[e,r,n,t,33635]},i[6408]={bytesPerElement:[4,8,8,16,2,2],type:[e,r,n,t,32819,32820]},i[35906]={bytesPerElement:[4,8,8,16,2,2],type:[e,r,n,t,32819,32820]},i[6402]={bytesPerElement:[2,4],type:[5125,5123]},i[34041]={bytesPerElement:[4]},i[33321]={bytesPerElement:[1]},i[36756]={bytesPerElement:[1]},i[33325]={bytesPerElement:[2]},i[33326]={bytesPerElement:[4]},i[33330]={bytesPerElement:[1]},i[33329]={bytesPerElement:[1]},i[33332]={bytesPerElement:[2]},i[33331]={bytesPerElement:[2]},i[33334]={bytesPerElement:[4]},i[33333]={bytesPerElement:[4]},i[33323]={bytesPerElement:[2]},i[36757]={bytesPerElement:[2]},i[33327]={bytesPerElement:[4]},i[33328]={bytesPerElement:[8]},i[33336]={bytesPerElement:[2]},i[33335]={bytesPerElement:[2]},i[33338]={bytesPerElement:[4]},i[33337]={bytesPerElement:[4]},i[33340]={bytesPerElement:[8]},i[33339]={bytesPerElement:[8]},i[32849]={bytesPerElement:[3]},i[35905]={bytesPerElement:[3]},i[36194]={bytesPerElement:[2]},i[36758]={bytesPerElement:[3]},i[35898]={bytesPerElement:[4]},i[35901]={bytesPerElement:[4]},i[34843]={bytesPerElement:[6]},i[34837]={bytesPerElement:[12]},i[36221]={bytesPerElement:[3]},i[36239]={bytesPerElement:[3]},i[36215]={bytesPerElement:[6]},i[36233]={bytesPerElement:[6]},i[36209]={bytesPerElement:[12]},i[36227]={bytesPerElement:[12]},i[32856]={bytesPerElement:[4]},i[35907]={bytesPerElement:[4]},i[36759]={bytesPerElement:[4]},i[32855]={bytesPerElement:[2]},i[32854]={bytesPerElement:[2]},i[32857]={bytesPerElement:[4]},i[34842]={bytesPerElement:[8]},i[34836]={bytesPerElement:[16]},i[36220]={bytesPerElement:[4]},i[36238]={bytesPerElement:[4]},i[36975]={bytesPerElement:[4]},i[36214]={bytesPerElement:[8]},i[36232]={bytesPerElement:[8]},i[36226]={bytesPerElement:[16]},i[36208]={bytesPerElement:[16]},i[33189]={bytesPerElement:[2]},i[33190]={bytesPerElement:[4]},i[36012]={bytesPerElement:[4]},i[35056]={bytesPerElement:[4]},i[36013]={bytesPerElement:[4]},i[36168]={bytesPerElement:[1]},o=i}return o[i]}(i);if(!a)throw"unknown internal format";if(a.type){const e=a.type.indexOf(s);if(e<0)throw new Error(`unsupported type ${s} for internalformat ${i}`);return a.bytesPerElement[e]}return a.bytesPerElement[0]}function c(e,t,r,n,o){const i=a.get(e);return i?i(t,r,n):function(e,t,r,n,o){return t*r*n*l(e,o)}(e,t,r,n,o)}function u(e){return function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer}(e)||e instanceof ArrayBuffer}function f(){return(new Error).stack.split("\n").slice(2).filter((e=>!e.includes("webgl-memory.js"))).join("\n")}const d=new Set;function h(e,t,r={}){if(d.has(e))return e;d.add(e);const n=r.origGLErrorFn||e.getError;let o=!1;const i=r.sharedState||function(e){const t={samples:(n=e).getParameter(n.SAMPLES)||1,depthBits:n.getParameter(n.DEPTH_BITS),stencilBits:n.getParameter(n.STENCIL_BITS),contextAttributes:n.getContextAttributes()};var n;const i={baseContext:e,config:r,apis:{gman_webgl_memory:{ctx:{getMemoryInfo(){const r=function(e,t){if(e.isContextLost())return 0;const{samples:r}=t,n=e.drawingBufferWidth*e.drawingBufferHeight,o=function(e){const{depthBits:t,stencilBits:r}=e,n=(t+r+7)/8|0;return 3===n?4:n}(t);return 4*n+n*r*4+n*o}(e,t);return{memory:{...l,drawingbuffer:r,total:r+l.buffer+l.texture+l.renderbuffer},resources:{...p}}},getResourcesInfo:e=>function(e,t){return[...e.webglObjectToMemory.keys()].filter((e=>e instanceof t)).map((t=>e.webglObjectToMemory.get(t)))}(i,e),setAllowUnknownTextures(e){o=e}}}},resources:{},memory:{texture:0,buffer:0,renderbuffer:0},bindings:new Map,defaultVertexArray:{},webglObjectToMemory:new Map},a=new Set(["webgl","webgl2","webgl_lose_context"]);function c(){i.bindings.clear(),i.webglObjectToMemory.clear(),i.webglObjectToMemory.set(i.defaultVertexArray,{}),i.currentVertexArray=i.defaultVertexArray,[i.resources,i.memory].forEach((function(e){for(const t in e)e[t]=0}))}return e.canvas&&(e.canvas.addEventListener("webglcontextlost",(function(){c(),i.isContextLost=!0;for(const[e,{ctx:t,origFuncs:r}]of[...Object.entries(i.apis)])if(!a.has(e)&&r){d.delete(t);for(const[e,n]of Object.entries(r))t[e]=n;delete s[e]}})),e.canvas.addEventListener("webglcontextrestored",(function(){i.isContextLost=!1}))),c(),i}(e);r.sharedState=i;const{apis:s,bindings:a,memory:l,resources:p,webglObjectToMemory:y}=i,m={};function g(){}function v(e,t,r){return e[r||`create${t[0].toUpperCase()}${t.substr(1)}`]?(p[t]=0,function(e,r,n,o){i.isContextLost||(++p[t],y.set(o,{size:0,stackCreated:f()}))}):null}function b(t,r=g,n){const o=n||`delete${t[0].toUpperCase()}${t.substr(1)}`;return e[o]?function(e,n,o){if(i.isContextLost)return;const[s]=o,a=y.get(s);a&&(--p[t],r(s,a),y.delete(s))}:null}function w(e,t,r,n,o){if(i.isContextLost)return;const s=a.get(e);if(!s)throw new Error(`no renderbuffer bound to ${e}`);const u=y.get(s);if(!u)throw new Error(`unknown renderbuffer ${s}`);const d=c(r,n,o,1)*t;l.renderbuffer-=u.size,u.size=d,u.stackUpdated=f(),l.renderbuffer+=d}const _=5121,x=34067,S=35866,E=34069,k=new Set([E,34070,34071,34072,34073,34074]);function A(e){return k.has(e)}function T(e){e=A(e)?x:e;const t=a.get(e);if(!t)throw new Error(`no texture bound to ${e}`);let r=y.get(t);if(!r&&!o)throw new Error(`unknown texture ${t}`);return r||(r={size:0},y.set(t,r)),r}function P(e,t,r,n,o,i,s,a){const u=e.size,d=c(n,o,i,s,a),h=A(t)?t-E:0;e.mips=e.mips||[],e.mips[r]=e.mips[r]||[];const p=e.mips[r][h]||{};e.size-=p.size||0,p.size=d,p.internalFormat=n,p.type=a,p.width=o,p.height=i,p.depth=s,e.mips[r][h]=p,e.size+=d,l.texture-=u,l.texture+=e.size,e.stackUpdated=f()}function O(e,t,r,n,o,i){const s=T(e),a=e===x?6:1,l=e===x?E:e;for(let c=0;c<t;++c){for(let e=0;e<a;++e)P(s,l+e,c,r,n,o,i);n=Math.ceil(Math.max(n/2,1)),o=Math.ceil(Math.max(o/2,1)),i=e===S?i:Math.ceil(Math.max(i/2,1))}}function C(e,t,r){if(i.isContextLost)return;const[n]=r;i.currentVertexArray=n||i.defaultVertexArray}function R(e,t){if(!i.isContextLost)if(34963===e)y.get(i.currentVertexArray).elementArrayBuffer=t;else a.set(e,t)}const I={},M={bufferData(e,t,r){if(i.isContextLost)return;const[n,o,,,s]=r;let c;if(c=34963===n?y.get(i.currentVertexArray).elementArrayBuffer:a.get(n),!c)throw new Error(`no buffer bound to ${n}`);let d=0;if(void 0!==s)d=s*o.BYTES_PER_ELEMENT;else if(u(o))d=o.byteLength;else{if("number"!=typeof o)throw new Error(`unsupported bufferData src type ${o}`);d=o}const h=y.get(c);if(!h)throw new Error(`unknown buffer ${c}`);l.buffer-=h.size,h.size=d,h.stackUpdated=f(),l.buffer+=d},bindVertexArray:C,bindVertexArrayOES:C,bindBuffer(e,t,r){const[n,o]=r;R(n,o)},bindBufferBase(e,t,r){const[n,,o]=r;R(n,o)},bindBufferRange(e,t,r){const[n,,o,,]=r;R(n,o)},bindRenderbuffer(e,t,r){if(i.isContextLost)return;const[n,o]=r;a.set(n,o)},bindTexture(e,t,r){if(i.isContextLost)return;const[n,o]=r;a.set(n,o)},copyTexImage2D(e,t,r){if(i.isContextLost)return;const[n,o,s,,,a,l]=r;P(T(n),n,o,s,a,l,1,_)},createBuffer:v(e,"buffer"),createFramebuffer:v(e,"framebuffer"),createRenderbuffer:v(e,"renderbuffer"),createProgram:v(e,"program"),createQuery:v(e,"query"),createShader:v(e,"shader"),createSampler:v(e,"sampler"),createTexture:v(e,"texture"),createTransformFeedback:v(e,"transformFeedback"),createVertexArray:v(e,"vertexArray"),createVertexArrayOES:v(e,"vertexArray","createVertexArrayOES"),compressedTexImage2D(e,t,r){if(i.isContextLost)return;const[n,o,s,a,l]=r;P(T(n),n,o,s,a,l,1,_)},compressedTexImage3D(e,t,r){if(i.isContextLost)return;const[n,o,s,a,l,c]=r;P(T(n),n,o,s,a,l,c,_)},deleteBuffer:b("buffer",(function(e,t){l.buffer-=t.size})),deleteFramebuffer:b("framebuffer"),deleteProgram:b("program"),deleteQuery:b("query"),deleteRenderbuffer:b("renderbuffer",(function(e,t){l.renderbuffer-=t.size})),deleteSampler:b("sampler"),deleteShader:b("shader"),deleteSync:b("sync"),deleteTexture:b("texture",(function(e,t){l.texture-=t.size})),deleteTransformFeedback:b("transformFeedback"),deleteVertexArray:b("vertexArray"),deleteVertexArrayOES:b("vertexArray",g,"deleteVertexArrayOES"),fenceSync:function(e){if(!i.isContextLost&&e.fenceSync)return p.sync=0,function(e,t,r,n){++p.sync,y.set(n,{size:0})}}(e),generateMipmap(e,t,r){if(i.isContextLost)return;const[n]=r,o=T(n),s=o.parameters&&o.parameters.get(33084)||0,a=o.parameters&&o.parameters.get(33085)||1024,l=o.mips[s][0];let{width:c,height:u,depth:f}=l;const{internalFormat:d,type:h}=l;let p=s+1;const y=n===x?6:1,m=n===x?E:n;for(;p<=a&&(1!==c||1!==u||1!==f&&n!==S);){c=Math.ceil(Math.max(c/2,1)),u=Math.ceil(Math.max(u/2,1)),f=n===S?f:Math.ceil(Math.max(f/2,1));for(let e=0;e<y;++e)P(o,m+e,p,d,c,u,f,h);++p}},getSupportedExtensions(e,t,r,n){i.isContextLost||n.push("GMAN_webgl_memory")},renderbufferStorage(e,t,r){const[n,o,i,s]=r;w(n,1,o,i,s)},renderbufferStorageMultisample(e,t,r){const[n,o,i,s,a]=r;w(n,o,i,s,a)},texImage2D(e,t,r){if(i.isContextLost)return;const[n,o,s]=r;let a,l,c;if(6===r.length){const e=r[5];a=e.width,l=e.height,c=r[4]}else a=r[3],l=r[4],c=r[7];P(T(n),n,o,s,a,l,1,c)},texImage3D(e,t,r){if(i.isContextLost)return;const[n,o,s,a,l,c,,,u]=r;P(T(n),n,o,s,a,l,c,u)},texParameteri(e,t,r){if(i.isContextLost)return;const[n,o,s]=r,a=T(n);a.parameters=a.parameters||new Map,a.parameters.set(o,s)},texStorage2D(e,t,r){const[n,o,i,s,a]=r;O(n,o,i,s,a,1)},texStorage3D(e,t,r){const[n,o,i,s,a,l]=r;O(n,o,i,s,a,l)}},D={getExtension(e,t){if(i.isContextLost)return;const o=e[t];e[t]=function(...t){const i=t[0].toLowerCase(),a=s[i];if(a)return a.ctx;const l=o.call(e,...t);return l&&h(l,i,{...r,origGLErrorFn:n}),l}}};function N(e,t){const r=e[t],o=I[t]||g,i=M[t]||g;if(o===g&&M===g)return;e[t]=function(...n){o(e,t,n);const s=r.call(e,...n);return i(e,t,n,s),s};const s=D[t];s&&s(e,t,n)}for(const t in e)"function"==typeof e[t]&&(m[t]=e[t],N(e,t));s[t.toLowerCase()]={ctx:e,origFuncs:m}}function p(e){const t=e.prototype.getContext;e.prototype.getContext=function(e,...r){const n=t.call(this,e,...r);return n&&n.bindTexture&&(h(n,e,{}),n.getExtension("GMAN_webgl_memory")),n}}"undefined"!=typeof HTMLCanvasElement&&p(HTMLCanvasElement),"undefined"!=typeof OffscreenCanvas&&p(OffscreenCanvas)},"function"==typeof define&&define.amd?define(e):e()},73401:(e,t,r)=>{"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{c:()=>E});var a=function(){return"function"==typeof Symbol},l=function(e){return a()&&Boolean(Symbol[e])},c=function(e){return l(e)?Symbol[e]:"@@"+e};a()&&!l("observable")&&(Symbol.observable=Symbol("observable"));var u=c("iterator"),f=c("observable"),d=c("species");function h(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[d])&&(t=void 0),void 0!==t?t:E}function y(e){return e instanceof E}function m(e){m.log?m.log(e):setTimeout((function(){throw e}))}function g(e){Promise.resolve().then((function(){try{e()}catch(e){m(e)}}))}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var r=h(t,"unsubscribe");r&&r.call(t)}}catch(e){m(e)}}function b(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function w(e,t,r){e._state="running";var n=e._observer;try{var o=h(n,t);switch(t){case"next":o&&o.call(n,r);break;case"error":if(b(e),!o)throw r;o.call(n,r);break;case"complete":b(e),o&&o.call(n)}}catch(e){m(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function _(e,t,r){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void g((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(w(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)}))):void w(e,t,r);e._queue.push({type:t,value:r})}}var x=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new S(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(b(this),v(this))},s(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){_(this._subscription,"next",e)},t.error=function(e){_(this._subscription,"error",e)},t.complete=function(){_(this._subscription,"complete")},s(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new x(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(r,n){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){n(e),o.unsubscribe()}},error:n,complete:r});else n(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),r()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(r){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))((function(r){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=p(this),n=arguments.length>1,o=!1,i=arguments[1];return new r((function(r){return t.subscribe({next:function(t){var s=!o;if(o=!0,!s||n)try{i=e(i,t)}catch(e){return r.error(e)}else i=t},error:function(e){r.error(e)},complete:function(){if(!o&&!n)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(i),r.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=p(this);return new o((function(t){var n,i=0;return function e(s){n=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===r.length?(n=void 0,t.complete()):e(o.from(r[i++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=p(this);return new r((function(n){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var i=r.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),s()}});o.push(i)},error:function(e){n.error(e)},complete:function(){s()}});function s(){i.closed&&0===o.length&&n.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))},t[f]=function(){return this},e.from=function(t){var r="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var o=h(t,f);if(o){var i=o.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return y(i)&&i.constructor===r?i:new r((function(e){return i.subscribe(e)}))}if(l("iterator")&&(o=h(t,u)))return new r((function(e){g((function(){if(!e.closed){for(var r,i=n(o.call(t));!(r=i()).done;){var s=r.value;if(e.next(s),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new r((function(e){g((function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new("function"==typeof this?this:e)((function(e){g((function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}}))}))},s(e,null,[{key:d,get:function(){return this}}]),e}();a()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:f,hostReportError:m},configurable:!0})},63837:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);