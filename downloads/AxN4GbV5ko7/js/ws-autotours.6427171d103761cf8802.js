/*! For license information please see ws-autotours.6427171d103761cf8802.js.LICENSE.txt */
(self.webpackChunkmp_webgl=self.webpackChunkmp_webgl||[]).push([[8636],{57726:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(this&&this[n]||n);else if(Array.isArray(n))e.push(a.apply(this,n));else if("object"===o)if(n.toString===Object.prototype.toString)for(var r in n)s.call(n,r)&&n[r]&&e.push(this&&this[r]||r);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},88142:(e,t,n)=>{"use strict";n.d(t,{AH:()=>l,Cn:()=>h,Dw:()=>g,Hx:()=>E,JL:()=>N,Jm:()=>T,KJ:()=>O,PU:()=>S,Sm:()=>R,VJ:()=>_,WV:()=>c,Xi:()=>A,YT:()=>a,bp:()=>m,cT:()=>d,eD:()=>i,mb:()=>r,mx:()=>p,qg:()=>o,vb:()=>v,vu:()=>s,yO:()=>u});const s="IAppSwitch",a="IBlurEditor",o="IBlurSuggestionsModule",r="ICloudControl",i="IDefurnishToolModule",l="IGridUnderlay",c="ILabelEditor",u="ILayersTool",d="IMeshTrimEditor",_="IPinConnectionModule",E="IPinNumbererModule",p="IPlayerOptionsEditor",A="IRoomBoundTool",R="IRotationInteractionModule",m="ISweepEditor",h="ISweepPinEditorModule",T="ITourEditor",S="IToursGeneratorGui",N="IVisionCatalog",g="IWorkshopAnalytics",O="IWorkshopGui",v="IVampireCamera"},16430:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var s=n(84710),a=n(97157),o=n(56413);class r extends s.B{constructor(){super(...arguments),this.name="tour-editor-view-data",this.portals=new o.E,this.editorMode=a.R.AUTOSAVE}setPortal(e,t){this.portals.set(e,t)}getPortal(e){return this.portals.get(e)||null}onPortalChanged(e,t){const n=(n,s)=>{s===e&&t(n||null)};return this.portals.onElementChanged({onAdded:n,onRemoved:n,onUpdated:n})}setEditorMode(e){this.editorMode=e,this.commit()}}},97157:(e,t,n)=>{"use strict";var s,a;n.d(t,{R:()=>a,U:()=>s}),function(e){e.ACTION_BAR_LEFT="tour_editor_action_bar_left",e.ACTION_BAR_RIGHT="tour_editor_action_bar_right",e.OVERLAY="tour_editor_overlay"}(s||(s={})),function(e){e.AUTOSAVE="autosave",e.DRAFT="draft"}(a||(a={}))},20420:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var s=n(96540);if(5602==n.j)var a=n(53289);if(5602==n.j)var o=n(22937);function r(){const[e,t]=(0,s.useState)(!1),n=(0,s.useCallback)((()=>t(!0)),[]),r=(0,s.useCallback)((()=>t(!1)),[]);return(0,a.J)(o.nD,n),(0,a.J)(o.ap,r),e}},75399:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var s=n(87805),a=n(16430),o=n(97157);const r=(0,s.u)(a.z,"editorMode",o.R.AUTOSAVE)},56662:(e,t,n)=>{"use strict";if(n.d(t,{F:()=>i,j:()=>r}),5602==n.j)var s=n(17904);var a=n(96540);if(5602==n.j)var o=n(88142);const r=e=>{const{viewData:t}=(0,s.S)(o.Jm)||{},[n,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(!t)return;r(t.getPortal(e));const n=t.onPortalChanged(e,(e=>r(e)));return()=>n.cancel()}),[e,t]),n},i=e=>{const{viewData:t}=(0,s.S)(o.Jm)||{};return(0,a.useCallback)((n=>{null==t||t.setPortal(e,n)}),[e,t])}},48628:(e,t,n)=>{"use strict";n.d(t,{K:()=>G});var s=n(65945),a=n(75578),o=n(71687),r=n(73566),i=n(74848),l=n(96540),c=n(40961),u=n(98349),d=n(56662),_=n(97157),E=n(28956),p=n(70585),A=n(90087),R=n(17904),m=n(56147),h=n(8647),T=n(92637),S=n(85609),N=n(91719),g=n(95541),O=n(75399),v=n(25516);const f=()=>{const e=(0,O.q)(),t=(0,d.j)(_.U.ACTION_BAR_RIGHT),n=(0,d.j)(_.U.OVERLAY),s=(0,A.L)(),a=(0,g.H)(),r=(0,R.S)(o.Gw),f=(0,v.a)(),C=(0,S.U)("tour-generator-overlay"),I=(0,l.useCallback)((()=>{null==r||r.discardGeneratedTour()}),[r]),b=(0,l.useCallback)((async()=>{await(null==r?void 0:r.acceptGeneratedTour().catch((e=>{C.error(e),s.issueCommand(new T.P(m.A.ERRORS.UNABLE_TO_SAVE_CHANGES_ERROR_MESSAGE,{type:h.v.ERROR,error:e}))})))}),[s,C,r]),x=(0,l.useCallback)((e=>{s.issueCommand(new T.P(m.A.WORKSHOP.HLR.AUTOGEN_TOUR_ERROR_MESSAGE,{type:h.v.ERROR,error:e}))}),[s]),j=f&&!a;return t&&n?(0,i.jsxs)(i.Fragment,{children:[(0,c.createPortal)((0,i.jsx)(u.G,{onError:x}),t),e===_.R.DRAFT&&(0,c.createPortal)((0,i.jsx)(p.P,{onAccept:b,onCancel:I}),n),j&&(0,c.createPortal)((0,i.jsx)(E.E,{}),n),(0,i.jsx)(N.A,{})]}):null};var C=n(24241),I=n(73094),b=function(e,t,n,s){var a,o=arguments.length,r=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(e,t){return function(n,s){t(n,s,e)}};let G=class extends a.n{constructor(e,t,n){super(),this.name="tours-generator-gui",this.toolsModule=e,this.layersModule=n,this.modelDataModule=t}async init(e,t){(0,I.U)({layersData:this.layersModule.layersData,modelData:this.modelDataModule.data})?this.registerUi():C.Vy.for(this).warn("Tour generation is not available.")}dispose(e){super.dispose(e),this.unregisterUi()}registerUi(){this.ui||(this.ui=f,this.toolsModule.registerToolUi(r.S0.HLR,this.ui))}unregisterUi(){this.ui&&(this.toolsModule.unregisterToolUi(r.S0.HLR,this.ui),this.ui=void 0)}};G=b([(0,s._q)(),j(0,(0,s.y_)(o.N7)),j(1,(0,s.y_)(o.bj)),j(2,(0,s.y_)(o.az)),x("design:paramtypes",[Object,Object,Object])],G)},70585:(e,t,n)=>{"use strict";n.d(t,{P:()=>C});var s=n(74848),a=n(57726),o=n.n(a),r=n(93137),i=n(17605),l=n(48270),c=n(96540);var u=n(68375),d=n(81088),_=n(22213),E=n(90087),p=n(39869),A=n(56147),R=n(35354);const{SAVE:m,DISCARD:h}=A.A.WORKSHOP.MODAL,{REPLACE_TOUR:T,KEEP_CURRENT_TOUR:S,REPLACE_CURRENT_TOUR:N,ACCEPT_GENERATED_TOUR:g,REPLACE_TOUR_HELP_MESSAGE:O,ACCEPT_TOUR_HELP_MESSAGE:v}=A.A.WORKSHOP.HLR,f=o().bind({"accept-tour-dialog":"d0GpE_o8oR0lPeCLGfHR","accept-tour-dialog__header":"mqwo7Li3VHVfz2XJothy",header__title:"c7FAtweuYv2eCtH8ZkDN",header__icon:"xARsUgMkxTFCUraUrouB","accept-tour-dialog__content":"Bwr5vCiimui6ZO2Jo55w","accept-tour-dialog__actions":"WqKPQRNuV9cU_RfROlHS"}),C=({className:e,onAccept:t,onCancel:n})=>{const a=(0,p.Y)(),o=(0,u.s)(),[A,C]=(0,c.useState)(!1),I=(0,E.L)(),b=(0,R.m)(),x=((null==b?void 0:b.reel.length)||-1)>0,j=(0,c.useCallback)((async e=>{C(!0),o.trackGuiEvent("tour_reject_clicked",{tool:"hlr",event:e}),n(),C(!1)}),[o,n]),G=(0,c.useCallback)((async e=>{C(!0),o.trackGuiEvent("tour_accept_clicked",{tool:"hlr",event:e}),I.issueCommand(new d.X6(_.a.SAVING_GENERATED_TOUR,!0)),await t().finally((()=>{C(!1),I.issueCommand(new d.X6(_.a.SAVING_GENERATED_TOUR,!1))}))}),[o,I,t]),U=x?a.t(N):a.t(g),P=x?a.t(O):a.t(v),D=x?a.t(T):a.t(m),L=x?a.t(S):a.t(h);return(0,s.jsxs)("div",{className:f("accept-tour-dialog",{"accept-tour-dialog--has-tour":x},e),"data-testid":"accept_tour_dialog",children:[(0,s.jsxs)("header",{className:f("accept-tour-dialog__header"),children:[(0,s.jsx)(r.I,{name:"sparkle",className:f("header__icon")}),(0,s.jsx)("h3",{className:f("header__title"),children:U})]}),(0,s.jsx)("p",{className:f("accept-tour-dialog__content"),children:P}),(0,s.jsxs)("div",{className:f("accept-tour-dialog__actions"),children:[(0,s.jsx)(i.$,{"data-testid":"btn_discard_tour",size:l.M.SMALL,variant:l.A.SECONDARY,label:L,icon:x?void 0:"trash",onClick:j,disabled:A}),(0,s.jsx)(i.$,{"data-testid":"btn_accept_tour",size:l.M.SMALL,variant:l.A.PRIMARY,label:D,onClick:G,disabled:A})]})]})}},28956:(e,t,n)=>{"use strict";n.d(t,{E:()=>h});var s=n(74848),a=n(96540),o=n(53473),r=n(57726),i=n.n(r),l=n(87965),c=n(37789),u=n(49817),d=n(49812),_=n(64650),E=n(46227),p=n(78023),A=n(86613),R=n(68375);const m=i().bind({"feedback-tour-dialog":"NK4Qn3rRtonC043HGCl9","feedback-tour-dialog__close":"OsLp94DILcxqyi2pCRou"});function h(){const e=(0,R.s)(),t=(0,d.h)(),[n,r]=(0,a.useState)(!1),i=(0,E.n)(),[h,T]=(0,a.useState)(!1),[S,N]=(0,a.useState)(),[g,O]=(0,p.n)(null==t?void 0:t.activeAssetsId,l.Y.AutoToursRated,!1),v=(0,a.useRef)(!1),f=i===_.ei.IDLE||n||g&&!S,C=()=>{e.trackGuiEvent("tour_rating_completed",{tool:"hlr"}),T(!0),O(!0)};return(0,a.useEffect)((()=>{f||v.current||(v.current=!0,e.trackGuiEvent("tour_rating_shown",{tool:"hlr"}))}),[e,f]),f?null:(0,s.jsxs)("div",{className:m("feedback-tour-dialog"),children:[(0,s.jsx)(o.J,{onClose:()=>{e.trackGuiEvent("tour_rating_closed",{tool:"hlr",data:JSON.stringify({survey_state:h?"answered":"unanswered"})}),r(!0),O(!0)},className:m("feedback-tour-dialog__close")}),h?(0,s.jsx)(A.z,{}):S?5!==S?(0,s.jsx)(c.J,{onComplete:C}):null:(0,s.jsx)(u.Q,{onHappiness:e=>{N(e),5===e&&C()},acceptanceStatus:i})]})}},7065:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var s=n(96540);if(5602==n.j)var a=n(68375);function o(){const e=(0,a.s)();return(0,s.useCallback)(((t={})=>{const n=Object.assign({feature:"auto_tours"},t);e.track("feature_rated",n)}),[e])}},37789:(e,t,n)=>{"use strict";n.d(t,{J:()=>w});var s=n(74848),a=n(96540),o=n(57726),r=n.n(o),i=n(17605),l=n(48270),c=n(39869),u=n(56147),d=n(13584);const{RATING_FEEDBACK_SPEED_TITLE:_,RATING_FEEDBACK_SPEED_MUCH_TOO_SLOW:E,RATING_FEEDBACK_SPEED_SOMEWHAT_SLOW:p,RATING_FEEDBACK_SPEED_ABOUT_RIGHT:A,RATING_FEEDBACK_SPEED_SOMEWHAT_FAST:R,RATING_FEEDBACK_SPEED_MUCH_TOO_FAST:m}=u.A.WORKSHOP.HLR,h="speed",T=[{text:E,value:"much_too_slow"},{text:p,value:"somewhat_slow"},{text:A,value:"about_right"},{text:R,value:"somewhat_fast"},{text:m,value:"much_too_fast"}],S=({answers:e,onChange:t,className:n})=>{const a=(0,c.Y)(),o=e=>()=>{const n=[e.value];t(h,n)};return(0,s.jsx)(s.Fragment,{children:T.map((t=>(0,s.jsx)(d.S,{enabled:!0,className:n,label:a.t(t.text),onChange:o(t),id:`${h}-${t.value}`,checkboxStyle:d.x.FILTER,checked:e.includes(t.value)},t.value)))})};S.Title=({className:e})=>{const t=(0,c.Y)();return(0,s.jsx)("span",{className:e,children:t.t(_)})};const{RATING_FEEDBACK_PATH_ISSUES_TITLE:N,RATING_FEEDBACK_PATH_ISSUES_MISSING_ROOMS_FLOORS:g,RATING_FEEDBACK_PATH_ISSUES_MISSING_OUTDOOR_AREAS:O,RATING_FEEDBACK_PATH_ISSUES_UNWANTED_AREAS:v,RATING_FEEDBACK_PATH_ISSUES_POOR_TRANSITIONS:f,RATING_FEEDBACK_PATH_ISSUES_CUT_THROUGH_WALLS:C,RATING_FEEDBACK_PATH_ISSUES_OTHER:I}=u.A.WORKSHOP.HLR,b="path_issues",x=[{text:g,value:"missing_rooms_floors"},{text:O,value:"missing_outdoor_areas"},{text:v,value:"unwanted_areas"},{text:f,value:"poor_transitions"},{text:C,value:"cut_through_walls"},{text:I,value:"other"}],j=({answers:e,onChange:t,className:n})=>{const a=(0,c.Y)(),o=n=>()=>{const s=e.includes(n.value)?e.filter((e=>e!==n.value)):[...e,n.value];t(b,s)};return(0,s.jsx)(s.Fragment,{children:x.map((t=>(0,s.jsx)(d.S,{enabled:!0,className:n,label:a.t(t.text),onChange:o(t),id:`${b}-${t.value}`,checkboxStyle:d.x.FILTER,checked:e.includes(t.value)},t.value)))})};j.Title=({className:e})=>{const t=(0,c.Y)();return(0,s.jsx)("span",{className:e,children:t.t(N)})};var G=n(7065);const U=r().bind({"follow-up":"ZBFJzqPoGudk0tOsbhNv","follow-up__header":"cevORlqM5PJpbdxVBc9E","follow-up__header__title":"yT22vT41RvkjvprlPXu8","follow-up__question":"iVLdbeQRN7S5OaXvpXiY","follow-up__question__q":"bpVuSNH74I7DA7jXmSrC","follow-up__footer":"h4Xe5EjFMusO4i4e67_S","follow-up__footer__progress":"sh4_rlPY7Vza_Ug6_JNX"}),{NEXT:P}=u.A,{MODEL_RATING:D}=u.A.WORKSHOP,L=[{id:"path_issues",Component:j},{id:"speed",Component:S}];function w({onComplete:e}){const t=(0,c.Y)(),[n,o]=(0,a.useState)(0),r=(0,G.C)(),[u,d]=(0,a.useState)({speed:[],path_issues:[]}),_=n+1===L.length,{id:E,Component:p}=L[n];return(0,s.jsxs)("div",{className:U("follow-up"),children:[(0,s.jsx)("header",{className:U("follow-up__header"),children:(0,s.jsx)(p.Title,{className:U("follow-up__header__title")})}),(0,s.jsx)("section",{className:U("follow-up__question"),children:(0,s.jsx)(p,{answers:u[E],onChange:(e,t)=>{d((n=>Object.assign(Object.assign({},n),{[e]:t})))},className:U("follow-up__question__q")})}),(0,s.jsxs)("footer",{className:U("follow-up__footer"),children:[(0,s.jsx)("small",{className:U("follow-up__footer__progress"),children:t.t(D.PROGRESS,{"current-question-number":n+1,"max-question-number":L.length})}),(0,s.jsx)(i.$,{onClick:()=>{const t=u[E]||[];t.length>0?r({issue_types:`${E}-${t.join()}`}):r({issue_types:`${E}-unanswered`}),_?e():o((e=>e+1))},variant:l.A.TERTIARY,label:_?t.t(D.SAVE):t.t(P)})]})]})}},49817:(e,t,n)=>{"use strict";n.d(t,{Q:()=>A});var s=n(74848),a=n(57726),o=n.n(a),r=n(56147),i=n(39869),l=n(64650),c=n(7065),u=n(19979);const d=o().bind({happiness:"u7aPeXZedWWI4ULQf2Xa",happiness__title:"cGGBwiyRgiTo3wgsIMV4",happiness__text:"wixXmHNKWKBFcfnryfqN"}),{RATING_FEEDBACK_HAPPINESS_SUBTITLE:_,RATING_FEEDBACK_HAPPINESS_SAVED_TITLE:E,RATING_FEEDBACK_HAPPINESS_REJECTED_TITLE:p}=r.A.WORKSHOP.HLR;function A({onHappiness:e,acceptanceStatus:t}){const n=(0,i.Y)(),a=(0,c.C)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{className:d("happiness"),children:[(0,s.jsxs)("span",{className:d("happiness__title"),children:[t===l.ei.ACCEPTED&&n.t(E),t===l.ei.DISCARDED&&n.t(p)]}),(0,s.jsx)("small",{className:d("happiness__text"),children:n.t(_)})]}),(0,s.jsx)(u.w,{setHappiness:t=>{e(t),a({happiness:t})}})]})}},98349:(e,t,n)=>{"use strict";n.d(t,{G:()=>P});var s=n(74848),a=n(57726),o=n.n(a),r=n(5262),i=n(90087),l=n(47982),c=n(73566),u=n(89432),d=n(28165),_=n(9158),E=n(20680),p=n(20420),A=n(48463),R=n(17605),m=n(48270),h=n(96540);var T=n(85609),S=n(39869),N=n(56147),g=n(68375),O=n(81088),v=n(22213),f=n(95541),C=n(29758),I=n(75399),b=n(97157);const x=o().bind({"generate-tour-wrapper":"q2YagOuvRvQ4CbpEH1Wk","generate-tour-badge":"sGgXwcT7wH9YIRKLusxW","generate-tour-badge-label":"Z7gU2lGiHilelaXAMYXn","generate-tour-button":"js4QLmrmZsaMC2ep_jWZ","generate-tour-icon":"E5v0wb2oh6fj9KWOPmrB","generate-tour-wrapper--disabled":"wshn9sMEjeUagYfOty8d"}),{GENERATING:j}=N.A.GENERIC,{BETA_TAG:G}=N.A.WORKSHOP.EDIT_BAR,{GENERATE_TOUR:U}=N.A.WORKSHOP.HLR,P=({className:e,onClick:t,onError:n,onTourGenerated:a})=>{const[o,N]=(0,h.useState)(null),P=(0,S.Y)(),D=(0,f.H)(),L=(0,_.A)(),w=(0,p.d)(),y=(0,E.I)(),H=(0,r.i)(d.Ye,d.lB),k=(0,l.j)(),M=(0,T.U)("generate-tour-button"),K=(0,g.s)(),B=(0,i.L)(),F=(0,I.q)(),{isEdited:Y}=(0,C.e)(),W=L||w||F===b.R.DRAFT&&!Y,V=L?P.t(j):P.t(U);return(0,s.jsxs)("div",{className:x("generate-tour-wrapper",{"generate-tour-wrapper--disabled":W}),children:[(0,s.jsx)(A.E,{label:P.t(G),className:x("generate-tour-badge"),labelClass:x("generate-tour-badge-label")}),(0,s.jsx)(R.$,{ref:N,size:D?m.M.MEDIUM:m.M.SMALL,variant:m.A.FAB,disabled:W,icon:"sparkle",ariaLabel:V,label:D?void 0:V,theme:"dark",testId:"generate-tour-button",onClick:async e=>{if(!k||!y)return;t&&(K.trackGuiEvent("tour_generate_clicked",{tool:"hlr",event:e}),t()),B.issueCommand(new O.X6(v.a.GENERATING_TOUR,!0));const s=await y.generateTourFromTemplate(H,{modelId:k}).catch((e=>{y.cancelled||(M.error(e),n&&n(e))})).finally((()=>{B.issueCommand(new O.X6(v.a.GENERATING_TOUR,!1))}));s&&a&&a(s)},className:x("generate-tour-button",e),iconClassName:x("generate-tour-icon")}),o?(0,s.jsx)(u.w,{target:o,announcement:c.Q7.HLR_AUTOGEN_TOUR_READY}):null]})}},91719:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var s=n(74848),a=n(57726),o=n.n(a),r=n(68419),i=n(22213),l=n(37049),c=n(70961),u=n(57484);const d=o().bind({"loading-tour-modal-wrapper":"yIyNw6ZB5pO_6u7lEAeh","loading-tour-modal":"bixi_ph7X8FQms0pODhF"});function _(){const e=(0,r.t)(),t=e===i.a.GENERATING_TOUR||e===i.a.SAVING_GENERATED_TOUR;return(0,s.jsx)(l.Q,{noHeader:!0,preventClose:!0,open:t,className:d("loading-tour-modal-wrapper"),children:(0,s.jsxs)("div",{className:d("loading-tour-modal"),children:[e===i.a.GENERATING_TOUR?(0,s.jsx)(u.l,{}):null,e===i.a.SAVING_GENERATED_TOUR?(0,s.jsx)(c.P,{}):null]})})}},57484:(e,t,n)=>{"use strict";n.d(t,{l:()=>S});var s=n(74848),a=n(57726),o=n.n(a),r=n(96540),i=n(17904),l=n(56147),c=n(39869),u=n(60353),d=n(17605),_=n(48270),E=n(71687);var p=n(68375);const A=o().bind({"generating-tour-title":"Fm0G0A2ITTzkASrTTSuL","generating-tour-description":"Y6zOK7w_Vak0N4eGMVHx"}),{CANCELING:R}=l.A.GENERIC,{GENERATING_TOUR:m,GENERATING_TOUR_MESSAGE:h,CANCEL_GENERATION:T}=l.A.WORKSHOP.HLR;function S(){const e=(0,p.s)(),t=(0,c.Y)(),[n,a]=(0,r.useState)(!1),o=(0,i.S)(E.Gw),l=(0,r.useCallback)((t=>{e.trackGuiEvent("tour_generation_canceled",{tool:"hlr",event:t}),null==o||o.cancelGeneration(),a(!0)}),[e,o]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.t,{}),(0,s.jsx)("span",{className:A("generating-tour-title"),children:t.t(m)}),(0,s.jsx)("span",{className:A("generating-tour-description"),children:t.t(h)}),(0,s.jsx)(d.$,{disabled:n,onClick:l,size:_.M.SMALL,variant:_.A.SECONDARY,label:n?t.t(R):t.t(T),testId:"btn-cancel-tour-generation"})]})}},70961:(e,t,n)=>{"use strict";n.d(t,{P:()=>E});var s=n(74848),a=n(57726),o=n.n(a),r=n(93137),i=n(9241),l=n(56147),c=n(39869);const u=o().bind({"saving-tour-title":"C3B4fLbxUhw5baeYNvEL","saving-tour-description":"Oz_6WSdfn8XLAWBk6xKr"}),{SAVING_TOUR:d,SAVING_TOUR_MESSAGE:_}=l.A.WORKSHOP.HLR;function E(){const e=(0,c.Y)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:u("saving-tour-title"),children:[(0,s.jsx)(r.I,{name:"download",size:i.l.MEDIUM}),(0,s.jsx)("span",{children:e.t(d)})]}),(0,s.jsx)("span",{className:u("saving-tour-description"),children:e.t(_)})]})}},46227:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var s=n(87805),a=n(64650),o=n(62311);const r=(0,s.u)(o.u,"acceptanceStatus",a.ei.IDLE)},29758:(e,t,n)=>{"use strict";if(n.d(t,{e:()=>r}),5602==n.j)var s=n(98236);if(5602==n.j)var a=n(62311);var o=n(96540);const r=()=>{const e=(0,s.E)(a.u),[t,n]=(0,o.useState)(0),[r,i]=(0,o.useState)(0),[l,c]=(0,o.useState)(0);return(0,o.useEffect)((()=>{if(!e)return;const t=e.onPropertyChanged("tourStopsAdded",n);return n(e.tourStopsAdded),()=>null==t?void 0:t.cancel()}),[e]),(0,o.useEffect)((()=>{if(!e)return;const t=e.onPropertyChanged("tourStopsRemoved",i);return i(e.tourStopsRemoved),()=>null==t?void 0:t.cancel()}),[e]),(0,o.useEffect)((()=>{if(!e)return;const t=e.onPropertyChanged("tourStopsUpdated",c);return c(e.tourStopsUpdated),()=>null==t?void 0:t.cancel()}),[e]),{added:t,removed:r,updated:l,isEdited:t>0||r>0||l>0}}},25516:(e,t,n)=>{"use strict";if(n.d(t,{a:()=>o}),5602==n.j)var s=n(5262);if(5602==n.j)var a=n(28165);function o(){return(0,s.i)(a.$0,!1)}},35354:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var s=n(87805),a=n(62311);const o=(0,s.u)(a.u,"stashedTour",null)},36422:(e,t,n)=>{"use strict";if(n.r(t),n.d(t,{default:()=>s.K}),5602==n.j)var s=n(48628)},78023:(e,t,n)=>{"use strict";if(n.d(t,{n:()=>o}),5602==n.j)var s=n(55285);const a=new(n(10843).Ay)("use-model-local-storage");function o(e,t,n){const[o,r]=(0,s.Mj)(t,{});let i=n;if(e){const t=o[e];void 0!==t&&(i=t)}return[i,t=>{e?(o[e]=t,r(o)):a.warn(`No model ID set, can't save ${t}`)}]}},37049:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p});var s=n(74848),a=n(96540),o=n(40961),r=n(32485),i=n.n(r),l=n(56848),c=n(89087),u=n(53473),d=n(81088),_=n(90087),E=n(19072);function p({children:e,className:t,title:n,open:r,onClose:p,fullModal:A=!1,noHeader:R=!1,preventClose:m=!1}){const h=(0,E.x)(),T=(0,_.L)(),S=(0,a.useRef)(!1),N=(0,a.useCallback)((()=>{m||(T.issueCommand(new d.rH),p&&p())}),[T,p,m]),g=(0,a.useCallback)((()=>{S.current=!0,window.setTimeout((()=>{S.current=!1}),500)}),[]),O=(0,a.useCallback)((()=>{S.current&&(S.current=!1,N())}),[N]),v=h.querySelector("#react-render-root")||document.body,f=i()(t,{open:r,"full-modal":A});return(0,o.createPortal)((0,s.jsx)(l.w,{open:r,className:i()("modal-background",{open:r}),onPointerUp:O,onPointerDown:g,children:(0,s.jsxs)(c.l,{className:f,onClose:N,children:[R?null:(0,s.jsxs)("header",{className:"modal-header",children:[(0,s.jsx)("div",{className:"modal-title",children:n}),(0,s.jsx)(u.J,{onClose:N})]}),e]})}),v)}},89432:(e,t,n)=>{"use strict";n.d(t,{w:()=>p});var s=n(74848),a=n(96540),o=n(56147),r=n(73566);const{NEW_BADGE:i}=o.A.WORKSHOP.EDIT_BAR,{AUTOGEN_TOUR_CREATED_TITLE:l,AUTOGEN_TOUR_CREATED_MESSAGE:c,AUTOGEN_TOUR_READY_TITLE:u,AUTOGEN_TOUR_READY_MESSAGE:d}=o.A.WORKSHOP.HLR,_={[r.Q7.HLR_AUTOGEN_TOUR_CREATED]:{AnnouncementComponent:(0,a.lazy)((()=>Promise.all([n.e(8893),n.e(654),n.e(8636)]).then(n.bind(n,61055)))),configProps:{icon:"sparkle",badgePhraseKey:i,titlePhraseKey:l,messagePhraseKey:c}},[r.Q7.HLR_AUTOGEN_TOUR_READY]:{AnnouncementComponent:(0,a.lazy)((()=>Promise.all([n.e(8893),n.e(654),n.e(8636)]).then(n.bind(n,61055)))),configProps:{icon:"sparkle",badgePhraseKey:i,titlePhraseKey:u,messagePhraseKey:d,tooltipOptions:{placement:"top",strategy:"absolute"}}}};var E=n(78591);function p({target:e,announcement:t}){if((0,E.C)(t)!==r.zR.OPEN)return null;const{AnnouncementComponent:n,configProps:o}=_[t];return(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(n,Object.assign({},o,{target:e,announcement:t}))})}},61055:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var s=n(74848),a=n(57726),o=n.n(a),r=n(62772),i=n(39869),l=n(95541),c=n(73566),u=n(93137),d=n(9241),_=n(17605),E=n(48270),p=n(15986);const A=o().bind({"tooltip-announcement":"q5xcktN7XgvPfwyRgpCq","tooltip-announcement__badge":"siHReUjP273xbXpoBoaH","tooltip-announcement__tooltip":"_L8eLa4KlK6jX9V3sVS0","tooltip-announcement__title":"wYZtn2IYja94MAOGaUtw","tooltip-announcement__title__text":"nIFge231EkF1zkAUincQ","tooltip-announcement__title__icon":"WWpCq6rJnUrQcOyWkycc","tooltip-announcement__close":"CmHzN7osyvtATTmbcYg7","tooltip-announcement__body":"gk28FTnnVEO6YFixslNC","tooltip-announcement__body__text":"pfrtmlh5BOz_UZUDg2SA"}),R=({icon:e,target:t,announcement:n,titlePhraseKey:a,badgePhraseKey:o,messagePhraseKey:R,tooltipOptions:m={}})=>{const h=(0,i.Y)(),T=(0,l.H)(),S=(0,r.R)(),N={title:h.t(a),message:h.t(R)};o&&(N.badge=h.t(o));const g=(0,s.jsxs)("div",{className:A("tooltip-announcement"),children:[N.badge?(0,s.jsx)("span",{className:A("tooltip-announcement__badge"),children:N.badge}):null,(0,s.jsxs)("div",{className:A("tooltip-announcement__title"),children:[e?(0,s.jsx)(u.I,{name:e,size:d.l.SMALL,className:A("tooltip-announcement__title__icon")}):null,(0,s.jsx)("span",{title:N.title,className:A("tooltip-announcement__title__text"),children:N.title})]}),(0,s.jsx)(_.$,{icon:"close",onClick:()=>{null==S||S.setToolAnnouncementState(n,c.zR.CLOSE)},size:E.M.SMALL,variant:E.A.TERTIARY,className:A("tooltip-announcement__close")}),(0,s.jsx)("div",{className:A("tooltip-announcement__body"),children:(0,s.jsx)("p",{className:A("tooltip-announcement__body__text"),children:N.message})})]});return(0,s.jsx)(p.m,Object.assign({sticky:!0,size:"large",theme:"light",title:g,target:t,trigger:"static",placement:T?"top":"left",className:A("tooltip-announcement__tooltip")},m))}},62772:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var s=n(17904),a=n(71687);function o(){return(0,s.S)(a.uq)}},78591:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var s=n(96540),a=n(73566),o=n(62772);function r(e){const t=(0,o.R)(),[n,r]=(0,s.useState)((()=>{var n;return null!==(n=null==t?void 0:t.getToolAnnouncementState(e))&&void 0!==n?n:a.zR.IDLE}));return(0,s.useEffect)((()=>{if(!t)return;r(t.getToolAnnouncementState(e));const n=t.onToolAnnouncementStateChanged(e,((e,t)=>{r(t)}));return()=>{n.cancel()}}),[t,e]),n}},62311:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var s=n(84710),a=n(64650);class o extends s.B{constructor(){super(...arguments),this.name="tours-generator-view-data",this.stashedTour=null,this.isTourEdited=!1,this.tourStopsAdded=0,this.tourStopsRemoved=0,this.tourStopsUpdated=0,this.acceptanceStatus=a.ei.IDLE}setStashedTour(e){this.stashedTour=e,this.commit()}resetEditStatistics(){this.tourStopsAdded=0,this.tourStopsRemoved=0,this.tourStopsUpdated=0}setAcceptanceStatus(e){this.acceptanceStatus=e,this.commit()}}},28165:(e,t,n)=>{"use strict";n.d(t,{$0:()=>o,C0:()=>d,H$:()=>p,JK:()=>m,OU:()=>A,Vq:()=>_,Ye:()=>i,au:()=>E,cD:()=>R,hd:()=>c,lB:()=>r,nz:()=>u,pH:()=>l});var s=n(64650),a=n(60152);const o="features/autotours-feedback",r=s.pk.SCOUT,i="autotours_template",l="autotours_generate",c={width:480,height:270},u="autotours_pan_angle",d=50,_="autotours_pan_speed",E=a.BU,p="autotours_regen_text",A=!1,R="autotours_defurnish",m=!0},64650:(e,t,n)=>{"use strict";var s,a,o,r;n.d(t,{ei:()=>a,pT:()=>r,pk:()=>s,sA:()=>o}),function(e){e.SCOUT="scout",e.VISION="vision",e.DIGITAL_PRO="digitalpro"}(s||(s={})),function(e){e.IDLE="idle",e.ACCEPTED="accepted",e.DISCARDED="discarded"}(a||(a={})),function(e){e.CANCELED="canceled",e.COMPLETED="completed",e.CONTINUED="continued",e.FAILED="failed",e.RUNNING="running",e.TERMINATED="terminated",e.TIMEOUT="timeout",e.UNKNOWN="unknown"}(o||(o={})),function(e){e.BALCONY="balcony",e.BASEMENT="basement",e.BATHROOM="bathroom",e.BEDROOM="bedroom",e.CLOSET="closet",e.CORRIDOR="corridor",e.DINING="dining",e.DOLLHOUSE="dollhouse",e.DRIVEWAY="driveway",e.ENTRANCE="entrance",e.EXERCISE="exercise",e.FACADE="facade",e.GAME="game",e.GARAGE="garage",e.HALLWAY="hallway",e.KITCHEN="kitchen",e.LAUNDRY="laundry",e.LIVING="living",e.LOBBY="lobby",e.LOFT="loft",e.MIXED="mixed",e.OFFICE="office",e.OTHER="other",e.OUTDOOR="outdoor",e.PANTRY="pantry",e.PATIO="patio",e.POOL="pool",e.STAIRCASE="staircase",e.UNFURNISHED="unfurnished",e.UNKNOWN="unknown",e.UTILITY="utility",e.YARD="yard"}(r||(r={}))},9158:(e,t,n)=>{"use strict";if(n.d(t,{A:()=>o}),5602==n.j)var s=n(68419);if(5602==n.j)var a=n(22213);function o(){const e=(0,s.t)();return e===a.a.GENERATING_TOUR||e===a.a.SAVING_GENERATED_TOUR}},20680:(e,t,n)=>{"use strict";if(n.d(t,{I:()=>o}),5602==n.j)var s=n(71687);if(5602==n.j)var a=n(17904);const o=()=>(0,a.S)(s.Gw)}}]);